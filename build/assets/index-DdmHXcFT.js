function fV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function o0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var uE={exports:{}},ef={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DI;function dV(){if(DI)return ef;DI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return ef.Fragment=e,ef.jsx=t,ef.jsxs=t,ef}var NI;function pV(){return NI||(NI=1,uE.exports=dV()),uE.exports}var U=pV(),cE={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kI;function mV(){if(kI)return Me;kI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),v=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,P={};function F(B,se,ye){this.props=B,this.context=se,this.refs=P,this.updater=ye||w}F.prototype.isReactComponent={},F.prototype.setState=function(B,se){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,se,"setState")},F.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function V(){}V.prototype=F.prototype;function z(B,se,ye){this.props=B,this.context=se,this.refs=P,this.updater=ye||w}var W=z.prototype=new V;W.constructor=z,I(W,F.prototype),W.isPureReactComponent=!0;var $=Array.isArray;function H(){}var N={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function x(B,se,ye){var pe=ye.ref;return{$$typeof:n,type:B,key:se,ref:pe!==void 0?pe:null,props:ye}}function L(B,se){return x(B.type,se,B.props)}function O(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function b(B){var se={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ye){return se[ye]})}var R=/\/+/g;function G(B,se){return typeof B=="object"&&B!==null&&B.key!=null?b(""+B.key):se.toString(36)}function M(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(H,H):(B.status="pending",B.then(function(se){B.status==="pending"&&(B.status="fulfilled",B.value=se)},function(se){B.status==="pending"&&(B.status="rejected",B.reason=se)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function j(B,se,ye,pe,Ce){var De=typeof B;(De==="undefined"||De==="boolean")&&(B=null);var ze=!1;if(B===null)ze=!0;else switch(De){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(B.$$typeof){case n:case e:ze=!0;break;case g:return ze=B._init,j(ze(B._payload),se,ye,pe,Ce)}}if(ze)return Ce=Ce(B),ze=pe===""?"."+G(B,0):pe,$(Ce)?(ye="",ze!=null&&(ye=ze.replace(R,"$&/")+"/"),j(Ce,se,ye,"",function(_s){return _s})):Ce!=null&&(O(Ce)&&(Ce=L(Ce,ye+(Ce.key==null||B&&B.key===Ce.key?"":(""+Ce.key).replace(R,"$&/")+"/")+ze)),se.push(Ce)),1;ze=0;var Mt=pe===""?".":pe+":";if($(B))for(var Et=0;Et<B.length;Et++)pe=B[Et],De=Mt+G(pe,Et),ze+=j(pe,se,ye,De,Ce);else if(Et=S(B),typeof Et=="function")for(B=Et.call(B),Et=0;!(pe=B.next()).done;)pe=pe.value,De=Mt+G(pe,Et++),ze+=j(pe,se,ye,De,Ce);else if(De==="object"){if(typeof B.then=="function")return j(M(B),se,ye,pe,Ce);throw se=String(B),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ze}function X(B,se,ye){if(B==null)return B;var pe=[],Ce=0;return j(B,pe,"","",function(De){return se.call(ye,De,Ce++)}),pe}function ne(B){if(B._status===-1){var se=B._result;se=se(),se.then(function(ye){(B._status===0||B._status===-1)&&(B._status=1,B._result=ye)},function(ye){(B._status===0||B._status===-1)&&(B._status=2,B._result=ye)}),B._status===-1&&(B._status=0,B._result=se)}if(B._status===1)return B._result.default;throw B._result}var be=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},we={map:X,forEach:function(B,se,ye){X(B,function(){se.apply(this,arguments)},ye)},count:function(B){var se=0;return X(B,function(){se++}),se},toArray:function(B){return X(B,function(se){return se})||[]},only:function(B){if(!O(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Me.Activity=_,Me.Children=we,Me.Component=F,Me.Fragment=t,Me.Profiler=s,Me.PureComponent=z,Me.StrictMode=r,Me.Suspense=d,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Me.__COMPILER_RUNTIME={__proto__:null,c:function(B){return N.H.useMemoCache(B)}},Me.cache=function(B){return function(){return B.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(B,se,ye){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var pe=I({},B.props),Ce=B.key;if(se!=null)for(De in se.key!==void 0&&(Ce=""+se.key),se)!C.call(se,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&se.ref===void 0||(pe[De]=se[De]);var De=arguments.length-2;if(De===1)pe.children=ye;else if(1<De){for(var ze=Array(De),Mt=0;Mt<De;Mt++)ze[Mt]=arguments[Mt+2];pe.children=ze}return x(B.type,Ce,pe)},Me.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},Me.createElement=function(B,se,ye){var pe,Ce={},De=null;if(se!=null)for(pe in se.key!==void 0&&(De=""+se.key),se)C.call(se,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Ce[pe]=se[pe]);var ze=arguments.length-2;if(ze===1)Ce.children=ye;else if(1<ze){for(var Mt=Array(ze),Et=0;Et<ze;Et++)Mt[Et]=arguments[Et+2];Ce.children=Mt}if(B&&B.defaultProps)for(pe in ze=B.defaultProps,ze)Ce[pe]===void 0&&(Ce[pe]=ze[pe]);return x(B,De,Ce)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(B){return{$$typeof:h,render:B}},Me.isValidElement=O,Me.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:ne}},Me.memo=function(B,se){return{$$typeof:f,type:B,compare:se===void 0?null:se}},Me.startTransition=function(B){var se=N.T,ye={};N.T=ye;try{var pe=B(),Ce=N.S;Ce!==null&&Ce(ye,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(H,be)}catch(De){be(De)}finally{se!==null&&ye.types!==null&&(se.types=ye.types),N.T=se}},Me.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Me.use=function(B){return N.H.use(B)},Me.useActionState=function(B,se,ye){return N.H.useActionState(B,se,ye)},Me.useCallback=function(B,se){return N.H.useCallback(B,se)},Me.useContext=function(B){return N.H.useContext(B)},Me.useDebugValue=function(){},Me.useDeferredValue=function(B,se){return N.H.useDeferredValue(B,se)},Me.useEffect=function(B,se){return N.H.useEffect(B,se)},Me.useEffectEvent=function(B){return N.H.useEffectEvent(B)},Me.useId=function(){return N.H.useId()},Me.useImperativeHandle=function(B,se,ye){return N.H.useImperativeHandle(B,se,ye)},Me.useInsertionEffect=function(B,se){return N.H.useInsertionEffect(B,se)},Me.useLayoutEffect=function(B,se){return N.H.useLayoutEffect(B,se)},Me.useMemo=function(B,se){return N.H.useMemo(B,se)},Me.useOptimistic=function(B,se){return N.H.useOptimistic(B,se)},Me.useReducer=function(B,se,ye){return N.H.useReducer(B,se,ye)},Me.useRef=function(B){return N.H.useRef(B)},Me.useState=function(B){return N.H.useState(B)},Me.useSyncExternalStore=function(B,se,ye){return N.H.useSyncExternalStore(B,se,ye)},Me.useTransition=function(){return N.H.useTransition()},Me.version="19.2.0",Me}var MI;function yo(){return MI||(MI=1,cE.exports=mV()),cE.exports}var Q=yo();const Je=o0(Q),XE=fV({__proto__:null,default:Je},[Q]);var hE={exports:{}},tf={},fE={exports:{}},dE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VI;function gV(){return VI||(VI=1,(function(n){function e(j,X){var ne=j.length;j.push(X);e:for(;0<ne;){var be=ne-1>>>1,we=j[be];if(0<s(we,X))j[be]=X,j[ne]=we,ne=be;else break e}}function t(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var X=j[0],ne=j.pop();if(ne!==X){j[0]=ne;e:for(var be=0,we=j.length,B=we>>>1;be<B;){var se=2*(be+1)-1,ye=j[se],pe=se+1,Ce=j[pe];if(0>s(ye,ne))pe<we&&0>s(Ce,ye)?(j[be]=Ce,j[pe]=ne,be=pe):(j[be]=ye,j[se]=ne,be=se);else if(pe<we&&0>s(Ce,ne))j[be]=Ce,j[pe]=ne,be=pe;else break e}}return X}function s(j,X){var ne=j.sortIndex-X.sortIndex;return ne!==0?ne:j.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],f=[],g=1,_=null,v=3,S=!1,w=!1,I=!1,P=!1,F=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function W(j){for(var X=t(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=j)r(f),X.sortIndex=X.expirationTime,e(d,X);else break;X=t(f)}}function $(j){if(I=!1,W(j),!w)if(t(d)!==null)w=!0,H||(H=!0,b());else{var X=t(f);X!==null&&M($,X.startTime-j)}}var H=!1,N=-1,C=5,x=-1;function L(){return P?!0:!(n.unstable_now()-x<C)}function O(){if(P=!1,H){var j=n.unstable_now();x=j;var X=!0;try{e:{w=!1,I&&(I=!1,V(N),N=-1),S=!0;var ne=v;try{t:{for(W(j),_=t(d);_!==null&&!(_.expirationTime>j&&L());){var be=_.callback;if(typeof be=="function"){_.callback=null,v=_.priorityLevel;var we=be(_.expirationTime<=j);if(j=n.unstable_now(),typeof we=="function"){_.callback=we,W(j),X=!0;break t}_===t(d)&&r(d),W(j)}else r(d);_=t(d)}if(_!==null)X=!0;else{var B=t(f);B!==null&&M($,B.startTime-j),X=!1}}break e}finally{_=null,v=ne,S=!1}X=void 0}}finally{X?b():H=!1}}}var b;if(typeof z=="function")b=function(){z(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,G=R.port2;R.port1.onmessage=O,b=function(){G.postMessage(null)}}else b=function(){F(O,0)};function M(j,X){N=F(function(){j(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(j){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var ne=v;v=X;try{return j()}finally{v=ne}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(j,X){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ne=v;v=j;try{return X()}finally{v=ne}},n.unstable_scheduleCallback=function(j,X,ne){var be=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?be+ne:be):ne=be,j){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ne+we,j={id:g++,callback:X,priorityLevel:j,startTime:ne,expirationTime:we,sortIndex:-1},ne>be?(j.sortIndex=ne,e(f,j),t(d)===null&&j===t(f)&&(I?(V(N),N=-1):I=!0,M($,ne-be))):(j.sortIndex=we,e(d,j),w||S||(w=!0,H||(H=!0,b()))),j},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(j){var X=v;return function(){var ne=v;v=X;try{return j.apply(this,arguments)}finally{v=ne}}}})(dE)),dE}var LI;function yV(){return LI||(LI=1,fE.exports=gV()),fE.exports}var pE={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI;function _V(){if(UI)return zn;UI=1;var n=yo();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,f,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:d,containerInfo:f,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},zn.flushSync=function(d){var f=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=f,r.p=g,r.d.f()}},zn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},zn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},zn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:S}):g==="script"&&r.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},zn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},zn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},zn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},zn.requestFormReset=function(d){r.d.r(d)},zn.unstable_batchedUpdates=function(d,f){return d(f)},zn.useFormState=function(d,f,g){return u.H.useFormState(d,f,g)},zn.useFormStatus=function(){return u.H.useHostTransitionStatus()},zn.version="19.2.0",zn}var FI;function vV(){if(FI)return pE.exports;FI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pE.exports=_V(),pE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BI;function EV(){if(BI)return tf;BI=1;var n=yV(),e=yo(),t=vV();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return d(m),i;if(y===c)return d(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var T=!1,D=m.child;D;){if(D===l){T=!0,l=m,c=y;break}if(D===c){T=!0,c=m,l=y;break}D=D.sibling}if(!T){for(D=y.child;D;){if(D===l){T=!0,l=y,c=m;break}if(D===c){T=!0,c=y,l=m;break}D=D.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),z=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function b(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function G(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case F:return"Profiler";case P:return"StrictMode";case $:return"Suspense";case H:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case z:return i.displayName||"Context";case V:return(i._context.displayName||"Context")+".Consumer";case W:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return a=i.displayName||null,a!==null?a:G(i.type)||"Memo";case C:a=i._payload,i=i._init;try{return G(i(a))}catch{}}return null}var M=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},be=[],we=-1;function B(i){return{current:i}}function se(i){0>we||(i.current=be[we],be[we]=null,we--)}function ye(i,a){we++,be[we]=i.current,i.current=a}var pe=B(null),Ce=B(null),De=B(null),ze=B(null);function Mt(i,a){switch(ye(De,a),ye(Ce,i),ye(pe,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?tI(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=tI(a),i=nI(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}se(pe),ye(pe,i)}function Et(){se(pe),se(Ce),se(De)}function _s(i){i.memoizedState!==null&&ye(ze,i);var a=pe.current,l=nI(a,i.type);a!==l&&(ye(Ce,i),ye(pe,l))}function vs(i){Ce.current===i&&(se(pe),se(Ce)),ze.current===i&&(se(ze),Yh._currentValue=ne)}var Fr,Qn;function sr(i){if(Fr===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Fr=a&&a[1]||"",Qn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+i+Qn}var Io=!1;function Es(i,a){if(!i||Io)return"";Io=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(le){var re=le}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(le){re=le}i.call(fe.prototype)}}else{try{throw Error()}catch(le){re=le}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(le){if(le&&re&&typeof le.stack=="string")return[le.stack,re.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],D=y[1];if(T&&D){var q=T.split(`
`),te=D.split(`
`);for(m=c=0;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;for(;m<te.length&&!te[m].includes("DetermineComponentFrameRoot");)m++;if(c===q.length||m===te.length)for(c=q.length-1,m=te.length-1;1<=c&&0<=m&&q[c]!==te[m];)m--;for(;1<=c&&0<=m;c--,m--)if(q[c]!==te[m]){if(c!==1||m!==1)do if(c--,m--,0>m||q[c]!==te[m]){var ue=`
`+q[c].replace(" at new "," at ");return i.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",i.displayName)),ue}while(1<=c&&0<=m);break}}}finally{Io=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?sr(l):""}function Ro(i,a){switch(i.tag){case 26:case 27:case 5:return sr(i.type);case 16:return sr("Lazy");case 13:return i.child!==a&&a!==null?sr("Suspense Fallback"):sr("Suspense");case 19:return sr("SuspenseList");case 0:case 15:return Es(i.type,!1);case 11:return Es(i.type.render,!1);case 1:return Es(i.type,!0);case 31:return sr("Activity");default:return""}}function Co(i){try{var a="",l=null;do a+=Ro(i,l),l=i,i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ft=Object.prototype.hasOwnProperty,Bt=n.unstable_scheduleCallback,Qe=n.unstable_cancelCallback,bt=n.unstable_shouldYield,Fn=n.unstable_requestPaint,nn=n.unstable_now,ar=n.unstable_getCurrentPriorityLevel,Br=n.unstable_ImmediatePriority,Yn=n.unstable_UserBlockingPriority,Bn=n.unstable_NormalPriority,xo=n.unstable_LowPriority,sp=n.unstable_IdlePriority,ap=n.log,op=n.unstable_setDisableYieldValue,ai=null,xn=null;function zr(i){if(typeof ap=="function"&&op(i),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(ai,i)}catch{}}var Wt=Math.clz32?Math.clz32:up,lp=Math.log,Kl=Math.LN2;function up(i){return i>>>=0,i===0?32:31-(lp(i)/Kl|0)|0}var Ri=256,Po=262144,rn=4194304;function Ci(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function xi(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var D=c&134217727;return D!==0?(c=D&~y,c!==0?m=Ci(c):(T&=D,T!==0?m=Ci(T):l||(l=D&~i,l!==0&&(m=Ci(l))))):(D=c&~y,D!==0?m=Ci(D):T!==0?m=Ci(T):l||(l=c&~i,l!==0&&(m=Ci(l)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:m}function oi(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function d_(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cp(){var i=rn;return rn<<=1,(rn&62914560)===0&&(rn=4194304),i}function Pi(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Oo(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function p_(i,a,l,c,m,y){var T=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var D=i.entanglements,q=i.expirationTimes,te=i.hiddenUpdates;for(l=T&~l;0<l;){var ue=31-Wt(l),fe=1<<ue;D[ue]=0,q[ue]=-1;var re=te[ue];if(re!==null)for(te[ue]=null,ue=0;ue<re.length;ue++){var le=re[ue];le!==null&&(le.lane&=-536870913)}l&=~fe}c!==0&&Do(i,c,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(T&~a))}function Do(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-Wt(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function th(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-Wt(l),m=1<<c;m&a|i[c]&a&&(i[c]|=a),l&=~m}}function nh(i,a){var l=a&-a;return l=(l&42)!==0?1:No(l),(l&(i.suspendedLanes|a))!==0?0:l}function No(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function bs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function hp(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:AI(i.type))}function li(i,a){var l=X.p;try{return X.p=i,a()}finally{X.p=l}}var ui=Math.random().toString(36).slice(2),sn="__reactFiber$"+ui,Tn="__reactProps$"+ui,Oi="__reactContainer$"+ui,Wl="__reactEvents$"+ui,m_="__reactListeners$"+ui,fp="__reactHandles$"+ui,dp="__reactResources$"+ui,Di="__reactMarker$"+ui;function Ql(i){delete i[sn],delete i[Tn],delete i[Wl],delete i[m_],delete i[fp]}function Ni(i){var a=i[sn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Oi]||l[sn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=uI(i);i!==null;){if(l=i[sn])return l;i=uI(i)}return a}i=l,l=i.parentNode}return null}function jr(i){if(i=i[sn]||i[Oi]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function br(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ki(i){var a=i[dp];return a||(a=i[dp]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function an(i){i[Di]=!0}var rh=new Set,ih={};function Mi(i,a){Vi(i,a),Vi(i+"Capture",a)}function Vi(i,a){for(ih[i]=a,i=0;i<a.length;i++)rh.add(a[i])}var sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ah={},oh={};function pp(i){return Ft.call(oh,i)?!0:Ft.call(ah,i)?!1:sh.test(i)?oh[i]=!0:(ah[i]=!0,!1)}function Yl(i,a,l){if(pp(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Tr(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function on(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}function wn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ua(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function lh(i,a,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(T){l=""+T,y.call(this,T)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ot(i){if(!i._valueTracker){var a=ua(i)?"checked":"value";i._valueTracker=lh(i,a,""+i[a])}}function ko(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=ua(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Li(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Mo=/[\n"\\]/g;function or(i){return i.replace(Mo,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Xl(i,a,l,c,m,y,T,D){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),a!=null?T==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+wn(a)):i.value!==""+wn(a)&&(i.value=""+wn(a)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),a!=null?uh(i,T,wn(a)):l!=null?uh(i,T,wn(l)):c!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+wn(D):i.removeAttribute("name")}function mp(i,a,l,c,m,y,T,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){ot(i);return}l=l!=null?""+wn(l):"",a=a!=null?""+wn(a):l,D||a===i.value||(i.value=a),i.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=D?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),ot(i)}function uh(i,a,l){a==="number"&&Li(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ca(i,a,l,c){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+wn(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function gp(i,a,l){if(a!=null&&(a=""+wn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+wn(l):""}function ha(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(M(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=wn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),ot(i)}function lr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var yp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ch(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||yp.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function hh(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&ch(i,m,c)}else for(var y in a)a.hasOwnProperty(y)&&ch(i,y,a[y])}function Jl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _p=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zl(i){return fa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ci(){}var fh=null;function qr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var da=null,Ui=null;function Vo(i){var a=jr(i);if(a&&(i=a.stateNode)){var l=i[Tn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Xl(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+or(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var m=c[Tn]||null;if(!m)throw Error(r(90));Xl(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&ko(c)}break e;case"textarea":gp(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ca(i,!!l.multiple,a,!1)}}}var eu=!1;function pa(i,a,l){if(eu)return i(a,l);eu=!0;try{var c=i(a);return c}finally{if(eu=!1,(da!==null||Ui!==null)&&(hm(),da&&(a=da,i=Ui,Ui=da=null,Vo(a),i)))for(a=0;a<i.length;a++)Vo(i[a])}}function hi(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Tn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lo=!1;if(Hr)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{Lo=!1}var Fi=null,dh=null,Uo=null;function ph(){if(Uo)return Uo;var i,a=dh,l=a.length,c,m="value"in Fi?Fi.value:Fi.textContent,y=m.length;for(i=0;i<l&&a[i]===m[i];i++);var T=l-i;for(c=1;c<=T&&a[l-c]===m[y-c];c++);return Uo=m.slice(i,1<c?1-c:void 0)}function Fo(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ts(){return!0}function fi(){return!1}function Pn(i){function a(l,c,m,y,T){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ts:fi,this.isPropagationStopped=fi,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),a}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Pn(ws),ma=_({},ws,{view:0,detail:0}),mh=Pn(ma),ga,tu,zi,nu=_({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zi&&(zi&&i.type==="mousemove"?(ga=i.screenX-zi.screenX,tu=i.screenY-zi.screenY):tu=ga=0,zi=i),ga)},movementY:function(i){return"movementY"in i?i.movementY:tu}}),gh=Pn(nu),Bo=_({},nu,{dataTransfer:0}),vp=Pn(Bo),Ep=_({},ma,{relatedTarget:0}),zo=Pn(Ep),yh=_({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),bp=Pn(yh),ru=_({},ws,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Tp=Pn(ru),wp=_({},ws,{data:0}),ji=Pn(wp),Sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rp(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Ip[i])?!!a[i]:!1}function ya(){return Rp}var Xn=_({},ma,{key:function(i){if(i.key){var a=Sp[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Fo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ap[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(i){return i.type==="keypress"?Fo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Cp=Pn(Xn),xp=_({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ss=Pn(xp),p=_({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),E=Pn(p),A=_({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=Pn(A),Z=_({},nu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=Pn(Z),_e=_({},ws,{newState:0,oldState:0}),Ve=Pn(_e),Qt=[9,13,27,32],nt=Hr&&"CompositionEvent"in window,Rt=null;Hr&&"documentMode"in document&&(Rt=document.documentMode);var $r=Hr&&"TextEvent"in window&&!Rt,qi=Hr&&(!nt||Rt&&8<Rt&&11>=Rt),di=" ",pi=!1;function jo(i,a){switch(i){case"keyup":return Qt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iu(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var su=!1;function Vk(i,a){switch(i){case"compositionend":return iu(a);case"keypress":return a.which!==32?null:(pi=!0,di);case"textInput":return i=a.data,i===di&&pi?null:i;default:return null}}function Lk(i,a){if(su)return i==="compositionend"||!nt&&jo(i,a)?(i=ph(),Uo=dh=Fi=null,su=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qi&&a.locale!=="ko"?null:a.data;default:return null}}var Uk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fw(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Uk[i.type]:a==="textarea"}function dw(i,a,l,c){da?Ui?Ui.push(c):Ui=[c]:da=c,a=_m(a,"onChange"),0<a.length&&(l=new Bi("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var _h=null,vh=null;function Fk(i){QA(i,0)}function Pp(i){var a=br(i);if(ko(a))return i}function pw(i,a){if(i==="change")return a}var mw=!1;if(Hr){var g_;if(Hr){var y_="oninput"in document;if(!y_){var gw=document.createElement("div");gw.setAttribute("oninput","return;"),y_=typeof gw.oninput=="function"}g_=y_}else g_=!1;mw=g_&&(!document.documentMode||9<document.documentMode)}function yw(){_h&&(_h.detachEvent("onpropertychange",_w),vh=_h=null)}function _w(i){if(i.propertyName==="value"&&Pp(vh)){var a=[];dw(a,vh,i,qr(i)),pa(Fk,a)}}function Bk(i,a,l){i==="focusin"?(yw(),_h=a,vh=l,_h.attachEvent("onpropertychange",_w)):i==="focusout"&&yw()}function zk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pp(vh)}function jk(i,a){if(i==="click")return Pp(a)}function qk(i,a){if(i==="input"||i==="change")return Pp(a)}function Hk(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var wr=typeof Object.is=="function"?Object.is:Hk;function Eh(i,a){if(wr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Ft.call(a,m)||!wr(i[m],a[m]))return!1}return!0}function vw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ew(i,a){var l=vw(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=vw(l)}}function bw(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?bw(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Tw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Li(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Li(i.document)}return a}function __(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var $k=Hr&&"documentMode"in document&&11>=document.documentMode,au=null,v_=null,bh=null,E_=!1;function ww(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;E_||au==null||au!==Li(c)||(c=au,"selectionStart"in c&&__(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bh&&Eh(bh,c)||(bh=c,c=_m(v_,"onSelect"),0<c.length&&(a=new Bi("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=au)))}function qo(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var ou={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionrun:qo("Transition","TransitionRun"),transitionstart:qo("Transition","TransitionStart"),transitioncancel:qo("Transition","TransitionCancel"),transitionend:qo("Transition","TransitionEnd")},b_={},Sw={};Hr&&(Sw=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function Ho(i){if(b_[i])return b_[i];if(!ou[i])return i;var a=ou[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Sw)return b_[i]=a[l];return i}var Aw=Ho("animationend"),Iw=Ho("animationiteration"),Rw=Ho("animationstart"),Gk=Ho("transitionrun"),Kk=Ho("transitionstart"),Wk=Ho("transitioncancel"),Cw=Ho("transitionend"),xw=new Map,T_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");T_.push("scrollEnd");function mi(i,a){xw.set(i,a),Mi(a,[i])}var Op=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Gr=[],lu=0,w_=0;function Dp(){for(var i=lu,a=w_=lu=0;a<i;){var l=Gr[a];Gr[a++]=null;var c=Gr[a];Gr[a++]=null;var m=Gr[a];Gr[a++]=null;var y=Gr[a];if(Gr[a++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}y!==0&&Pw(l,m,y)}}function Np(i,a,l,c){Gr[lu++]=i,Gr[lu++]=a,Gr[lu++]=l,Gr[lu++]=c,w_|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function S_(i,a,l,c){return Np(i,a,l,c),kp(i)}function $o(i,a){return Np(i,null,null,a),kp(i)}function Pw(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&a!==null&&(m=31-Wt(l),i=y.hiddenUpdates,c=i[m],c===null?i[m]=[a]:c.push(a),a.lane=l|536870912),y):null}function kp(i){if(50<qh)throw qh=0,Nv=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var uu={};function Qk(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(i,a,l,c){return new Qk(i,a,l,c)}function A_(i){return i=i.prototype,!(!i||!i.isReactComponent)}function As(i,a){var l=i.alternate;return l===null?(l=Sr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Ow(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Mp(i,a,l,c,m,y){var T=0;if(c=i,typeof i=="function")A_(i)&&(T=1);else if(typeof i=="string")T=eV(i,l,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case x:return i=Sr(31,l,a,m),i.elementType=x,i.lanes=y,i;case I:return Go(l.children,m,y,a);case P:T=8,m|=24;break;case F:return i=Sr(12,l,a,m|2),i.elementType=F,i.lanes=y,i;case $:return i=Sr(13,l,a,m),i.elementType=$,i.lanes=y,i;case H:return i=Sr(19,l,a,m),i.elementType=H,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:T=10;break e;case V:T=9;break e;case W:T=11;break e;case N:T=14;break e;case C:T=16,c=null;break e}T=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Sr(T,l,a,m),a.elementType=i,a.type=c,a.lanes=y,a}function Go(i,a,l,c){return i=Sr(7,i,c,a),i.lanes=l,i}function I_(i,a,l){return i=Sr(6,i,null,a),i.lanes=l,i}function Dw(i){var a=Sr(18,null,null,0);return a.stateNode=i,a}function R_(i,a,l){return a=Sr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Nw=new WeakMap;function Kr(i,a){if(typeof i=="object"&&i!==null){var l=Nw.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Co(a)},Nw.set(i,a),a)}return{value:i,source:a,stack:Co(a)}}var cu=[],hu=0,Vp=null,Th=0,Wr=[],Qr=0,_a=null,Hi=1,$i="";function Is(i,a){cu[hu++]=Th,cu[hu++]=Vp,Vp=i,Th=a}function kw(i,a,l){Wr[Qr++]=Hi,Wr[Qr++]=$i,Wr[Qr++]=_a,_a=i;var c=Hi;i=$i;var m=32-Wt(c)-1;c&=~(1<<m),l+=1;var y=32-Wt(a)+m;if(30<y){var T=m-m%5;y=(c&(1<<T)-1).toString(32),c>>=T,m-=T,Hi=1<<32-Wt(a)+m|l<<m|c,$i=y+i}else Hi=1<<y|l<<m|c,$i=i}function C_(i){i.return!==null&&(Is(i,1),kw(i,1,0))}function x_(i){for(;i===Vp;)Vp=cu[--hu],cu[hu]=null,Th=cu[--hu],cu[hu]=null;for(;i===_a;)_a=Wr[--Qr],Wr[Qr]=null,$i=Wr[--Qr],Wr[Qr]=null,Hi=Wr[--Qr],Wr[Qr]=null}function Mw(i,a){Wr[Qr++]=Hi,Wr[Qr++]=$i,Wr[Qr++]=_a,Hi=a.id,$i=a.overflow,_a=i}var On=null,St=null,Ye=!1,va=null,Yr=!1,P_=Error(r(519));function Ea(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wh(Kr(a,i)),P_}function Vw(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[sn]=i,a[Tn]=c,l){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(l=0;l<$h.length;l++)qe($h[l],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":qe("invalid",a),mp(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":qe("invalid",a);break;case"textarea":qe("invalid",a),ha(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||ZA(a.textContent,l)?(c.popover!=null&&(qe("beforetoggle",a),qe("toggle",a)),c.onScroll!=null&&qe("scroll",a),c.onScrollEnd!=null&&qe("scrollend",a),c.onClick!=null&&(a.onclick=ci),a=!0):a=!1,a||Ea(i,!0)}function Lw(i){for(On=i.return;On;)switch(On.tag){case 5:case 31:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:On=On.return}}function fu(i){if(i!==On)return!1;if(!Ye)return Lw(i),Ye=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Wv(i.type,i.memoizedProps)),l=!l),l&&St&&Ea(i),Lw(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));St=lI(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));St=lI(i)}else a===27?(a=St,ka(i.type)?(i=Zv,Zv=null,St=i):St=a):St=On?Jr(i.stateNode.nextSibling):null;return!0}function Ko(){St=On=null,Ye=!1}function O_(){var i=va;return i!==null&&(fr===null?fr=i:fr.push.apply(fr,i),va=null),i}function wh(i){va===null?va=[i]:va.push(i)}var D_=B(null),Wo=null,Rs=null;function ba(i,a,l){ye(D_,a._currentValue),a._currentValue=l}function Cs(i){i._currentValue=D_.current,se(D_)}function N_(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function k_(i,a,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=m;for(var q=0;q<a.length;q++)if(D.context===a[q]){y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),N_(y.return,l,i),c||(T=null);break e}y=D.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(r(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),N_(T,l,i),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===i){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function du(i,a,l,c){i=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var D=m.type;wr(m.pendingProps.value,T.value)||(i!==null?i.push(D):i=[D])}}else if(m===ze.current){if(T=m.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Yh):i=[Yh])}m=m.return}i!==null&&k_(a,i,l,c),a.flags|=262144}function Lp(i){for(i=i.firstContext;i!==null;){if(!wr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Qo(i){Wo=i,Rs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Dn(i){return Uw(Wo,i)}function Up(i,a){return Wo===null&&Qo(i),Uw(i,a)}function Uw(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Rs===null){if(i===null)throw Error(r(308));Rs=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Rs=Rs.next=a;return l}var Yk=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},Xk=n.unstable_scheduleCallback,Jk=n.unstable_NormalPriority,ln={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function M_(){return{controller:new Yk,data:new Map,refCount:0}}function Sh(i){i.refCount--,i.refCount===0&&Xk(Jk,function(){i.controller.abort()})}var Ah=null,V_=0,pu=0,mu=null;function Zk(i,a){if(Ah===null){var l=Ah=[];V_=0,pu=Fv(),mu={status:"pending",value:void 0,then:function(c){l.push(c)}}}return V_++,a.then(Fw,Fw),a}function Fw(){if(--V_===0&&Ah!==null){mu!==null&&(mu.status="fulfilled");var i=Ah;Ah=null,pu=0,mu=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function eM(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var Bw=j.S;j.S=function(i,a){wA=nn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Zk(i,a),Bw!==null&&Bw(i,a)};var Yo=B(null);function L_(){var i=Yo.current;return i!==null?i:vt.pooledCache}function Fp(i,a){a===null?ye(Yo,Yo.current):ye(Yo,a.pool)}function zw(){var i=L_();return i===null?null:{parent:ln._currentValue,pool:i}}var gu=Error(r(460)),U_=Error(r(474)),Bp=Error(r(542)),zp={then:function(){}};function jw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qw(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(ci,ci),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,$w(i),i;default:if(typeof a.status=="string")a.then(ci,ci);else{if(i=vt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,$w(i),i}throw Jo=a,gu}}function Xo(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Jo=l,gu):l}}var Jo=null;function Hw(){if(Jo===null)throw Error(r(459));var i=Jo;return Jo=null,i}function $w(i){if(i===gu||i===Bp)throw Error(r(483))}var yu=null,Ih=0;function jp(i){var a=Ih;return Ih+=1,yu===null&&(yu=[]),qw(yu,i,a)}function Rh(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function qp(i,a){throw a.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Gw(i){function a(Y,K){if(i){var ee=Y.deletions;ee===null?(Y.deletions=[K],Y.flags|=16):ee.push(K)}}function l(Y,K){if(!i)return null;for(;K!==null;)a(Y,K),K=K.sibling;return null}function c(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function m(Y,K){return Y=As(Y,K),Y.index=0,Y.sibling=null,Y}function y(Y,K,ee){return Y.index=ee,i?(ee=Y.alternate,ee!==null?(ee=ee.index,ee<K?(Y.flags|=67108866,K):ee):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function T(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function D(Y,K,ee,he){return K===null||K.tag!==6?(K=I_(ee,Y.mode,he),K.return=Y,K):(K=m(K,ee),K.return=Y,K)}function q(Y,K,ee,he){var xe=ee.type;return xe===I?ue(Y,K,ee.props.children,he,ee.key):K!==null&&(K.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===C&&Xo(xe)===K.type)?(K=m(K,ee.props),Rh(K,ee),K.return=Y,K):(K=Mp(ee.type,ee.key,ee.props,null,Y.mode,he),Rh(K,ee),K.return=Y,K)}function te(Y,K,ee,he){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=R_(ee,Y.mode,he),K.return=Y,K):(K=m(K,ee.children||[]),K.return=Y,K)}function ue(Y,K,ee,he,xe){return K===null||K.tag!==7?(K=Go(ee,Y.mode,he,xe),K.return=Y,K):(K=m(K,ee),K.return=Y,K)}function fe(Y,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=I_(""+K,Y.mode,ee),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return ee=Mp(K.type,K.key,K.props,null,Y.mode,ee),Rh(ee,K),ee.return=Y,ee;case w:return K=R_(K,Y.mode,ee),K.return=Y,K;case C:return K=Xo(K),fe(Y,K,ee)}if(M(K)||b(K))return K=Go(K,Y.mode,ee,null),K.return=Y,K;if(typeof K.then=="function")return fe(Y,jp(K),ee);if(K.$$typeof===z)return fe(Y,Up(Y,K),ee);qp(Y,K)}return null}function re(Y,K,ee,he){var xe=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return xe!==null?null:D(Y,K,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return ee.key===xe?q(Y,K,ee,he):null;case w:return ee.key===xe?te(Y,K,ee,he):null;case C:return ee=Xo(ee),re(Y,K,ee,he)}if(M(ee)||b(ee))return xe!==null?null:ue(Y,K,ee,he,null);if(typeof ee.then=="function")return re(Y,K,jp(ee),he);if(ee.$$typeof===z)return re(Y,K,Up(Y,ee),he);qp(Y,ee)}return null}function le(Y,K,ee,he,xe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Y=Y.get(ee)||null,D(K,Y,""+he,xe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case S:return Y=Y.get(he.key===null?ee:he.key)||null,q(K,Y,he,xe);case w:return Y=Y.get(he.key===null?ee:he.key)||null,te(K,Y,he,xe);case C:return he=Xo(he),le(Y,K,ee,he,xe)}if(M(he)||b(he))return Y=Y.get(ee)||null,ue(K,Y,he,xe,null);if(typeof he.then=="function")return le(Y,K,ee,jp(he),xe);if(he.$$typeof===z)return le(Y,K,ee,Up(K,he),xe);qp(K,he)}return null}function Se(Y,K,ee,he){for(var xe=null,Ze=null,Ie=K,Be=K=0,Ke=null;Ie!==null&&Be<ee.length;Be++){Ie.index>Be?(Ke=Ie,Ie=null):Ke=Ie.sibling;var et=re(Y,Ie,ee[Be],he);if(et===null){Ie===null&&(Ie=Ke);break}i&&Ie&&et.alternate===null&&a(Y,Ie),K=y(et,K,Be),Ze===null?xe=et:Ze.sibling=et,Ze=et,Ie=Ke}if(Be===ee.length)return l(Y,Ie),Ye&&Is(Y,Be),xe;if(Ie===null){for(;Be<ee.length;Be++)Ie=fe(Y,ee[Be],he),Ie!==null&&(K=y(Ie,K,Be),Ze===null?xe=Ie:Ze.sibling=Ie,Ze=Ie);return Ye&&Is(Y,Be),xe}for(Ie=c(Ie);Be<ee.length;Be++)Ke=le(Ie,Y,Be,ee[Be],he),Ke!==null&&(i&&Ke.alternate!==null&&Ie.delete(Ke.key===null?Be:Ke.key),K=y(Ke,K,Be),Ze===null?xe=Ke:Ze.sibling=Ke,Ze=Ke);return i&&Ie.forEach(function(Fa){return a(Y,Fa)}),Ye&&Is(Y,Be),xe}function Oe(Y,K,ee,he){if(ee==null)throw Error(r(151));for(var xe=null,Ze=null,Ie=K,Be=K=0,Ke=null,et=ee.next();Ie!==null&&!et.done;Be++,et=ee.next()){Ie.index>Be?(Ke=Ie,Ie=null):Ke=Ie.sibling;var Fa=re(Y,Ie,et.value,he);if(Fa===null){Ie===null&&(Ie=Ke);break}i&&Ie&&Fa.alternate===null&&a(Y,Ie),K=y(Fa,K,Be),Ze===null?xe=Fa:Ze.sibling=Fa,Ze=Fa,Ie=Ke}if(et.done)return l(Y,Ie),Ye&&Is(Y,Be),xe;if(Ie===null){for(;!et.done;Be++,et=ee.next())et=fe(Y,et.value,he),et!==null&&(K=y(et,K,Be),Ze===null?xe=et:Ze.sibling=et,Ze=et);return Ye&&Is(Y,Be),xe}for(Ie=c(Ie);!et.done;Be++,et=ee.next())et=le(Ie,Y,Be,et.value,he),et!==null&&(i&&et.alternate!==null&&Ie.delete(et.key===null?Be:et.key),K=y(et,K,Be),Ze===null?xe=et:Ze.sibling=et,Ze=et);return i&&Ie.forEach(function(hV){return a(Y,hV)}),Ye&&Is(Y,Be),xe}function yt(Y,K,ee,he){if(typeof ee=="object"&&ee!==null&&ee.type===I&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:e:{for(var xe=ee.key;K!==null;){if(K.key===xe){if(xe=ee.type,xe===I){if(K.tag===7){l(Y,K.sibling),he=m(K,ee.props.children),he.return=Y,Y=he;break e}}else if(K.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===C&&Xo(xe)===K.type){l(Y,K.sibling),he=m(K,ee.props),Rh(he,ee),he.return=Y,Y=he;break e}l(Y,K);break}else a(Y,K);K=K.sibling}ee.type===I?(he=Go(ee.props.children,Y.mode,he,ee.key),he.return=Y,Y=he):(he=Mp(ee.type,ee.key,ee.props,null,Y.mode,he),Rh(he,ee),he.return=Y,Y=he)}return T(Y);case w:e:{for(xe=ee.key;K!==null;){if(K.key===xe)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){l(Y,K.sibling),he=m(K,ee.children||[]),he.return=Y,Y=he;break e}else{l(Y,K);break}else a(Y,K);K=K.sibling}he=R_(ee,Y.mode,he),he.return=Y,Y=he}return T(Y);case C:return ee=Xo(ee),yt(Y,K,ee,he)}if(M(ee))return Se(Y,K,ee,he);if(b(ee)){if(xe=b(ee),typeof xe!="function")throw Error(r(150));return ee=xe.call(ee),Oe(Y,K,ee,he)}if(typeof ee.then=="function")return yt(Y,K,jp(ee),he);if(ee.$$typeof===z)return yt(Y,K,Up(Y,ee),he);qp(Y,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,K!==null&&K.tag===6?(l(Y,K.sibling),he=m(K,ee),he.return=Y,Y=he):(l(Y,K),he=I_(ee,Y.mode,he),he.return=Y,Y=he),T(Y)):l(Y,K)}return function(Y,K,ee,he){try{Ih=0;var xe=yt(Y,K,ee,he);return yu=null,xe}catch(Ie){if(Ie===gu||Ie===Bp)throw Ie;var Ze=Sr(29,Ie,null,Y.mode);return Ze.lanes=he,Ze.return=Y,Ze}finally{}}}var Zo=Gw(!0),Kw=Gw(!1),Ta=!1;function F_(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function B_(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function wa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Sa(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=kp(i),Pw(i,null,l),a}return Np(i,c,a,l),kp(i)}function Ch(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,th(i,l)}}function z_(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var j_=!1;function xh(){if(j_){var i=mu;if(i!==null)throw i}}function Ph(i,a,l,c){j_=!1;var m=i.updateQueue;Ta=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var q=D,te=q.next;q.next=null,T===null?y=te:T.next=te,T=q;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,D=ue.lastBaseUpdate,D!==T&&(D===null?ue.firstBaseUpdate=te:D.next=te,ue.lastBaseUpdate=q))}if(y!==null){var fe=m.baseState;T=0,ue=te=q=null,D=y;do{var re=D.lane&-536870913,le=re!==D.lane;if(le?(Ge&re)===re:(c&re)===re){re!==0&&re===pu&&(j_=!0),ue!==null&&(ue=ue.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Se=i,Oe=D;re=a;var yt=l;switch(Oe.tag){case 1:if(Se=Oe.payload,typeof Se=="function"){fe=Se.call(yt,fe,re);break e}fe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Oe.payload,re=typeof Se=="function"?Se.call(yt,fe,re):Se,re==null)break e;fe=_({},fe,re);break e;case 2:Ta=!0}}re=D.callback,re!==null&&(i.flags|=64,le&&(i.flags|=8192),le=m.callbacks,le===null?m.callbacks=[re]:le.push(re))}else le={lane:re,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ue===null?(te=ue=le,q=fe):ue=ue.next=le,T|=re;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;le=D,D=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);ue===null&&(q=fe),m.baseState=q,m.firstBaseUpdate=te,m.lastBaseUpdate=ue,y===null&&(m.shared.lanes=0),xa|=T,i.lanes=T,i.memoizedState=fe}}function Ww(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Qw(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Ww(l[i],a)}var _u=B(null),Hp=B(0);function Yw(i,a){i=Ls,ye(Hp,i),ye(_u,a),Ls=i|a.baseLanes}function q_(){ye(Hp,Ls),ye(_u,_u.current)}function H_(){Ls=Hp.current,se(_u),se(Hp)}var Ar=B(null),Xr=null;function Aa(i){var a=i.alternate;ye(Yt,Yt.current&1),ye(Ar,i),Xr===null&&(a===null||_u.current!==null||a.memoizedState!==null)&&(Xr=i)}function $_(i){ye(Yt,Yt.current),ye(Ar,i),Xr===null&&(Xr=i)}function Xw(i){i.tag===22?(ye(Yt,Yt.current),ye(Ar,i),Xr===null&&(Xr=i)):Ia()}function Ia(){ye(Yt,Yt.current),ye(Ar,Ar.current)}function Ir(i){se(Ar),Xr===i&&(Xr=null),se(Yt)}var Yt=B(0);function $p(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Xv(l)||Jv(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var xs=0,Le=null,mt=null,un=null,Gp=!1,vu=!1,el=!1,Kp=0,Oh=0,Eu=null,tM=0;function zt(){throw Error(r(321))}function G_(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!wr(i[l],a[l]))return!1;return!0}function K_(i,a,l,c,m,y){return xs=y,Le=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,j.H=i===null||i.memoizedState===null?kS:lv,el=!1,y=l(c,m),el=!1,vu&&(y=Zw(a,l,c,m)),Jw(i),y}function Jw(i){j.H=kh;var a=mt!==null&&mt.next!==null;if(xs=0,un=mt=Le=null,Gp=!1,Oh=0,Eu=null,a)throw Error(r(300));i===null||cn||(i=i.dependencies,i!==null&&Lp(i)&&(cn=!0))}function Zw(i,a,l,c){Le=i;var m=0;do{if(vu&&(Eu=null),Oh=0,vu=!1,25<=m)throw Error(r(301));if(m+=1,un=mt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=MS,y=a(l,c)}while(vu);return y}function nM(){var i=j.H,a=i.useState()[0];return a=typeof a.then=="function"?Dh(a):a,i=i.useState()[0],(mt!==null?mt.memoizedState:null)!==i&&(Le.flags|=1024),a}function W_(){var i=Kp!==0;return Kp=0,i}function Q_(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Y_(i){if(Gp){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Gp=!1}xs=0,un=mt=Le=null,vu=!1,Oh=Kp=0,Eu=null}function Jn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Le.memoizedState=un=i:un=un.next=i,un}function Xt(){if(mt===null){var i=Le.alternate;i=i!==null?i.memoizedState:null}else i=mt.next;var a=un===null?Le.memoizedState:un.next;if(a!==null)un=a,mt=i;else{if(i===null)throw Le.alternate===null?Error(r(467)):Error(r(310));mt=i,i={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},un===null?Le.memoizedState=un=i:un=un.next=i}return un}function Wp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dh(i){var a=Oh;return Oh+=1,Eu===null&&(Eu=[]),i=qw(Eu,i,a),a=Le,(un===null?a.memoizedState:un.next)===null&&(a=a.alternate,j.H=a===null||a.memoizedState===null?kS:lv),i}function Qp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Dh(i);if(i.$$typeof===z)return Dn(i)}throw Error(r(438,String(i)))}function X_(i){var a=null,l=Le.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Le.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Wp(),Le.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=L;return a.index++,l}function Ps(i,a){return typeof a=="function"?a(i):a}function Yp(i){var a=Xt();return J_(a,mt,i)}function J_(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,y=c.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}a.baseQueue=m=y,c.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{a=m.next;var D=T=null,q=null,te=a,ue=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(Ge&fe)===fe:(xs&fe)===fe){var re=te.revertLane;if(re===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===pu&&(ue=!0);else if((xs&re)===re){te=te.next,re===pu&&(ue=!0);continue}else fe={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},q===null?(D=q=fe,T=y):q=q.next=fe,Le.lanes|=re,xa|=re;fe=te.action,el&&l(y,fe),y=te.hasEagerState?te.eagerState:l(y,fe)}else re={lane:fe,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},q===null?(D=q=re,T=y):q=q.next=re,Le.lanes|=fe,xa|=fe;te=te.next}while(te!==null&&te!==a);if(q===null?T=y:q.next=D,!wr(y,i.memoizedState)&&(cn=!0,ue&&(l=mu,l!==null)))throw l;i.memoizedState=y,i.baseState=T,i.baseQueue=q,c.lastRenderedState=y}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Z_(i){var a=Xt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=i(y,T.action),T=T.next;while(T!==m);wr(y,a.memoizedState)||(cn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function eS(i,a,l){var c=Le,m=Xt(),y=Ye;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var T=!wr((mt||m).memoizedState,l);if(T&&(m.memoizedState=l,cn=!0),m=m.queue,nv(rS.bind(null,c,m,i),[i]),m.getSnapshot!==a||T||un!==null&&un.memoizedState.tag&1){if(c.flags|=2048,bu(9,{destroy:void 0},nS.bind(null,c,m,l,a),null),vt===null)throw Error(r(349));y||(xs&127)!==0||tS(c,a,l)}return l}function tS(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Le.updateQueue,a===null?(a=Wp(),Le.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function nS(i,a,l,c){a.value=l,a.getSnapshot=c,iS(a)&&sS(i)}function rS(i,a,l){return l(function(){iS(a)&&sS(i)})}function iS(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!wr(i,l)}catch{return!0}}function sS(i){var a=$o(i,2);a!==null&&dr(a,i,2)}function ev(i){var a=Jn();if(typeof i=="function"){var l=i;if(i=l(),el){zr(!0);try{l()}finally{zr(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:i},a}function aS(i,a,l,c){return i.baseState=l,J_(i,mt,typeof c=="function"?c:Ps)}function rM(i,a,l,c,m){if(Zp(i))throw Error(r(485));if(i=a.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};j.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,oS(a,y)):(y.next=l.next,a.pending=l.next=y)}}function oS(i,a){var l=a.action,c=a.payload,m=i.state;if(a.isTransition){var y=j.T,T={};j.T=T;try{var D=l(m,c),q=j.S;q!==null&&q(T,D),lS(i,a,D)}catch(te){tv(i,a,te)}finally{y!==null&&T.types!==null&&(y.types=T.types),j.T=y}}else try{y=l(m,c),lS(i,a,y)}catch(te){tv(i,a,te)}}function lS(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){uS(i,a,c)},function(c){return tv(i,a,c)}):uS(i,a,l)}function uS(i,a,l){a.status="fulfilled",a.value=l,cS(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,oS(i,l)))}function tv(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,cS(a),a=a.next;while(a!==c)}i.action=null}function cS(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function hS(i,a){return a}function fS(i,a){if(Ye){var l=vt.formState;if(l!==null){e:{var c=Le;if(Ye){if(St){t:{for(var m=St,y=Yr;m.nodeType!==8;){if(!y){m=null;break t}if(m=Jr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){St=Jr(m.nextSibling),c=m.data==="F!";break e}}Ea(c)}c=!1}c&&(a=l[0])}}return l=Jn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hS,lastRenderedState:a},l.queue=c,l=OS.bind(null,Le,c),c.dispatch=l,c=ev(!1),y=ov.bind(null,Le,!1,c.queue),c=Jn(),m={state:a,dispatch:null,action:i,pending:null},c.queue=m,l=rM.bind(null,Le,m,y,l),m.dispatch=l,c.memoizedState=i,[a,l,!1]}function dS(i){var a=Xt();return pS(a,mt,i)}function pS(i,a,l){if(a=J_(i,a,hS)[0],i=Yp(Ps)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Dh(a)}catch(T){throw T===gu?Bp:T}else c=a;a=Xt();var m=a.queue,y=m.dispatch;return l!==a.memoizedState&&(Le.flags|=2048,bu(9,{destroy:void 0},iM.bind(null,m,l),null)),[c,y,i]}function iM(i,a){i.action=a}function mS(i){var a=Xt(),l=mt;if(l!==null)return pS(a,l,i);Xt(),a=a.memoizedState,l=Xt();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function bu(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Le.updateQueue,a===null&&(a=Wp(),Le.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function gS(){return Xt().memoizedState}function Xp(i,a,l,c){var m=Jn();Le.flags|=i,m.memoizedState=bu(1|a,{destroy:void 0},l,c===void 0?null:c)}function Jp(i,a,l,c){var m=Xt();c=c===void 0?null:c;var y=m.memoizedState.inst;mt!==null&&c!==null&&G_(c,mt.memoizedState.deps)?m.memoizedState=bu(a,y,l,c):(Le.flags|=i,m.memoizedState=bu(1|a,y,l,c))}function yS(i,a){Xp(8390656,8,i,a)}function nv(i,a){Jp(2048,8,i,a)}function sM(i){Le.flags|=4;var a=Le.updateQueue;if(a===null)a=Wp(),Le.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function _S(i){var a=Xt().memoizedState;return sM({ref:a,nextImpl:i}),function(){if((rt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function vS(i,a){return Jp(4,2,i,a)}function ES(i,a){return Jp(4,4,i,a)}function bS(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function TS(i,a,l){l=l!=null?l.concat([i]):null,Jp(4,4,bS.bind(null,a,i),l)}function rv(){}function wS(i,a){var l=Xt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&G_(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function SS(i,a){var l=Xt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&G_(a,c[1]))return c[0];if(c=i(),el){zr(!0);try{i()}finally{zr(!1)}}return l.memoizedState=[c,a],c}function iv(i,a,l){return l===void 0||(xs&1073741824)!==0&&(Ge&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=AA(),Le.lanes|=i,xa|=i,l)}function AS(i,a,l,c){return wr(l,a)?l:_u.current!==null?(i=iv(i,l,c),wr(i,a)||(cn=!0),i):(xs&42)===0||(xs&1073741824)!==0&&(Ge&261930)===0?(cn=!0,i.memoizedState=l):(i=AA(),Le.lanes|=i,xa|=i,a)}function IS(i,a,l,c,m){var y=X.p;X.p=y!==0&&8>y?y:8;var T=j.T,D={};j.T=D,ov(i,!1,a,l);try{var q=m(),te=j.S;if(te!==null&&te(D,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ue=eM(q,c);Nh(i,a,ue,xr(i))}else Nh(i,a,c,xr(i))}catch(fe){Nh(i,a,{then:function(){},status:"rejected",reason:fe},xr())}finally{X.p=y,T!==null&&D.types!==null&&(T.types=D.types),j.T=T}}function aM(){}function sv(i,a,l,c){if(i.tag!==5)throw Error(r(476));var m=RS(i).queue;IS(i,m,a,ne,l===null?aM:function(){return CS(i),l(c)})}function RS(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:ne},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function CS(i){var a=RS(i);a.next===null&&(a=i.alternate.memoizedState),Nh(i,a.next.queue,{},xr())}function av(){return Dn(Yh)}function xS(){return Xt().memoizedState}function PS(){return Xt().memoizedState}function oM(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=xr();i=wa(l);var c=Sa(a,i,l);c!==null&&(dr(c,a,l),Ch(c,a,l)),a={cache:M_()},i.payload=a;return}a=a.return}}function lM(i,a,l){var c=xr();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zp(i)?DS(a,l):(l=S_(i,a,l,c),l!==null&&(dr(l,i,c),NS(l,a,c)))}function OS(i,a,l){var c=xr();Nh(i,a,l,c)}function Nh(i,a,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zp(i))DS(a,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,D=y(T,l);if(m.hasEagerState=!0,m.eagerState=D,wr(D,T))return Np(i,a,m,0),vt===null&&Dp(),!1}catch{}finally{}if(l=S_(i,a,m,c),l!==null)return dr(l,i,c),NS(l,a,c),!0}return!1}function ov(i,a,l,c){if(c={lane:2,revertLane:Fv(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Zp(i)){if(a)throw Error(r(479))}else a=S_(i,l,c,2),a!==null&&dr(a,i,2)}function Zp(i){var a=i.alternate;return i===Le||a!==null&&a===Le}function DS(i,a){vu=Gp=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function NS(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,th(i,l)}}var kh={readContext:Dn,use:Qp,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};kh.useEffectEvent=zt;var kS={readContext:Dn,use:Qp,useCallback:function(i,a){return Jn().memoizedState=[i,a===void 0?null:a],i},useContext:Dn,useEffect:yS,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Xp(4194308,4,bS.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Xp(4194308,4,i,a)},useInsertionEffect:function(i,a){Xp(4,2,i,a)},useMemo:function(i,a){var l=Jn();a=a===void 0?null:a;var c=i();if(el){zr(!0);try{i()}finally{zr(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=Jn();if(l!==void 0){var m=l(a);if(el){zr(!0);try{l(a)}finally{zr(!1)}}}else m=a;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=lM.bind(null,Le,i),[c.memoizedState,i]},useRef:function(i){var a=Jn();return i={current:i},a.memoizedState=i},useState:function(i){i=ev(i);var a=i.queue,l=OS.bind(null,Le,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:rv,useDeferredValue:function(i,a){var l=Jn();return iv(l,i,a)},useTransition:function(){var i=ev(!1);return i=IS.bind(null,Le,i.queue,!0,!1),Jn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Le,m=Jn();if(Ye){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),vt===null)throw Error(r(349));(Ge&127)!==0||tS(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,yS(rS.bind(null,c,y,i),[i]),c.flags|=2048,bu(9,{destroy:void 0},nS.bind(null,c,y,l,a),null),l},useId:function(){var i=Jn(),a=vt.identifierPrefix;if(Ye){var l=$i,c=Hi;l=(c&~(1<<32-Wt(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Kp++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=tM++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:av,useFormState:fS,useActionState:fS,useOptimistic:function(i){var a=Jn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=ov.bind(null,Le,!0,l),l.dispatch=a,[i,a]},useMemoCache:X_,useCacheRefresh:function(){return Jn().memoizedState=oM.bind(null,Le)},useEffectEvent:function(i){var a=Jn(),l={impl:i};return a.memoizedState=l,function(){if((rt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},lv={readContext:Dn,use:Qp,useCallback:wS,useContext:Dn,useEffect:nv,useImperativeHandle:TS,useInsertionEffect:vS,useLayoutEffect:ES,useMemo:SS,useReducer:Yp,useRef:gS,useState:function(){return Yp(Ps)},useDebugValue:rv,useDeferredValue:function(i,a){var l=Xt();return AS(l,mt.memoizedState,i,a)},useTransition:function(){var i=Yp(Ps)[0],a=Xt().memoizedState;return[typeof i=="boolean"?i:Dh(i),a]},useSyncExternalStore:eS,useId:xS,useHostTransitionStatus:av,useFormState:dS,useActionState:dS,useOptimistic:function(i,a){var l=Xt();return aS(l,mt,i,a)},useMemoCache:X_,useCacheRefresh:PS};lv.useEffectEvent=_S;var MS={readContext:Dn,use:Qp,useCallback:wS,useContext:Dn,useEffect:nv,useImperativeHandle:TS,useInsertionEffect:vS,useLayoutEffect:ES,useMemo:SS,useReducer:Z_,useRef:gS,useState:function(){return Z_(Ps)},useDebugValue:rv,useDeferredValue:function(i,a){var l=Xt();return mt===null?iv(l,i,a):AS(l,mt.memoizedState,i,a)},useTransition:function(){var i=Z_(Ps)[0],a=Xt().memoizedState;return[typeof i=="boolean"?i:Dh(i),a]},useSyncExternalStore:eS,useId:xS,useHostTransitionStatus:av,useFormState:mS,useActionState:mS,useOptimistic:function(i,a){var l=Xt();return mt!==null?aS(l,mt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:X_,useCacheRefresh:PS};MS.useEffectEvent=_S;function uv(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:_({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var cv={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=xr(),m=wa(c);m.payload=a,l!=null&&(m.callback=l),a=Sa(i,m,c),a!==null&&(dr(a,i,c),Ch(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=xr(),m=wa(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Sa(i,m,c),a!==null&&(dr(a,i,c),Ch(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=xr(),c=wa(l);c.tag=2,a!=null&&(c.callback=a),a=Sa(i,c,l),a!==null&&(dr(a,i,l),Ch(a,i,l))}};function VS(i,a,l,c,m,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,T):a.prototype&&a.prototype.isPureReactComponent?!Eh(l,c)||!Eh(m,y):!0}function LS(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&cv.enqueueReplaceState(a,a.state,null)}function tl(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=_({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}function US(i){Op(i)}function FS(i){console.error(i)}function BS(i){Op(i)}function em(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function zS(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function hv(i,a,l){return l=wa(l),l.tag=3,l.payload={element:null},l.callback=function(){em(i,a)},l}function jS(i){return i=wa(i),i.tag=3,i}function qS(i,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;i.payload=function(){return m(y)},i.callback=function(){zS(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){zS(a,l,c),typeof m!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function uM(i,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&du(a,l,m,!0),l=Ar.current,l!==null){switch(l.tag){case 31:case 13:return Xr===null?fm():l.alternate===null&&jt===0&&(jt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===zp?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Vv(i,c,m)),!1;case 22:return l.flags|=65536,c===zp?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Vv(i,c,m)),!1}throw Error(r(435,l.tag))}return Vv(i,c,m),fm(),!1}if(Ye)return a=Ar.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==P_&&(i=Error(r(422),{cause:c}),wh(Kr(i,l)))):(c!==P_&&(a=Error(r(423),{cause:c}),wh(Kr(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Kr(c,l),m=hv(i.stateNode,c,m),z_(i,m),jt!==4&&(jt=2)),!1;var y=Error(r(520),{cause:c});if(y=Kr(y,l),jh===null?jh=[y]:jh.push(y),jt!==4&&(jt=2),a===null)return!0;c=Kr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=hv(l.stateNode,c,i),z_(l,i),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pa===null||!Pa.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=jS(m),qS(m,i,l,c),z_(l,m),!1}l=l.return}while(l!==null);return!1}var fv=Error(r(461)),cn=!1;function Nn(i,a,l,c){a.child=i===null?Kw(a,null,l,c):Zo(a,i.child,l,c)}function HS(i,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var T={};for(var D in c)D!=="ref"&&(T[D]=c[D])}else T=c;return Qo(a),c=K_(i,a,l,T,y,m),D=W_(),i!==null&&!cn?(Q_(i,a,m),Os(i,a,m)):(Ye&&D&&C_(a),a.flags|=1,Nn(i,a,c,m),a.child)}function $S(i,a,l,c,m){if(i===null){var y=l.type;return typeof y=="function"&&!A_(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,GS(i,a,y,c,m)):(i=Mp(l.type,null,c,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!Ev(i,m)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Eh,l(T,c)&&i.ref===a.ref)return Os(i,a,m)}return a.flags|=1,i=As(y,c),i.ref=a.ref,i.return=a,a.child=i}function GS(i,a,l,c,m){if(i!==null){var y=i.memoizedProps;if(Eh(y,c)&&i.ref===a.ref)if(cn=!1,a.pendingProps=c=y,Ev(i,m))(i.flags&131072)!==0&&(cn=!0);else return a.lanes=i.lanes,Os(i,a,m)}return dv(i,a,l,c,m)}function KS(i,a,l,c){var m=c.children,y=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,i!==null){for(c=a.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~y}else c=0,a.child=null;return WS(i,a,y,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Fp(a,y!==null?y.cachePool:null),y!==null?Yw(a,y):q_(),Xw(a);else return c=a.lanes=536870912,WS(i,a,y!==null?y.baseLanes|l:l,l,c)}else y!==null?(Fp(a,y.cachePool),Yw(a,y),Ia(),a.memoizedState=null):(i!==null&&Fp(a,null),q_(),Ia());return Nn(i,a,m,l),a.child}function Mh(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function WS(i,a,l,c,m){var y=L_();return y=y===null?null:{parent:ln._currentValue,pool:y},a.memoizedState={baseLanes:l,cachePool:y},i!==null&&Fp(a,null),q_(),Xw(a),i!==null&&du(i,a,c,!0),a.childLanes=m,null}function tm(i,a){return a=rm({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function QS(i,a,l){return Zo(a,i.child,null,l),i=tm(a,a.pendingProps),i.flags|=2,Ir(a),a.memoizedState=null,i}function cM(i,a,l){var c=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(Ye){if(c.mode==="hidden")return i=tm(a,c),a.lanes=536870912,Mh(null,i);if($_(a),(i=St)?(i=oI(i,Yr),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:_a!==null?{id:Hi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},l=Dw(i),l.return=a,a.child=l,On=a,St=null)):i=null,i===null)throw Ea(a);return a.lanes=536870912,null}return tm(a,c)}var y=i.memoizedState;if(y!==null){var T=y.dehydrated;if($_(a),m)if(a.flags&256)a.flags&=-257,a=QS(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(cn||du(i,a,l,!1),m=(l&i.childLanes)!==0,cn||m){if(c=vt,c!==null&&(T=nh(c,l),T!==0&&T!==y.retryLane))throw y.retryLane=T,$o(i,T),dr(c,i,T),fv;fm(),a=QS(i,a,l)}else i=y.treeContext,St=Jr(T.nextSibling),On=a,Ye=!0,va=null,Yr=!1,i!==null&&Mw(a,i),a=tm(a,c),a.flags|=4096;return a}return i=As(i.child,{mode:c.mode,children:c.children}),i.ref=a.ref,a.child=i,i.return=a,i}function nm(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function dv(i,a,l,c,m){return Qo(a),l=K_(i,a,l,c,void 0,m),c=W_(),i!==null&&!cn?(Q_(i,a,m),Os(i,a,m)):(Ye&&c&&C_(a),a.flags|=1,Nn(i,a,l,m),a.child)}function YS(i,a,l,c,m,y){return Qo(a),a.updateQueue=null,l=Zw(a,c,l,m),Jw(i),c=W_(),i!==null&&!cn?(Q_(i,a,y),Os(i,a,y)):(Ye&&c&&C_(a),a.flags|=1,Nn(i,a,l,y),a.child)}function XS(i,a,l,c,m){if(Qo(a),a.stateNode===null){var y=uu,T=l.contextType;typeof T=="object"&&T!==null&&(y=Dn(T)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=cv,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},F_(a),T=l.contextType,y.context=typeof T=="object"&&T!==null?Dn(T):uu,y.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(uv(a,l,T,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&cv.enqueueReplaceState(y,y.state,null),Ph(a,c,y,m),xh(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){y=a.stateNode;var D=a.memoizedProps,q=tl(l,D);y.props=q;var te=y.context,ue=l.contextType;T=uu,typeof ue=="object"&&ue!==null&&(T=Dn(ue));var fe=l.getDerivedStateFromProps;ue=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||te!==T)&&LS(a,y,c,T),Ta=!1;var re=a.memoizedState;y.state=re,Ph(a,c,y,m),xh(),te=a.memoizedState,D||re!==te||Ta?(typeof fe=="function"&&(uv(a,l,fe,c),te=a.memoizedState),(q=Ta||VS(a,l,q,c,re,te,T))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=te),y.props=c,y.state=te,y.context=T,c=q):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,B_(i,a),T=a.memoizedProps,ue=tl(l,T),y.props=ue,fe=a.pendingProps,re=y.context,te=l.contextType,q=uu,typeof te=="object"&&te!==null&&(q=Dn(te)),D=l.getDerivedStateFromProps,(te=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==fe||re!==q)&&LS(a,y,c,q),Ta=!1,re=a.memoizedState,y.state=re,Ph(a,c,y,m),xh();var le=a.memoizedState;T!==fe||re!==le||Ta||i!==null&&i.dependencies!==null&&Lp(i.dependencies)?(typeof D=="function"&&(uv(a,l,D,c),le=a.memoizedState),(ue=Ta||VS(a,l,ue,c,re,le,q)||i!==null&&i.dependencies!==null&&Lp(i.dependencies))?(te||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,le,q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,le,q)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=le),y.props=c,y.state=le,y.context=q,c=ue):(typeof y.componentDidUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),c=!1)}return y=c,nm(i,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&c?(a.child=Zo(a,i.child,null,m),a.child=Zo(a,null,l,m)):Nn(i,a,l,m),a.memoizedState=y.state,i=a.child):i=Os(i,a,m),i}function JS(i,a,l,c){return Ko(),a.flags|=256,Nn(i,a,l,c),a.child}var pv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mv(i){return{baseLanes:i,cachePool:zw()}}function gv(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Cr),i}function ZS(i,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=i!==null&&i.memoizedState===null?!1:(Yt.current&2)!==0),T&&(m=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ye){if(m?Aa(a):Ia(),(i=St)?(i=oI(i,Yr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:_a!==null?{id:Hi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},l=Dw(i),l.return=a,a.child=l,On=a,St=null)):i=null,i===null)throw Ea(a);return Jv(i)?a.lanes=32:a.lanes=536870912,null}var D=c.children;return c=c.fallback,m?(Ia(),m=a.mode,D=rm({mode:"hidden",children:D},m),c=Go(c,m,l,null),D.return=a,c.return=a,D.sibling=c,a.child=D,c=a.child,c.memoizedState=mv(l),c.childLanes=gv(i,T,l),a.memoizedState=pv,Mh(null,c)):(Aa(a),yv(a,D))}var q=i.memoizedState;if(q!==null&&(D=q.dehydrated,D!==null)){if(y)a.flags&256?(Aa(a),a.flags&=-257,a=_v(i,a,l)):a.memoizedState!==null?(Ia(),a.child=i.child,a.flags|=128,a=null):(Ia(),D=c.fallback,m=a.mode,c=rm({mode:"visible",children:c.children},m),D=Go(D,m,l,null),D.flags|=2,c.return=a,D.return=a,c.sibling=D,a.child=c,Zo(a,i.child,null,l),c=a.child,c.memoizedState=mv(l),c.childLanes=gv(i,T,l),a.memoizedState=pv,a=Mh(null,c));else if(Aa(a),Jv(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var te=T.dgst;T=te,c=Error(r(419)),c.stack="",c.digest=T,wh({value:c,source:null,stack:null}),a=_v(i,a,l)}else if(cn||du(i,a,l,!1),T=(l&i.childLanes)!==0,cn||T){if(T=vt,T!==null&&(c=nh(T,l),c!==0&&c!==q.retryLane))throw q.retryLane=c,$o(i,c),dr(T,i,c),fv;Xv(D)||fm(),a=_v(i,a,l)}else Xv(D)?(a.flags|=192,a.child=i.child,a=null):(i=q.treeContext,St=Jr(D.nextSibling),On=a,Ye=!0,va=null,Yr=!1,i!==null&&Mw(a,i),a=yv(a,c.children),a.flags|=4096);return a}return m?(Ia(),D=c.fallback,m=a.mode,q=i.child,te=q.sibling,c=As(q,{mode:"hidden",children:c.children}),c.subtreeFlags=q.subtreeFlags&65011712,te!==null?D=As(te,D):(D=Go(D,m,l,null),D.flags|=2),D.return=a,c.return=a,c.sibling=D,a.child=c,Mh(null,c),c=a.child,D=i.child.memoizedState,D===null?D=mv(l):(m=D.cachePool,m!==null?(q=ln._currentValue,m=m.parent!==q?{parent:q,pool:q}:m):m=zw(),D={baseLanes:D.baseLanes|l,cachePool:m}),c.memoizedState=D,c.childLanes=gv(i,T,l),a.memoizedState=pv,Mh(i.child,c)):(Aa(a),l=i.child,i=l.sibling,l=As(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(T=a.deletions,T===null?(a.deletions=[i],a.flags|=16):T.push(i)),a.child=l,a.memoizedState=null,l)}function yv(i,a){return a=rm({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function rm(i,a){return i=Sr(22,i,null,a),i.lanes=0,i}function _v(i,a,l){return Zo(a,i.child,null,l),i=yv(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function eA(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),N_(i.return,a,l)}function vv(i,a,l,c,m,y){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:y}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=l,T.tailMode=m,T.treeForkCount=y)}function tA(i,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;c=c.children;var T=Yt.current,D=(T&2)!==0;if(D?(T=T&1|2,a.flags|=128):T&=1,ye(Yt,T),Nn(i,a,c,l),c=Ye?Th:0,!D&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&eA(i,l,a);else if(i.tag===19)eA(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&$p(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),vv(a,!1,m,l,y,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&$p(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}vv(a,!0,l,null,y,c);break;case"together":vv(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Os(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),xa|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(du(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=As(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=As(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Ev(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Lp(i)))}function hM(i,a,l){switch(a.tag){case 3:Mt(a,a.stateNode.containerInfo),ba(a,ln,i.memoizedState.cache),Ko();break;case 27:case 5:_s(a);break;case 4:Mt(a,a.stateNode.containerInfo);break;case 10:ba(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,$_(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Aa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?ZS(i,a,l):(Aa(a),i=Os(i,a,l),i!==null?i.sibling:null);Aa(a);break;case 19:var m=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(du(i,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return tA(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ye(Yt,Yt.current),c)break;return null;case 22:return a.lanes=0,KS(i,a,l,a.pendingProps);case 24:ba(a,ln,i.memoizedState.cache)}return Os(i,a,l)}function nA(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)cn=!0;else{if(!Ev(i,l)&&(a.flags&128)===0)return cn=!1,hM(i,a,l);cn=(i.flags&131072)!==0}else cn=!1,Ye&&(a.flags&1048576)!==0&&kw(a,Th,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(i=Xo(a.elementType),a.type=i,typeof i=="function")A_(i)?(c=tl(i,c),a.tag=1,a=XS(null,a,i,c,l)):(a.tag=0,a=dv(null,a,i,c,l));else{if(i!=null){var m=i.$$typeof;if(m===W){a.tag=11,a=HS(null,a,i,c,l);break e}else if(m===N){a.tag=14,a=$S(null,a,i,c,l);break e}}throw a=G(i)||i,Error(r(306,a,""))}}return a;case 0:return dv(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=tl(c,a.pendingProps),XS(i,a,c,m,l);case 3:e:{if(Mt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var y=a.memoizedState;m=y.element,B_(i,a),Ph(a,c,null,l);var T=a.memoizedState;if(c=T.cache,ba(a,ln,c),c!==y.cache&&k_(a,[ln],l,!0),xh(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=JS(i,a,c,l);break e}else if(c!==m){m=Kr(Error(r(424)),a),wh(m),a=JS(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(St=Jr(i.firstChild),On=a,Ye=!0,va=null,Yr=!0,l=Kw(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ko(),c===m){a=Os(i,a,l);break e}Nn(i,a,c,l)}a=a.child}return a;case 26:return nm(i,a),i===null?(l=dI(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ye||(l=a.type,i=a.pendingProps,c=vm(De.current).createElement(l),c[sn]=a,c[Tn]=i,kn(c,l,i),an(c),a.stateNode=c):a.memoizedState=dI(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return _s(a),i===null&&Ye&&(c=a.stateNode=cI(a.type,a.pendingProps,De.current),On=a,Yr=!0,m=St,ka(a.type)?(Zv=m,St=Jr(c.firstChild)):St=m),Nn(i,a,a.pendingProps.children,l),nm(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Ye&&((m=c=St)&&(c=zM(c,a.type,a.pendingProps,Yr),c!==null?(a.stateNode=c,On=a,St=Jr(c.firstChild),Yr=!1,m=!0):m=!1),m||Ea(a)),_s(a),m=a.type,y=a.pendingProps,T=i!==null?i.memoizedProps:null,c=y.children,Wv(m,y)?c=null:T!==null&&Wv(m,T)&&(a.flags|=32),a.memoizedState!==null&&(m=K_(i,a,nM,null,null,l),Yh._currentValue=m),nm(i,a),Nn(i,a,c,l),a.child;case 6:return i===null&&Ye&&((i=l=St)&&(l=jM(l,a.pendingProps,Yr),l!==null?(a.stateNode=l,On=a,St=null,i=!0):i=!1),i||Ea(a)),null;case 13:return ZS(i,a,l);case 4:return Mt(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Zo(a,null,c,l):Nn(i,a,c,l),a.child;case 11:return HS(i,a,a.type,a.pendingProps,l);case 7:return Nn(i,a,a.pendingProps,l),a.child;case 8:return Nn(i,a,a.pendingProps.children,l),a.child;case 12:return Nn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,ba(a,a.type,c.value),Nn(i,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Qo(a),m=Dn(m),c=c(m),a.flags|=1,Nn(i,a,c,l),a.child;case 14:return $S(i,a,a.type,a.pendingProps,l);case 15:return GS(i,a,a.type,a.pendingProps,l);case 19:return tA(i,a,l);case 31:return cM(i,a,l);case 22:return KS(i,a,l,a.pendingProps);case 24:return Qo(a),c=Dn(ln),i===null?(m=L_(),m===null&&(m=vt,y=M_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},F_(a),ba(a,ln,m)):((i.lanes&l)!==0&&(B_(i,a),Ph(a,null,null,l),xh()),m=i.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ba(a,ln,c)):(c=y.cache,ba(a,ln,c),c!==m.cache&&k_(a,[ln],l,!0))),Nn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Ds(i){i.flags|=4}function bv(i,a,l,c,m){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(xA())i.flags|=8192;else throw Jo=zp,U_}else i.flags&=-16777217}function rA(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_I(a))if(xA())i.flags|=8192;else throw Jo=zp,U_}function im(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?cp():536870912,i.lanes|=a,Au|=a)}function Vh(i,a){if(!Ye)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function At(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function fM(i,a,l){var c=a.pendingProps;switch(x_(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(a),null;case 1:return At(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Cs(ln),Et(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(fu(a)?Ds(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,O_())),At(a),null;case 26:var m=a.type,y=a.memoizedState;return i===null?(Ds(a),y!==null?(At(a),rA(a,y)):(At(a),bv(a,m,null,c,l))):y?y!==i.memoizedState?(Ds(a),At(a),rA(a,y)):(At(a),a.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ds(a),At(a),bv(a,m,i,c,l)),null;case 27:if(vs(a),l=De.current,m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Ds(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return At(a),null}i=pe.current,fu(a)?Vw(a):(i=cI(m,c,l),a.stateNode=i,Ds(a))}return At(a),null;case 5:if(vs(a),m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Ds(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return At(a),null}if(y=pe.current,fu(a))Vw(a);else{var T=vm(De.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?T.createElement(m,{is:c.is}):T.createElement(m)}}y[sn]=a,y[Tn]=c;e:for(T=a.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===a)break e;for(;T.sibling===null;){if(T.return===null||T.return===a)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}a.stateNode=y;e:switch(kn(y,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ds(a)}}return At(a),bv(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Ds(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=De.current,fu(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,m=On,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[sn]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||ZA(i.nodeValue,l)),i||Ea(a,!0)}else i=vm(i).createTextNode(c),i[sn]=a,a.stateNode=i}return At(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(c=fu(a),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[sn]=a}else Ko(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;At(a),i=!1}else l=O_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Ir(a),a):(Ir(a),null);if((a.flags&128)!==0)throw Error(r(558))}return At(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=fu(a),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[sn]=a}else Ko(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;At(a),m=!1}else m=O_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Ir(a),a):(Ir(a),null)}return Ir(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),im(a,a.updateQueue),At(a),null);case 4:return Et(),i===null&&qv(a.stateNode.containerInfo),At(a),null;case 10:return Cs(a.type),At(a),null;case 19:if(se(Yt),c=a.memoizedState,c===null)return At(a),null;if(m=(a.flags&128)!==0,y=c.rendering,y===null)if(m)Vh(c,!1);else{if(jt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=$p(i),y!==null){for(a.flags|=128,Vh(c,!1),i=y.updateQueue,a.updateQueue=i,im(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Ow(l,i),l=l.sibling;return ye(Yt,Yt.current&1|2),Ye&&Is(a,c.treeForkCount),a.child}i=i.sibling}c.tail!==null&&nn()>um&&(a.flags|=128,m=!0,Vh(c,!1),a.lanes=4194304)}else{if(!m)if(i=$p(y),i!==null){if(a.flags|=128,m=!0,i=i.updateQueue,a.updateQueue=i,im(a,i),Vh(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Ye)return At(a),null}else 2*nn()-c.renderingStartTime>um&&l!==536870912&&(a.flags|=128,m=!0,Vh(c,!1),a.lanes=4194304);c.isBackwards?(y.sibling=a.child,a.child=y):(i=c.last,i!==null?i.sibling=y:a.child=y,c.last=y)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=nn(),i.sibling=null,l=Yt.current,ye(Yt,m?l&1|2:l&1),Ye&&Is(a,c.treeForkCount),i):(At(a),null);case 22:case 23:return Ir(a),H_(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(At(a),a.subtreeFlags&6&&(a.flags|=8192)):At(a),l=a.updateQueue,l!==null&&im(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&se(Yo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Cs(ln),At(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function dM(i,a){switch(x_(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Cs(ln),Et(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return vs(a),null;case 31:if(a.memoizedState!==null){if(Ir(a),a.alternate===null)throw Error(r(340));Ko()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Ir(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ko()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return se(Yt),null;case 4:return Et(),null;case 10:return Cs(a.type),null;case 22:case 23:return Ir(a),H_(),i!==null&&se(Yo),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Cs(ln),null;case 25:return null;default:return null}}function iA(i,a){switch(x_(a),a.tag){case 3:Cs(ln),Et();break;case 26:case 27:case 5:vs(a);break;case 4:Et();break;case 31:a.memoizedState!==null&&Ir(a);break;case 13:Ir(a);break;case 19:se(Yt);break;case 10:Cs(a.type);break;case 22:case 23:Ir(a),H_(),i!==null&&se(Yo);break;case 24:Cs(ln)}}function Lh(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==m)}}catch(D){ut(a,a.return,D)}}function Ra(i,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&i)===i){var T=c.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,m=a;var q=l,te=D;try{te()}catch(ue){ut(m,q,ue)}}}c=c.next}while(c!==y)}}catch(ue){ut(a,a.return,ue)}}function sA(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Qw(a,l)}catch(c){ut(i,i.return,c)}}}function aA(i,a,l){l.props=tl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){ut(i,a,c)}}function Uh(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){ut(i,a,m)}}function Gi(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){ut(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){ut(i,a,m)}else l.current=null}function oA(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){ut(i,i.return,m)}}function Tv(i,a,l){try{var c=i.stateNode;MM(c,i.type,l,a),c[Tn]=a}catch(m){ut(i,i.return,m)}}function lA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ka(i.type)||i.tag===4}function wv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ka(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sv(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ci));else if(c!==4&&(c===27&&ka(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Sv(i,a,l),i=i.sibling;i!==null;)Sv(i,a,l),i=i.sibling}function sm(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&ka(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(sm(i,a,l),i=i.sibling;i!==null;)sm(i,a,l),i=i.sibling}function uA(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);kn(a,c,l),a[sn]=i,a[Tn]=l}catch(y){ut(i,i.return,y)}}var Ns=!1,hn=!1,Av=!1,cA=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function pM(i,a){if(i=i.containerInfo,Gv=Im,i=Tw(i),__(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,D=-1,q=-1,te=0,ue=0,fe=i,re=null;t:for(;;){for(var le;fe!==l||m!==0&&fe.nodeType!==3||(D=T+m),fe!==y||c!==0&&fe.nodeType!==3||(q=T+c),fe.nodeType===3&&(T+=fe.nodeValue.length),(le=fe.firstChild)!==null;)re=fe,fe=le;for(;;){if(fe===i)break t;if(re===l&&++te===m&&(D=T),re===y&&++ue===c&&(q=T),(le=fe.nextSibling)!==null)break;fe=re,re=fe.parentNode}fe=le}l=D===-1||q===-1?null:{start:D,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kv={focusedElem:i,selectionRange:l},Im=!1,Sn=a;Sn!==null;)if(a=Sn,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Sn=i;else for(;Sn!==null;){switch(a=Sn,y=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)m=i[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Se=tl(l.type,m);i=c.getSnapshotBeforeUpdate(Se,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){ut(l,l.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Yv(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Yv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Sn=i;break}Sn=a.return}}function hA(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ms(i,l),c&4&&Lh(5,l);break;case 1:if(Ms(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(T){ut(l,l.return,T)}else{var m=tl(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(T){ut(l,l.return,T)}}c&64&&sA(l),c&512&&Uh(l,l.return);break;case 3:if(Ms(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Qw(i,a)}catch(T){ut(l,l.return,T)}}break;case 27:a===null&&c&4&&uA(l);case 26:case 5:Ms(i,l),a===null&&c&4&&oA(l),c&512&&Uh(l,l.return);break;case 12:Ms(i,l);break;case 31:Ms(i,l),c&4&&pA(i,l);break;case 13:Ms(i,l),c&4&&mA(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=wM.bind(null,l),qM(i,l))));break;case 22:if(c=l.memoizedState!==null||Ns,!c){a=a!==null&&a.memoizedState!==null||hn,m=Ns;var y=hn;Ns=c,(hn=a)&&!y?Vs(i,l,(l.subtreeFlags&8772)!==0):Ms(i,l),Ns=m,hn=y}break;case 30:break;default:Ms(i,l)}}function fA(i){var a=i.alternate;a!==null&&(i.alternate=null,fA(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Ql(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ct=null,ur=!1;function ks(i,a,l){for(l=l.child;l!==null;)dA(i,a,l),l=l.sibling}function dA(i,a,l){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(ai,l)}catch{}switch(l.tag){case 26:hn||Gi(l,a),ks(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:hn||Gi(l,a);var c=Ct,m=ur;ka(l.type)&&(Ct=l.stateNode,ur=!1),ks(i,a,l),Kh(l.stateNode),Ct=c,ur=m;break;case 5:hn||Gi(l,a);case 6:if(c=Ct,m=ur,Ct=null,ks(i,a,l),Ct=c,ur=m,Ct!==null)if(ur)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(l.stateNode)}catch(y){ut(l,a,y)}else try{Ct.removeChild(l.stateNode)}catch(y){ut(l,a,y)}break;case 18:Ct!==null&&(ur?(i=Ct,sI(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Nu(i)):sI(Ct,l.stateNode));break;case 4:c=Ct,m=ur,Ct=l.stateNode.containerInfo,ur=!0,ks(i,a,l),Ct=c,ur=m;break;case 0:case 11:case 14:case 15:Ra(2,l,a),hn||Ra(4,l,a),ks(i,a,l);break;case 1:hn||(Gi(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&aA(l,a,c)),ks(i,a,l);break;case 21:ks(i,a,l);break;case 22:hn=(c=hn)||l.memoizedState!==null,ks(i,a,l),hn=c;break;default:ks(i,a,l)}}function pA(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Nu(i)}catch(l){ut(a,a.return,l)}}}function mA(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Nu(i)}catch(l){ut(a,a.return,l)}}function mM(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new cA),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new cA),a;default:throw Error(r(435,i.tag))}}function am(i,a){var l=mM(i);a.forEach(function(c){if(!l.has(c)){l.add(c);var m=SM.bind(null,i,c);c.then(m,m)}})}function cr(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=i,T=a,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(ka(D.type)){Ct=D.stateNode,ur=!1;break e}break;case 5:Ct=D.stateNode,ur=!1;break e;case 3:case 4:Ct=D.stateNode.containerInfo,ur=!0;break e}D=D.return}if(Ct===null)throw Error(r(160));dA(y,T,m),Ct=null,ur=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)gA(a,i),a=a.sibling}var gi=null;function gA(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:cr(a,i),hr(i),c&4&&(Ra(3,i,i.return),Lh(3,i),Ra(5,i,i.return));break;case 1:cr(a,i),hr(i),c&512&&(hn||l===null||Gi(l,l.return)),c&64&&Ns&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=gi;if(cr(a,i),hr(i),c&512&&(hn||l===null||Gi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Di]||y[sn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),kn(y,c,l),y[sn]=i,an(y),c=y;break e;case"link":var T=gI("link","href",m).get(c+(l.href||""));if(T){for(var D=0;D<T.length;D++)if(y=T[D],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(D,1);break t}}y=m.createElement(c),kn(y,c,l),m.head.appendChild(y);break;case"meta":if(T=gI("meta","content",m).get(c+(l.content||""))){for(D=0;D<T.length;D++)if(y=T[D],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(D,1);break t}}y=m.createElement(c),kn(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[sn]=i,an(y),c=y}i.stateNode=c}else yI(m,i.type,i.stateNode);else i.stateNode=mI(m,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?yI(m,i.type,i.stateNode):mI(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Tv(i,i.memoizedProps,l.memoizedProps)}break;case 27:cr(a,i),hr(i),c&512&&(hn||l===null||Gi(l,l.return)),l!==null&&c&4&&Tv(i,i.memoizedProps,l.memoizedProps);break;case 5:if(cr(a,i),hr(i),c&512&&(hn||l===null||Gi(l,l.return)),i.flags&32){m=i.stateNode;try{lr(m,"")}catch(Se){ut(i,i.return,Se)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Tv(i,m,l!==null?l.memoizedProps:m)),c&1024&&(Av=!0);break;case 6:if(cr(a,i),hr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(Se){ut(i,i.return,Se)}}break;case 3:if(Tm=null,m=gi,gi=Em(a.containerInfo),cr(a,i),gi=m,hr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Nu(a.containerInfo)}catch(Se){ut(i,i.return,Se)}Av&&(Av=!1,yA(i));break;case 4:c=gi,gi=Em(i.stateNode.containerInfo),cr(a,i),hr(i),gi=c;break;case 12:cr(a,i),hr(i);break;case 31:cr(a,i),hr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,am(i,c)));break;case 13:cr(a,i),hr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(lm=nn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,am(i,c)));break;case 22:m=i.memoizedState!==null;var q=l!==null&&l.memoizedState!==null,te=Ns,ue=hn;if(Ns=te||m,hn=ue||q,cr(a,i),hn=ue,Ns=te,hr(i),c&8192)e:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||q||Ns||hn||nl(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){q=l=a;try{if(y=q.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=q.stateNode;var fe=q.memoizedProps.style,re=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;D.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Se){ut(q,q.return,Se)}}}else if(a.tag===6){if(l===null){q=a;try{q.stateNode.nodeValue=m?"":q.memoizedProps}catch(Se){ut(q,q.return,Se)}}}else if(a.tag===18){if(l===null){q=a;try{var le=q.stateNode;m?aI(le,!0):aI(q.stateNode,!1)}catch(Se){ut(q,q.return,Se)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,am(i,l))));break;case 19:cr(a,i),hr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,am(i,c)));break;case 30:break;case 21:break;default:cr(a,i),hr(i)}}function hr(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(lA(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=wv(i);sm(i,y,m);break;case 5:var T=l.stateNode;l.flags&32&&(lr(T,""),l.flags&=-33);var D=wv(i);sm(i,D,T);break;case 3:case 4:var q=l.stateNode.containerInfo,te=wv(i);Sv(i,te,q);break;default:throw Error(r(161))}}catch(ue){ut(i,i.return,ue)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function yA(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;yA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ms(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)hA(i,a.alternate,a),a=a.sibling}function nl(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Ra(4,a,a.return),nl(a);break;case 1:Gi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&aA(a,a.return,l),nl(a);break;case 27:Kh(a.stateNode);case 26:case 5:Gi(a,a.return),nl(a);break;case 22:a.memoizedState===null&&nl(a);break;case 30:nl(a);break;default:nl(a)}i=i.sibling}}function Vs(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=i,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:Vs(m,y,l),Lh(4,y);break;case 1:if(Vs(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(te){ut(c,c.return,te)}if(c=y,m=c.updateQueue,m!==null){var D=c.stateNode;try{var q=m.shared.hiddenCallbacks;if(q!==null)for(m.shared.hiddenCallbacks=null,m=0;m<q.length;m++)Ww(q[m],D)}catch(te){ut(c,c.return,te)}}l&&T&64&&sA(y),Uh(y,y.return);break;case 27:uA(y);case 26:case 5:Vs(m,y,l),l&&c===null&&T&4&&oA(y),Uh(y,y.return);break;case 12:Vs(m,y,l);break;case 31:Vs(m,y,l),l&&T&4&&pA(m,y);break;case 13:Vs(m,y,l),l&&T&4&&mA(m,y);break;case 22:y.memoizedState===null&&Vs(m,y,l),Uh(y,y.return);break;case 30:break;default:Vs(m,y,l)}a=a.sibling}}function Iv(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Sh(l))}function Rv(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Sh(i))}function yi(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)_A(i,a,l,c),a=a.sibling}function _A(i,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:yi(i,a,l,c),m&2048&&Lh(9,a);break;case 1:yi(i,a,l,c);break;case 3:yi(i,a,l,c),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Sh(i)));break;case 12:if(m&2048){yi(i,a,l,c),i=a.stateNode;try{var y=a.memoizedProps,T=y.id,D=y.onPostCommit;typeof D=="function"&&D(T,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){ut(a,a.return,q)}}else yi(i,a,l,c);break;case 31:yi(i,a,l,c);break;case 13:yi(i,a,l,c);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?yi(i,a,l,c):Fh(i,a):y._visibility&2?yi(i,a,l,c):(y._visibility|=2,Tu(i,a,l,c,(a.subtreeFlags&10256)!==0||!1)),m&2048&&Iv(T,a);break;case 24:yi(i,a,l,c),m&2048&&Rv(a.alternate,a);break;default:yi(i,a,l,c)}}function Tu(i,a,l,c,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=i,T=a,D=l,q=c,te=T.flags;switch(T.tag){case 0:case 11:case 15:Tu(y,T,D,q,m),Lh(8,T);break;case 23:break;case 22:var ue=T.stateNode;T.memoizedState!==null?ue._visibility&2?Tu(y,T,D,q,m):Fh(y,T):(ue._visibility|=2,Tu(y,T,D,q,m)),m&&te&2048&&Iv(T.alternate,T);break;case 24:Tu(y,T,D,q,m),m&&te&2048&&Rv(T.alternate,T);break;default:Tu(y,T,D,q,m)}a=a.sibling}}function Fh(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,m=c.flags;switch(c.tag){case 22:Fh(l,c),m&2048&&Iv(c.alternate,c);break;case 24:Fh(l,c),m&2048&&Rv(c.alternate,c);break;default:Fh(l,c)}a=a.sibling}}var Bh=8192;function wu(i,a,l){if(i.subtreeFlags&Bh)for(i=i.child;i!==null;)vA(i,a,l),i=i.sibling}function vA(i,a,l){switch(i.tag){case 26:wu(i,a,l),i.flags&Bh&&i.memoizedState!==null&&tV(l,gi,i.memoizedState,i.memoizedProps);break;case 5:wu(i,a,l);break;case 3:case 4:var c=gi;gi=Em(i.stateNode.containerInfo),wu(i,a,l),gi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Bh,Bh=16777216,wu(i,a,l),Bh=c):wu(i,a,l));break;default:wu(i,a,l)}}function EA(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function zh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Sn=c,TA(c,i)}EA(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)bA(i),i=i.sibling}function bA(i){switch(i.tag){case 0:case 11:case 15:zh(i),i.flags&2048&&Ra(9,i,i.return);break;case 3:zh(i);break;case 12:zh(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,om(i)):zh(i);break;default:zh(i)}}function om(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Sn=c,TA(c,i)}EA(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Ra(8,a,a.return),om(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,om(a));break;default:om(a)}i=i.sibling}}function TA(i,a){for(;Sn!==null;){var l=Sn;switch(l.tag){case 0:case 11:case 15:Ra(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Sh(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Sn=c;else e:for(l=i;Sn!==null;){c=Sn;var m=c.sibling,y=c.return;if(fA(c),c===l){Sn=null;break e}if(m!==null){m.return=y,Sn=m;break e}Sn=y}}}var gM={getCacheForType:function(i){var a=Dn(ln),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Dn(ln).controller.signal}},yM=typeof WeakMap=="function"?WeakMap:Map,rt=0,vt=null,je=null,Ge=0,lt=0,Rr=null,Ca=!1,Su=!1,Cv=!1,Ls=0,jt=0,xa=0,rl=0,xv=0,Cr=0,Au=0,jh=null,fr=null,Pv=!1,lm=0,wA=0,um=1/0,cm=null,Pa=null,vn=0,Oa=null,Iu=null,Us=0,Ov=0,Dv=null,SA=null,qh=0,Nv=null;function xr(){return(rt&2)!==0&&Ge!==0?Ge&-Ge:j.T!==null?Fv():hp()}function AA(){if(Cr===0)if((Ge&536870912)===0||Ye){var i=Po;Po<<=1,(Po&3932160)===0&&(Po=262144),Cr=i}else Cr=536870912;return i=Ar.current,i!==null&&(i.flags|=32),Cr}function dr(i,a,l){(i===vt&&(lt===2||lt===9)||i.cancelPendingCommit!==null)&&(Ru(i,0),Da(i,Ge,Cr,!1)),Oo(i,l),((rt&2)===0||i!==vt)&&(i===vt&&((rt&2)===0&&(rl|=l),jt===4&&Da(i,Ge,Cr,!1)),Ki(i))}function IA(i,a,l){if((rt&6)!==0)throw Error(r(327));var c=!l&&(a&127)===0&&(a&i.expiredLanes)===0||oi(i,a),m=c?EM(i,a):Mv(i,a,!0),y=c;do{if(m===0){Su&&!c&&Da(i,a,0,!1);break}else{if(l=i.current.alternate,y&&!_M(l)){m=Mv(i,a,!1),y=!1;continue}if(m===2){if(y=a,i.errorRecoveryDisabledLanes&y)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var D=i;m=jh;var q=D.current.memoizedState.isDehydrated;if(q&&(Ru(D,T).flags|=256),T=Mv(D,T,!1),T!==2){if(Cv&&!q){D.errorRecoveryDisabledLanes|=y,rl|=y,m=4;break e}y=fr,fr=m,y!==null&&(fr===null?fr=y:fr.push.apply(fr,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){Ru(i,0),Da(i,a,0,!0);break}e:{switch(c=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Da(c,a,Cr,!Ca);break e;case 2:fr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=lm+300-nn(),10<m)){if(Da(c,a,Cr,!Ca),xi(c,0,!0)!==0)break e;Us=a,c.timeoutHandle=rI(RA.bind(null,c,l,fr,cm,Pv,a,Cr,rl,Au,Ca,y,"Throttled",-0,0),m);break e}RA(c,l,fr,cm,Pv,a,Cr,rl,Au,Ca,y,null,-0,0)}}break}while(!0);Ki(i)}function RA(i,a,l,c,m,y,T,D,q,te,ue,fe,re,le){if(i.timeoutHandle=-1,fe=a.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},vA(a,y,fe);var Se=(y&62914560)===y?lm-nn():(y&4194048)===y?wA-nn():0;if(Se=nV(fe,Se),Se!==null){Us=y,i.cancelPendingCommit=Se(MA.bind(null,i,a,y,l,c,m,T,D,q,ue,fe,null,re,le)),Da(i,y,T,!te);return}}MA(i,a,y,l,c,m,T,D,q)}function _M(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!wr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Da(i,a,l,c){a&=~xv,a&=~rl,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var m=a;0<m;){var y=31-Wt(m),T=1<<y;c[y]=-1,m&=~T}l!==0&&Do(i,l,a)}function hm(){return(rt&6)===0?(Hh(0),!1):!0}function kv(){if(je!==null){if(lt===0)var i=je.return;else i=je,Rs=Wo=null,Y_(i),yu=null,Ih=0,i=je;for(;i!==null;)iA(i.alternate,i),i=i.return;je=null}}function Ru(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,UM(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Us=0,kv(),vt=i,je=l=As(i.current,null),Ge=a,lt=0,Rr=null,Ca=!1,Su=oi(i,a),Cv=!1,Au=Cr=xv=rl=xa=jt=0,fr=jh=null,Pv=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var m=31-Wt(c),y=1<<m;a|=i[m],c&=~y}return Ls=a,Dp(),l}function CA(i,a){Le=null,j.H=kh,a===gu||a===Bp?(a=Hw(),lt=3):a===U_?(a=Hw(),lt=4):lt=a===fv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Rr=a,je===null&&(jt=1,em(i,Kr(a,i.current)))}function xA(){var i=Ar.current;return i===null?!0:(Ge&4194048)===Ge?Xr===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?i===Xr:!1}function PA(){var i=j.H;return j.H=kh,i===null?kh:i}function OA(){var i=j.A;return j.A=gM,i}function fm(){jt=4,Ca||(Ge&4194048)!==Ge&&Ar.current!==null||(Su=!0),(xa&134217727)===0&&(rl&134217727)===0||vt===null||Da(vt,Ge,Cr,!1)}function Mv(i,a,l){var c=rt;rt|=2;var m=PA(),y=OA();(vt!==i||Ge!==a)&&(cm=null,Ru(i,a)),a=!1;var T=jt;e:do try{if(lt!==0&&je!==null){var D=je,q=Rr;switch(lt){case 8:kv(),T=6;break e;case 3:case 2:case 9:case 6:Ar.current===null&&(a=!0);var te=lt;if(lt=0,Rr=null,Cu(i,D,q,te),l&&Su){T=0;break e}break;default:te=lt,lt=0,Rr=null,Cu(i,D,q,te)}}vM(),T=jt;break}catch(ue){CA(i,ue)}while(!0);return a&&i.shellSuspendCounter++,Rs=Wo=null,rt=c,j.H=m,j.A=y,je===null&&(vt=null,Ge=0,Dp()),T}function vM(){for(;je!==null;)DA(je)}function EM(i,a){var l=rt;rt|=2;var c=PA(),m=OA();vt!==i||Ge!==a?(cm=null,um=nn()+500,Ru(i,a)):Su=oi(i,a);e:do try{if(lt!==0&&je!==null){a=je;var y=Rr;t:switch(lt){case 1:lt=0,Rr=null,Cu(i,a,y,1);break;case 2:case 9:if(jw(y)){lt=0,Rr=null,NA(a);break}a=function(){lt!==2&&lt!==9||vt!==i||(lt=7),Ki(i)},y.then(a,a);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:jw(y)?(lt=0,Rr=null,NA(a)):(lt=0,Rr=null,Cu(i,a,y,7));break;case 5:var T=null;switch(je.tag){case 26:T=je.memoizedState;case 5:case 27:var D=je;if(T?_I(T):D.stateNode.complete){lt=0,Rr=null;var q=D.sibling;if(q!==null)je=q;else{var te=D.return;te!==null?(je=te,dm(te)):je=null}break t}}lt=0,Rr=null,Cu(i,a,y,5);break;case 6:lt=0,Rr=null,Cu(i,a,y,6);break;case 8:kv(),jt=6;break e;default:throw Error(r(462))}}bM();break}catch(ue){CA(i,ue)}while(!0);return Rs=Wo=null,j.H=c,j.A=m,rt=l,je!==null?0:(vt=null,Ge=0,Dp(),jt)}function bM(){for(;je!==null&&!bt();)DA(je)}function DA(i){var a=nA(i.alternate,i,Ls);i.memoizedProps=i.pendingProps,a===null?dm(i):je=a}function NA(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=YS(l,a,a.pendingProps,a.type,void 0,Ge);break;case 11:a=YS(l,a,a.pendingProps,a.type.render,a.ref,Ge);break;case 5:Y_(a);default:iA(l,a),a=je=Ow(a,Ls),a=nA(l,a,Ls)}i.memoizedProps=i.pendingProps,a===null?dm(i):je=a}function Cu(i,a,l,c){Rs=Wo=null,Y_(a),yu=null,Ih=0;var m=a.return;try{if(uM(i,m,a,l,Ge)){jt=1,em(i,Kr(l,i.current)),je=null;return}}catch(y){if(m!==null)throw je=m,y;jt=1,em(i,Kr(l,i.current)),je=null;return}a.flags&32768?(Ye||c===1?i=!0:Su||(Ge&536870912)!==0?i=!1:(Ca=i=!0,(c===2||c===9||c===3||c===6)&&(c=Ar.current,c!==null&&c.tag===13&&(c.flags|=16384))),kA(a,i)):dm(a)}function dm(i){var a=i;do{if((a.flags&32768)!==0){kA(a,Ca);return}i=a.return;var l=fM(a.alternate,a,Ls);if(l!==null){je=l;return}if(a=a.sibling,a!==null){je=a;return}je=a=i}while(a!==null);jt===0&&(jt=5)}function kA(i,a){do{var l=dM(i.alternate,i);if(l!==null){l.flags&=32767,je=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){je=i;return}je=i=l}while(i!==null);jt=6,je=null}function MA(i,a,l,c,m,y,T,D,q){i.cancelPendingCommit=null;do pm();while(vn!==0);if((rt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=w_,p_(i,l,y,T,D,q),i===vt&&(je=vt=null,Ge=0),Iu=a,Oa=i,Us=l,Ov=y,Dv=m,SA=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,AM(Bn,function(){return BA(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=j.T,j.T=null,m=X.p,X.p=2,T=rt,rt|=4;try{pM(i,a,l)}finally{rt=T,X.p=m,j.T=c}}vn=1,VA(),LA(),UA()}}function VA(){if(vn===1){vn=0;var i=Oa,a=Iu,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=j.T,j.T=null;var c=X.p;X.p=2;var m=rt;rt|=4;try{gA(a,i);var y=Kv,T=Tw(i.containerInfo),D=y.focusedElem,q=y.selectionRange;if(T!==D&&D&&D.ownerDocument&&bw(D.ownerDocument.documentElement,D)){if(q!==null&&__(D)){var te=q.start,ue=q.end;if(ue===void 0&&(ue=te),"selectionStart"in D)D.selectionStart=te,D.selectionEnd=Math.min(ue,D.value.length);else{var fe=D.ownerDocument||document,re=fe&&fe.defaultView||window;if(re.getSelection){var le=re.getSelection(),Se=D.textContent.length,Oe=Math.min(q.start,Se),yt=q.end===void 0?Oe:Math.min(q.end,Se);!le.extend&&Oe>yt&&(T=yt,yt=Oe,Oe=T);var Y=Ew(D,Oe),K=Ew(D,yt);if(Y&&K&&(le.rangeCount!==1||le.anchorNode!==Y.node||le.anchorOffset!==Y.offset||le.focusNode!==K.node||le.focusOffset!==K.offset)){var ee=fe.createRange();ee.setStart(Y.node,Y.offset),le.removeAllRanges(),Oe>yt?(le.addRange(ee),le.extend(K.node,K.offset)):(ee.setEnd(K.node,K.offset),le.addRange(ee))}}}}for(fe=[],le=D;le=le.parentNode;)le.nodeType===1&&fe.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<fe.length;D++){var he=fe[D];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Im=!!Gv,Kv=Gv=null}finally{rt=m,X.p=c,j.T=l}}i.current=a,vn=2}}function LA(){if(vn===2){vn=0;var i=Oa,a=Iu,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=j.T,j.T=null;var c=X.p;X.p=2;var m=rt;rt|=4;try{hA(i,a.alternate,a)}finally{rt=m,X.p=c,j.T=l}}vn=3}}function UA(){if(vn===4||vn===3){vn=0,Fn();var i=Oa,a=Iu,l=Us,c=SA;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?vn=5:(vn=0,Iu=Oa=null,FA(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Pa=null),bs(l),a=a.stateNode,xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(ai,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=j.T,m=X.p,X.p=2,j.T=null;try{for(var y=i.onRecoverableError,T=0;T<c.length;T++){var D=c[T];y(D.value,{componentStack:D.stack})}}finally{j.T=a,X.p=m}}(Us&3)!==0&&pm(),Ki(i),m=i.pendingLanes,(l&261930)!==0&&(m&42)!==0?i===Nv?qh++:(qh=0,Nv=i):qh=0,Hh(0)}}function FA(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Sh(a)))}function pm(){return VA(),LA(),UA(),BA()}function BA(){if(vn!==5)return!1;var i=Oa,a=Ov;Ov=0;var l=bs(Us),c=j.T,m=X.p;try{X.p=32>l?32:l,j.T=null,l=Dv,Dv=null;var y=Oa,T=Us;if(vn=0,Iu=Oa=null,Us=0,(rt&6)!==0)throw Error(r(331));var D=rt;if(rt|=4,bA(y.current),_A(y,y.current,T,l),rt=D,Hh(0,!1),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(ai,y)}catch{}return!0}finally{X.p=m,j.T=c,FA(i,a)}}function zA(i,a,l){a=Kr(l,a),a=hv(i.stateNode,a,2),i=Sa(i,a,2),i!==null&&(Oo(i,2),Ki(i))}function ut(i,a,l){if(i.tag===3)zA(i,i,l);else for(;a!==null;){if(a.tag===3){zA(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Pa===null||!Pa.has(c))){i=Kr(l,i),l=jS(2),c=Sa(a,l,2),c!==null&&(qS(l,c,a,i),Oo(c,2),Ki(c));break}}a=a.return}}function Vv(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new yM;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(Cv=!0,m.add(l),i=TM.bind(null,i,a,l),a.then(i,i))}function TM(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,vt===i&&(Ge&l)===l&&(jt===4||jt===3&&(Ge&62914560)===Ge&&300>nn()-lm?(rt&2)===0&&Ru(i,0):xv|=l,Au===Ge&&(Au=0)),Ki(i)}function jA(i,a){a===0&&(a=cp()),i=$o(i,a),i!==null&&(Oo(i,a),Ki(i))}function wM(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),jA(i,l)}function SM(i,a){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),jA(i,l)}function AM(i,a){return Bt(i,a)}var mm=null,xu=null,Lv=!1,gm=!1,Uv=!1,Na=0;function Ki(i){i!==xu&&i.next===null&&(xu===null?mm=xu=i:xu=xu.next=i),gm=!0,Lv||(Lv=!0,RM())}function Hh(i,a){if(!Uv&&gm){Uv=!0;do for(var l=!1,c=mm;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var T=c.suspendedLanes,D=c.pingedLanes;y=(1<<31-Wt(42|i)+1)-1,y&=m&~(T&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,GA(c,y))}else y=Ge,y=xi(c,c===vt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||oi(c,y)||(l=!0,GA(c,y));c=c.next}while(l);Uv=!1}}function IM(){qA()}function qA(){gm=Lv=!1;var i=0;Na!==0&&LM()&&(i=Na);for(var a=nn(),l=null,c=mm;c!==null;){var m=c.next,y=HA(c,a);y===0?(c.next=null,l===null?mm=m:l.next=m,m===null&&(xu=l)):(l=c,(i!==0||(y&3)!==0)&&(gm=!0)),c=m}vn!==0&&vn!==5||Hh(i),Na!==0&&(Na=0)}function HA(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var T=31-Wt(y),D=1<<T,q=m[T];q===-1?((D&l)===0||(D&c)!==0)&&(m[T]=d_(D,a)):q<=a&&(i.expiredLanes|=D),y&=~D}if(a=vt,l=Ge,l=xi(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(lt===2||lt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Qe(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||oi(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&Qe(c),bs(l)){case 2:case 8:l=Yn;break;case 32:l=Bn;break;case 268435456:l=sp;break;default:l=Bn}return c=$A.bind(null,i),l=Bt(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&Qe(c),i.callbackPriority=2,i.callbackNode=null,2}function $A(i,a){if(vn!==0&&vn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(pm()&&i.callbackNode!==l)return null;var c=Ge;return c=xi(i,i===vt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(IA(i,c,a),HA(i,nn()),i.callbackNode!=null&&i.callbackNode===l?$A.bind(null,i):null)}function GA(i,a){if(pm())return null;IA(i,a,!0)}function RM(){FM(function(){(rt&6)!==0?Bt(Br,IM):qA()})}function Fv(){if(Na===0){var i=pu;i===0&&(i=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),Na=i}return Na}function KA(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Zl(""+i)}function WA(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function CM(i,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=KA((m[Tn]||null).action),T=c.submitter;T&&(a=(a=T[Tn]||null)?KA(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var D=new Bi("action","action",null,c,m);i.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Na!==0){var q=T?WA(m,T):new FormData(m);sv(l,{pending:!0,data:q,method:m.method,action:y},null,q)}}else typeof y=="function"&&(D.preventDefault(),q=T?WA(m,T):new FormData(m),sv(l,{pending:!0,data:q,method:m.method,action:y},y,q))},currentTarget:m}]})}}for(var Bv=0;Bv<T_.length;Bv++){var zv=T_[Bv],xM=zv.toLowerCase(),PM=zv[0].toUpperCase()+zv.slice(1);mi(xM,"on"+PM)}mi(Aw,"onAnimationEnd"),mi(Iw,"onAnimationIteration"),mi(Rw,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(Gk,"onTransitionRun"),mi(Kk,"onTransitionStart"),mi(Wk,"onTransitionCancel"),mi(Cw,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($h));function QA(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var T=c.length-1;0<=T;T--){var D=c[T],q=D.instance,te=D.currentTarget;if(D=D.listener,q!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=te;try{y(m)}catch(ue){Op(ue)}m.currentTarget=null,y=q}else for(T=0;T<c.length;T++){if(D=c[T],q=D.instance,te=D.currentTarget,D=D.listener,q!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=te;try{y(m)}catch(ue){Op(ue)}m.currentTarget=null,y=q}}}}function qe(i,a){var l=a[Wl];l===void 0&&(l=a[Wl]=new Set);var c=i+"__bubble";l.has(c)||(YA(a,i,2,!1),l.add(c))}function jv(i,a,l){var c=0;a&&(c|=4),YA(l,i,c,a)}var ym="_reactListening"+Math.random().toString(36).slice(2);function qv(i){if(!i[ym]){i[ym]=!0,rh.forEach(function(l){l!=="selectionchange"&&(OM.has(l)||jv(l,!1,i),jv(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[ym]||(a[ym]=!0,jv("selectionchange",!1,a))}}function YA(i,a,l,c){switch(AI(a)){case 2:var m=sV;break;case 8:m=aV;break;default:m=iE}l=m.bind(null,a,l,i),m=void 0,!Lo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function Hv(i,a,l,c,m){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var D=c.stateNode.containerInfo;if(D===m)break;if(T===4)for(T=c.return;T!==null;){var q=T.tag;if((q===3||q===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;D!==null;){if(T=Ni(D),T===null)return;if(q=T.tag,q===5||q===6||q===26||q===27){c=y=T;continue e}D=D.parentNode}}c=c.return}pa(function(){var te=y,ue=qr(l),fe=[];e:{var re=xw.get(i);if(re!==void 0){var le=Bi,Se=i;switch(i){case"keypress":if(Fo(l)===0)break e;case"keydown":case"keyup":le=Cp;break;case"focusin":Se="focus",le=zo;break;case"focusout":Se="blur",le=zo;break;case"beforeblur":case"afterblur":le=zo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=E;break;case Aw:case Iw:case Rw:le=bp;break;case Cw:le=k;break;case"scroll":case"scrollend":le=mh;break;case"wheel":le=ae;break;case"copy":case"cut":case"paste":le=Tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Ss;break;case"toggle":case"beforetoggle":le=Ve}var Oe=(a&4)!==0,yt=!Oe&&(i==="scroll"||i==="scrollend"),Y=Oe?re!==null?re+"Capture":null:re;Oe=[];for(var K=te,ee;K!==null;){var he=K;if(ee=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ee===null||Y===null||(he=hi(K,Y),he!=null&&Oe.push(Gh(K,he,ee))),yt)break;K=K.return}0<Oe.length&&(re=new le(re,Se,null,l,ue),fe.push({event:re,listeners:Oe}))}}if((a&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",re&&l!==fh&&(Se=l.relatedTarget||l.fromElement)&&(Ni(Se)||Se[Oi]))break e;if((le||re)&&(re=ue.window===ue?ue:(re=ue.ownerDocument)?re.defaultView||re.parentWindow:window,le?(Se=l.relatedTarget||l.toElement,le=te,Se=Se?Ni(Se):null,Se!==null&&(yt=o(Se),Oe=Se.tag,Se!==yt||Oe!==5&&Oe!==27&&Oe!==6)&&(Se=null)):(le=null,Se=te),le!==Se)){if(Oe=gh,he="onMouseLeave",Y="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=Ss,he="onPointerLeave",Y="onPointerEnter",K="pointer"),yt=le==null?re:br(le),ee=Se==null?re:br(Se),re=new Oe(he,K+"leave",le,l,ue),re.target=yt,re.relatedTarget=ee,he=null,Ni(ue)===te&&(Oe=new Oe(Y,K+"enter",Se,l,ue),Oe.target=ee,Oe.relatedTarget=yt,he=Oe),yt=he,le&&Se)t:{for(Oe=DM,Y=le,K=Se,ee=0,he=Y;he;he=Oe(he))ee++;he=0;for(var xe=K;xe;xe=Oe(xe))he++;for(;0<ee-he;)Y=Oe(Y),ee--;for(;0<he-ee;)K=Oe(K),he--;for(;ee--;){if(Y===K||K!==null&&Y===K.alternate){Oe=Y;break t}Y=Oe(Y),K=Oe(K)}Oe=null}else Oe=null;le!==null&&XA(fe,re,le,Oe,!1),Se!==null&&yt!==null&&XA(fe,yt,Se,Oe,!0)}}e:{if(re=te?br(te):window,le=re.nodeName&&re.nodeName.toLowerCase(),le==="select"||le==="input"&&re.type==="file")var Ze=pw;else if(fw(re))if(mw)Ze=qk;else{Ze=zk;var Ie=Bk}else le=re.nodeName,!le||le.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&Jl(te.elementType)&&(Ze=pw):Ze=jk;if(Ze&&(Ze=Ze(i,te))){dw(fe,Ze,l,ue);break e}Ie&&Ie(i,re,te),i==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&uh(re,"number",re.value)}switch(Ie=te?br(te):window,i){case"focusin":(fw(Ie)||Ie.contentEditable==="true")&&(au=Ie,v_=te,bh=null);break;case"focusout":bh=v_=au=null;break;case"mousedown":E_=!0;break;case"contextmenu":case"mouseup":case"dragend":E_=!1,ww(fe,l,ue);break;case"selectionchange":if($k)break;case"keydown":case"keyup":ww(fe,l,ue)}var Be;if(nt)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else su?jo(i,l)&&(Ke="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&(qi&&l.locale!=="ko"&&(su||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&su&&(Be=ph()):(Fi=ue,dh="value"in Fi?Fi.value:Fi.textContent,su=!0)),Ie=_m(te,Ke),0<Ie.length&&(Ke=new ji(Ke,i,null,l,ue),fe.push({event:Ke,listeners:Ie}),Be?Ke.data=Be:(Be=iu(l),Be!==null&&(Ke.data=Be)))),(Be=$r?Vk(i,l):Lk(i,l))&&(Ke=_m(te,"onBeforeInput"),0<Ke.length&&(Ie=new ji("onBeforeInput","beforeinput",null,l,ue),fe.push({event:Ie,listeners:Ke}),Ie.data=Be)),CM(fe,i,te,l,ue)}QA(fe,a)})}function Gh(i,a,l){return{instance:i,listener:a,currentTarget:l}}function _m(i,a){for(var l=a+"Capture",c=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=hi(i,l),m!=null&&c.unshift(Gh(i,m,y)),m=hi(i,a),m!=null&&c.push(Gh(i,m,y))),i.tag===3)return c;i=i.return}return[]}function DM(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function XA(i,a,l,c,m){for(var y=a._reactName,T=[];l!==null&&l!==c;){var D=l,q=D.alternate,te=D.stateNode;if(D=D.tag,q!==null&&q===c)break;D!==5&&D!==26&&D!==27||te===null||(q=te,m?(te=hi(l,y),te!=null&&T.unshift(Gh(l,te,q))):m||(te=hi(l,y),te!=null&&T.push(Gh(l,te,q)))),l=l.return}T.length!==0&&i.push({event:a,listeners:T})}var NM=/\r\n?/g,kM=/\u0000|\uFFFD/g;function JA(i){return(typeof i=="string"?i:""+i).replace(NM,`
`).replace(kM,"")}function ZA(i,a){return a=JA(a),JA(i)===a}function gt(i,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||lr(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&lr(i,""+c);break;case"className":Tr(i,"class",c);break;case"tabIndex":Tr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(i,l,c);break;case"style":hh(i,c,y);break;case"data":if(a!=="object"){Tr(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Zl(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&gt(i,a,"name",m.name,m,null),gt(i,a,"formEncType",m.formEncType,m,null),gt(i,a,"formMethod",m.formMethod,m,null),gt(i,a,"formTarget",m.formTarget,m,null)):(gt(i,a,"encType",m.encType,m,null),gt(i,a,"method",m.method,m,null),gt(i,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Zl(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=ci);break;case"onScroll":c!=null&&qe("scroll",i);break;case"onScrollEnd":c!=null&&qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Zl(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":qe("beforetoggle",i),qe("toggle",i),Yl(i,"popover",c);break;case"xlinkActuate":on(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":on(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":on(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":on(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":on(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":on(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":on(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":on(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":on(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Yl(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_p.get(l)||l,Yl(i,l,c))}}function $v(i,a,l,c,m,y){switch(l){case"style":hh(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?lr(i,c):(typeof c=="number"||typeof c=="bigint")&&lr(i,""+c);break;case"onScroll":c!=null&&qe("scroll",i);break;case"onScrollEnd":c!=null&&qe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ih.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=i[Tn]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Yl(i,l,c)}}}function kn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",i),qe("load",i);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:gt(i,a,y,T,l,null)}}m&&gt(i,a,"srcSet",l.srcSet,l,null),c&&gt(i,a,"src",l.src,l,null);return;case"input":qe("invalid",i);var D=y=T=m=null,q=null,te=null;for(c in l)if(l.hasOwnProperty(c)){var ue=l[c];if(ue!=null)switch(c){case"name":m=ue;break;case"type":T=ue;break;case"checked":q=ue;break;case"defaultChecked":te=ue;break;case"value":y=ue;break;case"defaultValue":D=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,a));break;default:gt(i,a,c,ue,l,null)}}mp(i,y,D,q,te,T,m,!1);return;case"select":qe("invalid",i),c=T=y=null;for(m in l)if(l.hasOwnProperty(m)&&(D=l[m],D!=null))switch(m){case"value":y=D;break;case"defaultValue":T=D;break;case"multiple":c=D;default:gt(i,a,m,D,l,null)}a=y,l=T,i.multiple=!!c,a!=null?ca(i,!!c,a,!1):l!=null&&ca(i,!!c,l,!0);return;case"textarea":qe("invalid",i),y=m=c=null;for(T in l)if(l.hasOwnProperty(T)&&(D=l[T],D!=null))switch(T){case"value":c=D;break;case"defaultValue":m=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:gt(i,a,T,D,l,null)}ha(i,c,m,y);return;case"option":for(q in l)if(l.hasOwnProperty(q)&&(c=l[q],c!=null))switch(q){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:gt(i,a,q,c,l,null)}return;case"dialog":qe("beforetoggle",i),qe("toggle",i),qe("cancel",i),qe("close",i);break;case"iframe":case"object":qe("load",i);break;case"video":case"audio":for(c=0;c<$h.length;c++)qe($h[c],i);break;case"image":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"embed":case"source":case"link":qe("error",i),qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(c=l[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:gt(i,a,te,c,l,null)}return;default:if(Jl(a)){for(ue in l)l.hasOwnProperty(ue)&&(c=l[ue],c!==void 0&&$v(i,a,ue,c,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(c=l[D],c!=null&&gt(i,a,D,c,l,null))}function MM(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,D=null,q=null,te=null,ue=null;for(le in l){var fe=l[le];if(l.hasOwnProperty(le)&&fe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":q=fe;default:c.hasOwnProperty(le)||gt(i,a,le,null,c,fe)}}for(var re in c){var le=c[re];if(fe=l[re],c.hasOwnProperty(re)&&(le!=null||fe!=null))switch(re){case"type":y=le;break;case"name":m=le;break;case"checked":te=le;break;case"defaultChecked":ue=le;break;case"value":T=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,a));break;default:le!==fe&&gt(i,a,re,le,c,fe)}}Xl(i,T,D,q,te,ue,y,m);return;case"select":le=T=D=re=null;for(y in l)if(q=l[y],l.hasOwnProperty(y)&&q!=null)switch(y){case"value":break;case"multiple":le=q;default:c.hasOwnProperty(y)||gt(i,a,y,null,c,q)}for(m in c)if(y=c[m],q=l[m],c.hasOwnProperty(m)&&(y!=null||q!=null))switch(m){case"value":re=y;break;case"defaultValue":D=y;break;case"multiple":T=y;default:y!==q&&gt(i,a,m,y,c,q)}a=D,l=T,c=le,re!=null?ca(i,!!l,re,!1):!!c!=!!l&&(a!=null?ca(i,!!l,a,!0):ca(i,!!l,l?[]:"",!1));return;case"textarea":le=re=null;for(D in l)if(m=l[D],l.hasOwnProperty(D)&&m!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:gt(i,a,D,null,c,m)}for(T in c)if(m=c[T],y=l[T],c.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":re=m;break;case"defaultValue":le=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&gt(i,a,T,m,c,y)}gp(i,re,le);return;case"option":for(var Se in l)if(re=l[Se],l.hasOwnProperty(Se)&&re!=null&&!c.hasOwnProperty(Se))switch(Se){case"selected":i.selected=!1;break;default:gt(i,a,Se,null,c,re)}for(q in c)if(re=c[q],le=l[q],c.hasOwnProperty(q)&&re!==le&&(re!=null||le!=null))switch(q){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:gt(i,a,q,re,c,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)re=l[Oe],l.hasOwnProperty(Oe)&&re!=null&&!c.hasOwnProperty(Oe)&&gt(i,a,Oe,null,c,re);for(te in c)if(re=c[te],le=l[te],c.hasOwnProperty(te)&&re!==le&&(re!=null||le!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,a));break;default:gt(i,a,te,re,c,le)}return;default:if(Jl(a)){for(var yt in l)re=l[yt],l.hasOwnProperty(yt)&&re!==void 0&&!c.hasOwnProperty(yt)&&$v(i,a,yt,void 0,c,re);for(ue in c)re=c[ue],le=l[ue],!c.hasOwnProperty(ue)||re===le||re===void 0&&le===void 0||$v(i,a,ue,re,c,le);return}}for(var Y in l)re=l[Y],l.hasOwnProperty(Y)&&re!=null&&!c.hasOwnProperty(Y)&&gt(i,a,Y,null,c,re);for(fe in c)re=c[fe],le=l[fe],!c.hasOwnProperty(fe)||re===le||re==null&&le==null||gt(i,a,fe,re,c,le)}function eI(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VM(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],y=m.transferSize,T=m.initiatorType,D=m.duration;if(y&&D&&eI(T)){for(T=0,D=m.responseEnd,c+=1;c<l.length;c++){var q=l[c],te=q.startTime;if(te>D)break;var ue=q.transferSize,fe=q.initiatorType;ue&&eI(fe)&&(q=q.responseEnd,T+=ue*(q<D?1:(D-te)/(q-te)))}if(--c,a+=8*(y+T)/(m.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Gv=null,Kv=null;function vm(i){return i.nodeType===9?i:i.ownerDocument}function tI(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nI(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Wv(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Qv=null;function LM(){var i=window.event;return i&&i.type==="popstate"?i===Qv?!1:(Qv=i,!0):(Qv=null,!1)}var rI=typeof setTimeout=="function"?setTimeout:void 0,UM=typeof clearTimeout=="function"?clearTimeout:void 0,iI=typeof Promise=="function"?Promise:void 0,FM=typeof queueMicrotask=="function"?queueMicrotask:typeof iI<"u"?function(i){return iI.resolve(null).then(i).catch(BM)}:rI;function BM(i){setTimeout(function(){throw i})}function ka(i){return i==="head"}function sI(i,a){var l=a,c=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(m),Nu(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Kh(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Kh(l);for(var y=l.firstChild;y;){var T=y.nextSibling,D=y.nodeName;y[Di]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=T}}else l==="body"&&Kh(i.ownerDocument.body);l=m}while(l);Nu(a)}function aI(i,a){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function Yv(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Yv(l),Ql(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function zM(i,a,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Di])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Jr(i.nextSibling),i===null)break}return null}function jM(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Jr(i.nextSibling),i===null))return null;return i}function oI(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Jr(i.nextSibling),i===null))return null;return i}function Xv(i){return i.data==="$?"||i.data==="$~"}function Jv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function qM(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Jr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Zv=null;function lI(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return Jr(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function uI(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function cI(i,a,l){switch(a=vm(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Kh(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Ql(i)}var Zr=new Map,hI=new Set;function Em(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fs=X.d;X.d={f:HM,r:$M,D:GM,C:KM,L:WM,m:QM,X:XM,S:YM,M:JM};function HM(){var i=Fs.f(),a=hm();return i||a}function $M(i){var a=jr(i);a!==null&&a.tag===5&&a.type==="form"?CS(a):Fs.r(i)}var Pu=typeof document>"u"?null:document;function fI(i,a,l){var c=Pu;if(c&&typeof a=="string"&&a){var m=or(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),hI.has(m)||(hI.add(m),i={rel:i,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),kn(a,"link",i),an(a),c.head.appendChild(a)))}}function GM(i){Fs.D(i),fI("dns-prefetch",i,null)}function KM(i,a){Fs.C(i,a),fI("preconnect",i,a)}function WM(i,a,l){Fs.L(i,a,l);var c=Pu;if(c&&i&&a){var m='link[rel="preload"][as="'+or(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+or(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+or(l.imageSizes)+'"]')):m+='[href="'+or(i)+'"]';var y=m;switch(a){case"style":y=Ou(i);break;case"script":y=Du(i)}Zr.has(y)||(i=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Zr.set(y,i),c.querySelector(m)!==null||a==="style"&&c.querySelector(Wh(y))||a==="script"&&c.querySelector(Qh(y))||(a=c.createElement("link"),kn(a,"link",i),an(a),c.head.appendChild(a)))}}function QM(i,a){Fs.m(i,a);var l=Pu;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+or(c)+'"][href="'+or(i)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Du(i)}if(!Zr.has(y)&&(i=_({rel:"modulepreload",href:i},a),Zr.set(y,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Qh(y)))return}c=l.createElement("link"),kn(c,"link",i),an(c),l.head.appendChild(c)}}}function YM(i,a,l){Fs.S(i,a,l);var c=Pu;if(c&&i){var m=ki(c).hoistableStyles,y=Ou(i);a=a||"default";var T=m.get(y);if(!T){var D={loading:0,preload:null};if(T=c.querySelector(Wh(y)))D.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Zr.get(y))&&eE(i,l);var q=T=c.createElement("link");an(q),kn(q,"link",i),q._p=new Promise(function(te,ue){q.onload=te,q.onerror=ue}),q.addEventListener("load",function(){D.loading|=1}),q.addEventListener("error",function(){D.loading|=2}),D.loading|=4,bm(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:D},m.set(y,T)}}}function XM(i,a){Fs.X(i,a);var l=Pu;if(l&&i){var c=ki(l).hoistableScripts,m=Du(i),y=c.get(m);y||(y=l.querySelector(Qh(m)),y||(i=_({src:i,async:!0},a),(a=Zr.get(m))&&tE(i,a),y=l.createElement("script"),an(y),kn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function JM(i,a){Fs.M(i,a);var l=Pu;if(l&&i){var c=ki(l).hoistableScripts,m=Du(i),y=c.get(m);y||(y=l.querySelector(Qh(m)),y||(i=_({src:i,async:!0,type:"module"},a),(a=Zr.get(m))&&tE(i,a),y=l.createElement("script"),an(y),kn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function dI(i,a,l,c){var m=(m=De.current)?Em(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ou(l.href),l=ki(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Ou(l.href);var y=ki(m).hoistableStyles,T=y.get(i);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,T),(y=m.querySelector(Wh(i)))&&!y._p&&(T.instance=y,T.state.loading=5),Zr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Zr.set(i,l),y||ZM(m,i,l,T.state))),a&&c===null)throw Error(r(528,""));return T}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Du(l),l=ki(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ou(i){return'href="'+or(i)+'"'}function Wh(i){return'link[rel="stylesheet"]['+i+"]"}function pI(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function ZM(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),kn(a,"link",l),an(a),i.head.appendChild(a))}function Du(i){return'[src="'+or(i)+'"]'}function Qh(i){return"script[async]"+i}function mI(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+or(l.href)+'"]');if(c)return a.instance=c,an(c),c;var m=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),an(c),kn(c,"style",m),bm(c,l.precedence,i),a.instance=c;case"stylesheet":m=Ou(l.href);var y=i.querySelector(Wh(m));if(y)return a.state.loading|=4,a.instance=y,an(y),y;c=pI(l),(m=Zr.get(m))&&eE(c,m),y=(i.ownerDocument||i).createElement("link"),an(y);var T=y;return T._p=new Promise(function(D,q){T.onload=D,T.onerror=q}),kn(y,"link",c),a.state.loading|=4,bm(y,l.precedence,i),a.instance=y;case"script":return y=Du(l.src),(m=i.querySelector(Qh(y)))?(a.instance=m,an(m),m):(c=l,(m=Zr.get(y))&&(c=_({},l),tE(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),an(m),kn(m,"link",c),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,bm(c,l.precedence,i));return a.instance}function bm(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,T=0;T<c.length;T++){var D=c[T];if(D.dataset.precedence===a)y=D;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function eE(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function tE(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Tm=null;function gI(i,a,l){if(Tm===null){var c=new Map,m=Tm=new Map;m.set(l,c)}else m=Tm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var y=l[m];if(!(y[Di]||y[sn]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=i+T;var D=c.get(T);D?D.push(y):c.set(T,[y])}}return c}function yI(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function eV(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function _I(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function tV(i,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Ou(c.href),y=a.querySelector(Wh(m));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=wm.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=y,an(y);return}y=a.ownerDocument||a,c=pI(c),(m=Zr.get(m))&&eE(c,m),y=y.createElement("link"),an(y);var T=y;T._p=new Promise(function(D,q){T.onload=D,T.onerror=q}),kn(y,"link",c),l.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=wm.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var nE=0;function nV(i,a){return i.stylesheets&&i.count===0&&Am(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&Am(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+a);0<i.imgBytes&&nE===0&&(nE=62500*VM());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Am(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>nE?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function wm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Am(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Sm=null;function Am(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Sm=new Map,a.forEach(rV,i),Sm=null,wm.call(i))}function rV(i,a){if(!(a.state.loading&4)){var l=Sm.get(i);if(l)var c=l.get(null);else{l=new Map,Sm.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}m=a.instance,T=m.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,m),l.set(T,m),this.count++,c=wm.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var Yh={$$typeof:z,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function iV(i,a,l,c,m,y,T,D,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function vI(i,a,l,c,m,y,T,D,q,te,ue,fe){return i=new iV(i,a,l,T,q,te,ue,fe,D),a=1,y===!0&&(a|=24),y=Sr(3,null,null,a),i.current=y,y.stateNode=i,a=M_(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},F_(y),i}function EI(i){return i?(i=uu,i):uu}function bI(i,a,l,c,m,y){m=EI(m),c.context===null?c.context=m:c.pendingContext=m,c=wa(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Sa(i,c,a),l!==null&&(dr(l,i,a),Ch(l,i,a))}function TI(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function rE(i,a){TI(i,a),(i=i.alternate)&&TI(i,a)}function wI(i){if(i.tag===13||i.tag===31){var a=$o(i,67108864);a!==null&&dr(a,i,67108864),rE(i,67108864)}}function SI(i){if(i.tag===13||i.tag===31){var a=xr();a=No(a);var l=$o(i,a);l!==null&&dr(l,i,a),rE(i,a)}}var Im=!0;function sV(i,a,l,c){var m=j.T;j.T=null;var y=X.p;try{X.p=2,iE(i,a,l,c)}finally{X.p=y,j.T=m}}function aV(i,a,l,c){var m=j.T;j.T=null;var y=X.p;try{X.p=8,iE(i,a,l,c)}finally{X.p=y,j.T=m}}function iE(i,a,l,c){if(Im){var m=sE(c);if(m===null)Hv(i,a,c,Rm,l),II(i,c);else if(lV(m,i,a,l,c))c.stopPropagation();else if(II(i,c),a&4&&-1<oV.indexOf(i)){for(;m!==null;){var y=jr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Ci(y.pendingLanes);if(T!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var q=1<<31-Wt(T);D.entanglements[1]|=q,T&=~q}Ki(y),(rt&6)===0&&(um=nn()+500,Hh(0))}}break;case 31:case 13:D=$o(y,2),D!==null&&dr(D,y,2),hm(),rE(y,2)}if(y=sE(c),y===null&&Hv(i,a,c,Rm,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Hv(i,a,c,null,l)}}function sE(i){return i=qr(i),aE(i)}var Rm=null;function aE(i){if(Rm=null,i=Ni(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=h(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Rm=i,null}function AI(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case Br:return 2;case Yn:return 8;case Bn:case xo:return 32;case sp:return 268435456;default:return 32}default:return 32}}var oE=!1,Ma=null,Va=null,La=null,Xh=new Map,Jh=new Map,Ua=[],oV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function II(i,a){switch(i){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":Xh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jh.delete(a.pointerId)}}function Zh(i,a,l,c,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=jr(a),a!==null&&wI(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function lV(i,a,l,c,m){switch(a){case"focusin":return Ma=Zh(Ma,i,a,l,c,m),!0;case"dragenter":return Va=Zh(Va,i,a,l,c,m),!0;case"mouseover":return La=Zh(La,i,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return Xh.set(y,Zh(Xh.get(y)||null,i,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Jh.set(y,Zh(Jh.get(y)||null,i,a,l,c,m)),!0}return!1}function RI(i){var a=Ni(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,li(i.priority,function(){SI(l)});return}}else if(a===31){if(a=h(l),a!==null){i.blockedOn=a,li(i.priority,function(){SI(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cm(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=sE(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);fh=c,l.target.dispatchEvent(c),fh=null}else return a=jr(l),a!==null&&wI(a),i.blockedOn=l,!1;a.shift()}return!0}function CI(i,a,l){Cm(i)&&l.delete(a)}function uV(){oE=!1,Ma!==null&&Cm(Ma)&&(Ma=null),Va!==null&&Cm(Va)&&(Va=null),La!==null&&Cm(La)&&(La=null),Xh.forEach(CI),Jh.forEach(CI)}function xm(i,a){i.blockedOn===a&&(i.blockedOn=null,oE||(oE=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uV)))}var Pm=null;function xI(i){Pm!==i&&(Pm=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pm===i&&(Pm=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],m=i[a+2];if(typeof c!="function"){if(aE(c||l)===null)continue;break}var y=jr(l);y!==null&&(i.splice(a,3),a-=3,sv(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Nu(i){function a(q){return xm(q,i)}Ma!==null&&xm(Ma,i),Va!==null&&xm(Va,i),La!==null&&xm(La,i),Xh.forEach(a),Jh.forEach(a);for(var l=0;l<Ua.length;l++){var c=Ua[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ua.length&&(l=Ua[0],l.blockedOn===null);)RI(l),l.blockedOn===null&&Ua.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],T=m[Tn]||null;if(typeof y=="function")T||xI(l);else if(T){var D=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[Tn]||null)D=T.formAction;else if(aE(m)!==null)continue}else D=T.action;typeof D=="function"?l[c+1]=D:(l.splice(c,3),c-=3),xI(l)}}}function PI(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function lE(i){this._internalRoot=i}Om.prototype.render=lE.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=xr();bI(l,c,i,a,null,null)},Om.prototype.unmount=lE.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;bI(i.current,2,null,i,null,null),hm(),a[Oi]=null}};function Om(i){this._internalRoot=i}Om.prototype.unstable_scheduleHydration=function(i){if(i){var a=hp();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Ua.length&&a!==0&&a<Ua[l].priority;l++);Ua.splice(l,0,i),l===0&&RI(i)}};var OI=e.version;if(OI!=="19.2.0")throw Error(r(527,OI,"19.2.0"));X.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var cV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dm.isDisabled&&Dm.supportsFiber)try{ai=Dm.inject(cV),xn=Dm}catch{}}return tf.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",m=US,y=FS,T=BS;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),a=vI(i,1,!1,null,null,l,c,null,m,y,T,PI),i[Oi]=a.current,qv(i),new lE(a)},tf.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,m="",y=US,T=FS,D=BS,q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.formState!==void 0&&(q=l.formState)),a=vI(i,1,!0,a,l??null,c,m,q,y,T,D,PI),a.context=EI(null),l=a.current,c=xr(),c=No(c),m=wa(c),m.callback=null,Sa(l,m,c),l=c,a.current.lanes=l,Oo(a,l),Ki(a),i[Oi]=a.current,qv(i),new Om(a)},tf.version="19.2.0",tf}var zI;function bV(){if(zI)return hE.exports;zI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hE.exports=EV(),hE.exports}var TV=bV();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jI="popstate";function wV(n={}){function e(r,s){let{pathname:o,search:u,hash:h}=r.location;return JE("",{pathname:o,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Zf(s)}return AV(e,t,null,n)}function Vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SV(){return Math.random().toString(36).substring(2,10)}function qI(n,e){return{usr:n.state,key:n.key,idx:e}}function JE(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Mc(e):e,state:t,key:e&&e.key||r||SV()}}function Zf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Mc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function AV(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,h="POP",d=null,f=g();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let P=g(),F=P==null?null:P-f;f=P,d&&d({action:h,location:I.location,delta:F})}function v(P,F){h="PUSH";let V=JE(I.location,P,F);f=g()+1;let z=qI(V,f),W=I.createHref(V);try{u.pushState(z,"",W)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(W)}o&&d&&d({action:h,location:I.location,delta:1})}function S(P,F){h="REPLACE";let V=JE(I.location,P,F);f=g();let z=qI(V,f),W=I.createHref(V);u.replaceState(z,"",W),o&&d&&d({action:h,location:I.location,delta:0})}function w(P){return IV(P)}let I={get action(){return h},get location(){return n(s,u)},listen(P){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(jI,_),d=P,()=>{s.removeEventListener(jI,_),d=null}},createHref(P){return e(s,P)},createURL:w,encodeLocation(P){let F=w(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:v,replace:S,go(P){return u.go(P)}};return I}function IV(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Zf(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Sx(n,e,t="/"){return RV(n,e,t,!1)}function RV(n,e,t,r){let s=typeof e=="string"?Mc(e):e,o=Qs(s.pathname||"/",t);if(o==null)return null;let u=Ax(n);CV(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let f=FV(o);h=LV(u[d],f,r)}return h}function Ax(n,e=[],t=[],r="",s=!1){let o=(u,h,d=s,f)=>{let g={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;Vt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let _=Ks([r,g.relativePath]),v=t.concat(g);u.children&&u.children.length>0&&(Vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Ax(u.children,e,v,_,d)),!(u.path==null&&!u.index)&&e.push({path:_,score:MV(_,u.index),routesMeta:v})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of Ix(u.path))o(u,h,!0,d)}),e}function Ix(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=Ix(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),s&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function CV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:VV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var xV=/^:[\w-]+$/,PV=3,OV=2,DV=1,NV=10,kV=-2,HI=n=>n==="*";function MV(n,e){let t=n.split("/"),r=t.length;return t.some(HI)&&(r+=kV),e&&(r+=OV),t.filter(s=>!HI(s)).reduce((s,o)=>s+(xV.test(o)?PV:o===""?DV:NV),r)}function VV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function LV(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],f=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Tg({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=Tg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Ks([o,_.pathname]),pathnameBase:qV(Ks([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Ks([o,_.pathnameBase]))}return u}function Tg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=UV(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:_},v)=>{if(g==="*"){let w=h[v]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const S=h[v];return _&&!S?f[g]=void 0:f[g]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:u,pattern:n}}function UV(n,e=!1,t=!0){hs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function FV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function BV(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Mc(n):n;return{pathname:t?t.startsWith("/")?t:zV(t,e):e,search:HV(r),hash:$V(s)}}function zV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function mE(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Rx(n){let e=jV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Cx(n,e,t,r=!1){let s;typeof n=="string"?s=Mc(n):(s={...n},Vt(!s.pathname||!s.pathname.includes("?"),mE("?","pathname","search",s)),Vt(!s.pathname||!s.pathname.includes("#"),mE("#","pathname","hash",s)),Vt(!s.search||!s.search.includes("#"),mE("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;s.pathname=v.join("/")}h=_>=0?e[_]:"/"}let d=BV(s,h),f=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Ks=n=>n.join("/").replace(/\/\/+/g,"/"),qV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$V=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function GV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var xx=["POST","PUT","PATCH","DELETE"];new Set(xx);var KV=["GET",...xx];new Set(KV);var Vc=Q.createContext(null);Vc.displayName="DataRouter";var ny=Q.createContext(null);ny.displayName="DataRouterState";Q.createContext(!1);var Px=Q.createContext({isTransitioning:!1});Px.displayName="ViewTransition";var WV=Q.createContext(new Map);WV.displayName="Fetchers";var QV=Q.createContext(null);QV.displayName="Await";var gs=Q.createContext(null);gs.displayName="Navigation";var Id=Q.createContext(null);Id.displayName="Location";var ys=Q.createContext({outlet:null,matches:[],isDataRoute:!1});ys.displayName="Route";var l0=Q.createContext(null);l0.displayName="RouteError";function YV(n,{relative:e}={}){Vt(Rd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Q.useContext(gs),{hash:s,pathname:o,search:u}=Cd(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ks([t,o])),r.createHref({pathname:h,search:u,hash:s})}function Rd(){return Q.useContext(Id)!=null}function _o(){return Vt(Rd(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Id).location}var Ox="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dx(n){Q.useContext(gs).static||Q.useLayoutEffect(n)}function ry(){let{isDataRoute:n}=Q.useContext(ys);return n?uL():XV()}function XV(){Vt(Rd(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(Vc),{basename:e,navigator:t}=Q.useContext(gs),{matches:r}=Q.useContext(ys),{pathname:s}=_o(),o=JSON.stringify(Rx(r)),u=Q.useRef(!1);return Dx(()=>{u.current=!0}),Q.useCallback((d,f={})=>{if(hs(u.current,Ox),!u.current)return;if(typeof d=="number"){t.go(d);return}let g=Cx(d,JSON.parse(o),s,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ks([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,s,n])}Q.createContext(null);function Nx(){let{matches:n}=Q.useContext(ys),e=n[n.length-1];return e?e.params:{}}function Cd(n,{relative:e}={}){let{matches:t}=Q.useContext(ys),{pathname:r}=_o(),s=JSON.stringify(Rx(t));return Q.useMemo(()=>Cx(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function JV(n,e){return kx(n,e)}function kx(n,e,t,r,s){Vt(Rd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(gs),{matches:u}=Q.useContext(ys),h=u[u.length-1],d=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let V=_&&_.path||"";Mx(f,!_||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let v=_o(),S;if(e){let V=typeof e=="string"?Mc(e):e;Vt(g==="/"||V.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),S=V}else S=v;let w=S.pathname||"/",I=w;if(g!=="/"){let V=g.replace(/^\//,"").split("/");I="/"+w.replace(/^\//,"").split("/").slice(V.length).join("/")}let P=Sx(n,{pathname:I});hs(_||P!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),hs(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=rL(P&&P.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:Ks([g,o.encodeLocation?o.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:Ks([g,o.encodeLocation?o.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),u,t,r,s);return e&&F?Q.createElement(Id.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function ZV(){let n=lL(),e=GV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:o},"ErrorBoundary")," or"," ",Q.createElement("code",{style:o},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:s},t):null,u)}var eL=Q.createElement(ZV,null),tL=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Q.createElement(ys.Provider,{value:this.props.routeContext},Q.createElement(l0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nL({routeContext:n,match:e,children:t}){let r=Q.useContext(Vc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(ys.Provider,{value:n},t)}function rL(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t?.errors;if(u!=null){let f=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Vt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let h=!1,d=-1;if(t)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:_,errors:v}=t,S=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,g,_)=>{let v,S=!1,w=null,I=null;t&&(v=u&&g.route.id?u[g.route.id]:void 0,w=g.route.errorElement||eL,h&&(d<0&&_===0?(Mx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,I=null):d===_&&(S=!0,I=g.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,_+1)),F=()=>{let V;return v?V=w:S?V=I:g.route.Component?V=Q.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=f,Q.createElement(nL,{match:g,routeContext:{outlet:f,matches:P,isDataRoute:t!=null},children:V})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?Q.createElement(tL,{location:t.location,revalidation:t.revalidation,component:w,error:v,children:F(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:r}):F()},null)}function u0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iL(n){let e=Q.useContext(Vc);return Vt(e,u0(n)),e}function sL(n){let e=Q.useContext(ny);return Vt(e,u0(n)),e}function aL(n){let e=Q.useContext(ys);return Vt(e,u0(n)),e}function c0(n){let e=aL(n),t=e.matches[e.matches.length-1];return Vt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oL(){return c0("useRouteId")}function lL(){let n=Q.useContext(l0),e=sL("useRouteError"),t=c0("useRouteError");return n!==void 0?n:e.errors?.[t]}function uL(){let{router:n}=iL("useNavigate"),e=c0("useNavigate"),t=Q.useRef(!1);return Dx(()=>{t.current=!0}),Q.useCallback(async(s,o={})=>{hs(t.current,Ox),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var $I={};function Mx(n,e,t){!e&&!$I[n]&&($I[n]=!0,hs(!1,t))}Q.memo(cL);function cL({routes:n,future:e,state:t,unstable_onError:r}){return kx(n,void 0,t,r,e)}function $a(n){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hL({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Vt(!Rd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=Q.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=Mc(t));let{pathname:d="/",search:f="",hash:g="",state:_=null,key:v="default"}=t,S=Q.useMemo(()=>{let w=Qs(d,u);return w==null?null:{location:{pathname:w,search:f,hash:g,state:_,key:v},navigationType:r}},[u,d,f,g,_,v,r]);return hs(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:Q.createElement(gs.Provider,{value:h},Q.createElement(Id.Provider,{children:e,value:S}))}function fL({children:n,location:e}){return JV(ZE(n),e)}function ZE(n,e=[]){let t=[];return Q.Children.forEach(n,(r,s)=>{if(!Q.isValidElement(r))return;let o=[...e,s];if(r.type===Q.Fragment){t.push.apply(t,ZE(r.props.children,o));return}Vt(r.type===$a,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=ZE(r.props.children,o)),t.push(u)}),t}var Ym="get",Xm="application/x-www-form-urlencoded";function iy(n){return n!=null&&typeof n.tagName=="string"}function dL(n){return iy(n)&&n.tagName.toLowerCase()==="button"}function pL(n){return iy(n)&&n.tagName.toLowerCase()==="form"}function mL(n){return iy(n)&&n.tagName.toLowerCase()==="input"}function gL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function yL(n,e){return n.button===0&&(!e||e==="_self")&&!gL(n)}var Nm=null;function _L(){if(Nm===null)try{new FormData(document.createElement("form"),0),Nm=!1}catch{Nm=!0}return Nm}var vL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gE(n){return n!=null&&!vL.has(n)?(hs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xm}"`),null):n}function EL(n,e){let t,r,s,o,u;if(pL(n)){let h=n.getAttribute("action");r=h?Qs(h,e):null,t=n.getAttribute("method")||Ym,s=gE(n.getAttribute("enctype"))||Xm,o=new FormData(n)}else if(dL(n)||mL(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?Qs(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Ym,s=gE(n.getAttribute("formenctype"))||gE(h.getAttribute("enctype"))||Xm,o=new FormData(h,n),!_L()){let{name:f,type:g,value:_}=n;if(g==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,_)}}else{if(iy(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ym,r=null,s=Xm,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function h0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function bL(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Qs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function TL(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wL(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SL(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await TL(o,t);return u.links?u.links():[]}return[]}));return CL(r.flat(1).filter(wL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function GI(n,e,t,r,s,o){let u=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>u(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function AL(n,e,{includeHydrateFallback:t}={}){return IL(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function IL(n){return[...new Set(n)]}function RL(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function CL(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(RL(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function Vx(){let n=Q.useContext(Vc);return h0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xL(){let n=Q.useContext(ny);return h0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var f0=Q.createContext(void 0);f0.displayName="FrameworkContext";function Lx(){let n=Q.useContext(f0);return h0(n,"You must render this element inside a <HydratedRouter> element"),n}function PL(n,e){let t=Q.useContext(f0),[r,s]=Q.useState(!1),[o,u]=Q.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:_}=e,v=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=F=>{F.forEach(V=>{u(V.isIntersecting)})},P=new IntersectionObserver(I,{threshold:.5});return v.current&&P.observe(v.current),()=>{P.disconnect()}}},[n]),Q.useEffect(()=>{if(r){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[r]);let S=()=>{s(!0)},w=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:nf(h,S),onBlur:nf(d,w),onMouseEnter:nf(f,S),onMouseLeave:nf(g,w),onTouchStart:nf(_,S)}]:[!1,v,{}]}function nf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function OL({page:n,...e}){let{router:t}=Vx(),r=Q.useMemo(()=>Sx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Q.createElement(NL,{page:n,matches:r,...e}):null}function DL(n){let{manifest:e,routeModules:t}=Lx(),[r,s]=Q.useState([]);return Q.useEffect(()=>{let o=!1;return SL(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function NL({page:n,matches:e,...t}){let r=_o(),{manifest:s,routeModules:o}=Lx(),{basename:u}=Vx(),{loaderData:h,matches:d}=xL(),f=Q.useMemo(()=>GI(n,e,d,s,r,"data"),[n,e,d,s,r]),g=Q.useMemo(()=>GI(n,e,d,s,r,"assets"),[n,e,d,s,r]),_=Q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,I=!1;if(e.forEach(F=>{let V=s.routes[F.route.id];!V||!V.hasLoader||(!f.some(z=>z.route.id===F.route.id)&&F.route.id in h&&o[F.route.id]?.shouldRevalidate||V.hasClientLoader?I=!0:w.add(F.route.id))}),w.size===0)return[];let P=bL(n,u,"data");return I&&w.size>0&&P.searchParams.set("_routes",e.filter(F=>w.has(F.route.id)).map(F=>F.route.id).join(",")),[P.pathname+P.search]},[u,h,r,s,f,e,n,o]),v=Q.useMemo(()=>AL(g,s),[g,s]),S=DL(g);return Q.createElement(Q.Fragment,null,_.map(w=>Q.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),v.map(w=>Q.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),S.map(({key:w,link:I})=>Q.createElement("link",{key:w,nonce:t.nonce,...I})))}function kL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ux=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ux&&(window.__reactRouterVersion="7.9.4")}catch{}function ML({basename:n,children:e,window:t}){let r=Q.useRef();r.current==null&&(r.current=wV({window:t,v5Compat:!0}));let s=r.current,[o,u]=Q.useState({action:s.action,location:s.location}),h=Q.useCallback(d=>{Q.startTransition(()=>u(d))},[u]);return Q.useLayoutEffect(()=>s.listen(h),[s,h]),Q.createElement(hL,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var Fx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ei=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:h,target:d,to:f,preventScrollReset:g,viewTransition:_,...v},S){let{basename:w}=Q.useContext(gs),I=typeof f=="string"&&Fx.test(f),P,F=!1;if(typeof f=="string"&&I&&(P=f,Ux))try{let x=new URL(window.location.href),L=f.startsWith("//")?new URL(x.protocol+f):new URL(f),O=Qs(L.pathname,w);L.origin===x.origin&&O!=null?f=O+L.search+L.hash:F=!0}catch{hs(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=YV(f,{relative:s}),[z,W,$]=PL(r,v),H=FL(f,{replace:u,state:h,target:d,preventScrollReset:g,relative:s,viewTransition:_});function N(x){e&&e(x),x.defaultPrevented||H(x)}let C=Q.createElement("a",{...v,...$,href:P||V,onClick:F||o?e:N,ref:kL(S,W),target:d,"data-discover":!I&&t==="render"?"true":void 0});return z&&!I?Q.createElement(Q.Fragment,null,C,Q.createElement(OL,{page:V})):C});Ei.displayName="Link";var VL=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:h,children:d,...f},g){let _=Cd(u,{relative:f.relative}),v=_o(),S=Q.useContext(ny),{navigator:w,basename:I}=Q.useContext(gs),P=S!=null&&HL(_)&&h===!0,F=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,V=v.pathname,z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(V=V.toLowerCase(),z=z?z.toLowerCase():null,F=F.toLowerCase()),z&&I&&(z=Qs(z,I)||z);const W=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let $=V===F||!s&&V.startsWith(F)&&V.charAt(W)==="/",H=z!=null&&(z===F||!s&&z.startsWith(F)&&z.charAt(F.length)==="/"),N={isActive:$,isPending:H,isTransitioning:P},C=$?e:void 0,x;typeof r=="function"?x=r(N):x=[r,$?"active":null,H?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(N):o;return Q.createElement(Ei,{...f,"aria-current":C,className:x,ref:g,style:L,to:u,viewTransition:h},typeof d=="function"?d(N):d)});VL.displayName="NavLink";var LL=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=Ym,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:_,...v},S)=>{let w=jL(),I=qL(h,{relative:f}),P=u.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&Fx.test(h),V=z=>{if(d&&d(z),z.defaultPrevented)return;z.preventDefault();let W=z.nativeEvent.submitter,$=W?.getAttribute("formmethod")||u;w(W||z.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:s,state:o,relative:f,preventScrollReset:g,viewTransition:_})};return Q.createElement("form",{ref:S,method:P,action:I,onSubmit:r?d:V,...v,"data-discover":!F&&n==="render"?"true":void 0})});LL.displayName="Form";function UL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bx(n){let e=Q.useContext(Vc);return Vt(e,UL(n)),e}function FL(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let h=ry(),d=_o(),f=Cd(n,{relative:o});return Q.useCallback(g=>{if(yL(g,e)){g.preventDefault();let _=t!==void 0?t:Zf(d)===Zf(f);h(n,{replace:_,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[d,h,f,t,r,e,n,s,o,u])}var BL=0,zL=()=>`__${String(++BL)}__`;function jL(){let{router:n}=Bx("useSubmit"),{basename:e}=Q.useContext(gs),t=oL();return Q.useCallback(async(r,s={})=>{let{action:o,method:u,encType:h,formData:d,body:f}=EL(r,e);if(s.navigate===!1){let g=s.fetcherKey||zL();await n.fetch(g,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function qL(n,{relative:e}={}){let{basename:t}=Q.useContext(gs),r=Q.useContext(ys);Vt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Cd(n||".",{relative:e})},u=_o();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ks([t,o.pathname])),Zf(o)}function HL(n,{relative:e}={}){let t=Q.useContext(Px);Vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Bx("useViewTransitionState"),s=Cd(n,{relative:e});if(!t.isTransitioning)return!1;let o=Qs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Qs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Tg(s.pathname,u)!=null||Tg(s.pathname,o)!=null}var yE={},rf={},km={},Mm={},_E={exports:{}},vE,KI;function $L(){if(KI)return vE;KI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vE=n,vE}var EE,WI;function GL(){if(WI)return EE;WI=1;var n=$L();function e(){}function t(){}return t.resetWarningCache=e,EE=function(){function r(u,h,d,f,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},EE}var QI;function zx(){return QI||(QI=1,_E.exports=GL()()),_E.exports}var YI;function KL(){return YI||(YI=1,(function(n){(function(e,t){t(n,yo(),zx())})(Mm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=w;var s=u(t),o=u(r);function u(V){return V&&V.__esModule?V:{default:V}}var h=Object.assign||function(V){for(var z=1;z<arguments.length;z++){var W=arguments[z];for(var $ in W)Object.prototype.hasOwnProperty.call(W,$)&&(V[$]=W[$])}return V};function d(V,z){var W={};for(var $ in V)z.indexOf($)>=0||Object.prototype.hasOwnProperty.call(V,$)&&(W[$]=V[$]);return W}function f(V,z){if(!(V instanceof z))throw new TypeError("Cannot call a class as a function")}var g=(function(){function V(z,W){for(var $=0;$<W.length;$++){var H=W[$];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(z,H.key,H)}}return function(z,W,$){return W&&V(z.prototype,W),$&&V(z,$),z}})();function _(V,z){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:V}function v(V,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);V.prototype=Object.create(z&&z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(V,z):V.__proto__=z)}var S=!1;function w(V){S=V}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){w(!0)}}))}catch{}function I(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return S?V:V.capture}function P(V){if("touches"in V){var z=V.touches[0],W=z.pageX,$=z.pageY;return{x:W,y:$}}var H=V.screenX,N=V.screenY;return{x:H,y:N}}var F=(function(V){v(z,V);function z(){var W;f(this,z);for(var $=arguments.length,H=Array($),N=0;N<$;N++)H[N]=arguments[N];var C=_(this,(W=z.__proto__||Object.getPrototypeOf(z)).call.apply(W,[this].concat(H)));return C._handleSwipeStart=C._handleSwipeStart.bind(C),C._handleSwipeMove=C._handleSwipeMove.bind(C),C._handleSwipeEnd=C._handleSwipeEnd.bind(C),C._onMouseDown=C._onMouseDown.bind(C),C._onMouseMove=C._onMouseMove.bind(C),C._onMouseUp=C._onMouseUp.bind(C),C._setSwiperRef=C._setSwiperRef.bind(C),C}return g(z,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function($){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart($))}},{key:"_onMouseMove",value:function($){this.mouseDown&&this._handleSwipeMove($)}},{key:"_onMouseUp",value:function($){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd($)}},{key:"_handleSwipeStart",value:function($){var H=P($),N=H.x,C=H.y;this.moveStart={x:N,y:C},this.props.onSwipeStart($)}},{key:"_handleSwipeMove",value:function($){if(this.moveStart){var H=P($),N=H.x,C=H.y,x=N-this.moveStart.x,L=C-this.moveStart.y;this.moving=!0;var O=this.props.onSwipeMove({x,y:L},$);O&&$.cancelable&&$.preventDefault(),this.movePosition={deltaX:x,deltaY:L}}}},{key:"_handleSwipeEnd",value:function($){this.props.onSwipeEnd($);var H=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-H?this.props.onSwipeLeft(1,$):this.movePosition.deltaX>H&&this.props.onSwipeRight(1,$),this.movePosition.deltaY<-H?this.props.onSwipeUp(1,$):this.movePosition.deltaY>H&&this.props.onSwipeDown(1,$)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function($){this.swiper=$,this.props.innerRef($)}},{key:"render",value:function(){var $=this.props;$.tagName;var H=$.className,N=$.style,C=$.children;$.allowMouseEvents,$.onSwipeUp,$.onSwipeDown,$.onSwipeLeft,$.onSwipeRight,$.onSwipeStart,$.onSwipeMove,$.onSwipeEnd,$.innerRef,$.tolerance;var x=d($,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return s.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:H,style:N},x),C)}}]),z})(t.Component);F.displayName="ReactSwipe",F.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},F.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=F})})(Mm)),Mm}var XI;function jx(){return XI||(XI=1,(function(n){(function(e,t){t(n,KL())})(km,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=s(t);function s(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})})(km)),km}var sf={},bE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var JI;function WL(){return JI||(JI=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=s(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=s(u,h));return u}function s(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(bE)),bE.exports}var ZI;function qx(){if(ZI)return sf;ZI=1,Object.defineProperty(sf,"__esModule",{value:!0}),sf.default=void 0;var n=e(WL());function e(s){return s&&s.__esModule?s:{default:s}}function t(s,o,u){return o in s?Object.defineProperty(s,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[o]=u,s}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return sf.default=r,sf}var af={},of={},eR;function QL(){if(eR)return of;eR=1,Object.defineProperty(of,"__esModule",{value:!0}),of.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,s=getComputedStyle(t);return r+=parseInt(s.marginLeft)+parseInt(s.marginRight),r};return of.outerWidth=n,of}var lf={},tR;function d0(){if(tR)return lf;tR=1,Object.defineProperty(lf,"__esModule",{value:!0}),lf.default=void 0;var n=function(t,r,s){var o=t===0?t:t+r,u=s==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",d="("+u.join(",")+")";return h+d};return lf.default=n,lf}var uf={},nR;function Hx(){if(nR)return uf;nR=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.default=void 0;var n=function(){return window};return uf.default=n,uf}var rR;function $x(){if(rR)return af;rR=1,Object.defineProperty(af,"__esModule",{value:!0}),af.default=void 0;var n=d(yo()),e=u(qx()),t=QL(),r=u(d0()),s=u(jx()),o=u(Hx());function u(C){return C&&C.__esModule?C:{default:C}}function h(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return h=function(){return C},C}function d(C){if(C&&C.__esModule)return C;if(C===null||f(C)!=="object"&&typeof C!="function")return{default:C};var x=h();if(x&&x.has(C))return x.get(C);var L={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in C)if(Object.prototype.hasOwnProperty.call(C,b)){var R=O?Object.getOwnPropertyDescriptor(C,b):null;R&&(R.get||R.set)?Object.defineProperty(L,b,R):L[b]=C[b]}return L.default=C,x&&x.set(C,L),L}function f(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(L){return typeof L}:f=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},f(C)}function g(){return g=Object.assign||function(C){for(var x=1;x<arguments.length;x++){var L=arguments[x];for(var O in L)Object.prototype.hasOwnProperty.call(L,O)&&(C[O]=L[O])}return C},g.apply(this,arguments)}function _(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}function v(C,x){for(var L=0;L<x.length;L++){var O=x[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}function S(C,x,L){return x&&v(C.prototype,x),C}function w(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(x&&x.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),x&&I(C,x)}function I(C,x){return I=Object.setPrototypeOf||function(O,b){return O.__proto__=b,O},I(C,x)}function P(C){var x=z();return function(){var O=W(C),b;if(x){var R=W(this).constructor;b=Reflect.construct(O,arguments,R)}else b=O.apply(this,arguments);return F(this,b)}}function F(C,x){return x&&(f(x)==="object"||typeof x=="function")?x:V(C)}function V(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function W(C){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},W(C)}function $(C,x,L){return x in C?Object.defineProperty(C,x,{value:L,enumerable:!0,configurable:!0,writable:!0}):C[x]=L,C}var H=function(x){return x.hasOwnProperty("key")},N=(function(C){w(L,C);var x=P(L);function L(O){var b;return _(this,L),b=x.call(this,O),$(V(b),"itemsWrapperRef",void 0),$(V(b),"itemsListRef",void 0),$(V(b),"thumbsRef",void 0),$(V(b),"setItemsWrapperRef",function(R){b.itemsWrapperRef=R}),$(V(b),"setItemsListRef",function(R){b.itemsListRef=R}),$(V(b),"setThumbsRef",function(R,G){b.thumbsRef||(b.thumbsRef=[]),b.thumbsRef[G]=R}),$(V(b),"updateSizes",function(){if(!(!b.props.children||!b.itemsWrapperRef||!b.thumbsRef)){var R=n.Children.count(b.props.children),G=b.itemsWrapperRef.clientWidth,M=b.props.thumbWidth?b.props.thumbWidth:(0,t.outerWidth)(b.thumbsRef[0]),j=Math.floor(G/M),X=j<R,ne=X?R-j:0;b.setState(function(be,we){return{itemSize:M,visibleItems:j,firstItem:X?b.getFirstItem(we.selectedItem):0,lastPosition:ne,showArrows:X}})}}),$(V(b),"handleClickItem",function(R,G,M){if(!H(M)||M.key==="Enter"){var j=b.props.onSelectItem;typeof j=="function"&&j(R,G)}}),$(V(b),"onSwipeStart",function(){b.setState({swiping:!0})}),$(V(b),"onSwipeEnd",function(){b.setState({swiping:!1})}),$(V(b),"onSwipeMove",function(R){var G=R.x;if(!b.state.itemSize||!b.itemsWrapperRef||!b.state.visibleItems)return!1;var M=0,j=n.Children.count(b.props.children),X=-(b.state.firstItem*100)/b.state.visibleItems,ne=Math.max(j-b.state.visibleItems,0),be=-ne*100/b.state.visibleItems;X===M&&G>0&&(G=0),X===be&&G<0&&(G=0);var we=b.itemsWrapperRef.clientWidth,B=X+100/(we/G);return b.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(se){b.itemsListRef.style[se]=(0,r.default)(B,"%",b.props.axis)}),!0}),$(V(b),"slideRight",function(R){b.moveTo(b.state.firstItem-(typeof R=="number"?R:1))}),$(V(b),"slideLeft",function(R){b.moveTo(b.state.firstItem+(typeof R=="number"?R:1))}),$(V(b),"moveTo",function(R){R=R<0?0:R,R=R>=b.state.lastPosition?b.state.lastPosition:R,b.setState({firstItem:R})}),b.state={selectedItem:O.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},b}return S(L,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(b){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==b.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(b){var R=b;return b>=this.state.lastPosition&&(R=this.state.lastPosition),b<this.state.firstItem+this.state.visibleItems&&(R=this.state.firstItem),b<this.state.firstItem&&(R=b),R}},{key:"renderItems",value:function(){var b=this;return this.props.children.map(function(R,G){var M=e.default.ITEM(!1,G===b.state.selectedItem),j={key:G,ref:function(ne){return b.setThumbsRef(ne,G)},className:M,onClick:b.handleClickItem.bind(b,G,b.props.children[G]),onKeyDown:b.handleClickItem.bind(b,G,b.props.children[G]),"aria-label":"".concat(b.props.labels.item," ").concat(G+1),style:{width:b.props.thumbWidth}};return n.default.createElement("li",g({},j,{role:"button",tabIndex:0}),R)})}},{key:"render",value:function(){var b=this;if(!this.props.children)return null;var R=n.Children.count(this.props.children)>1,G=this.state.showArrows&&this.state.firstItem>0,M=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,j={},X=-this.state.firstItem*(this.state.itemSize||0),ne=(0,r.default)(X,"px",this.props.axis),be=this.props.transitionTime+"ms";return j={WebkitTransform:ne,MozTransform:ne,MsTransform:ne,OTransform:ne,transform:ne,msTransform:ne,WebkitTransitionDuration:be,MozTransitionDuration:be,MsTransitionDuration:be,OTransitionDuration:be,transitionDuration:be,msTransitionDuration:be},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!G),onClick:function(){return b.slideRight()},"aria-label":this.props.labels.leftArrow}),R?n.default.createElement(s.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:j,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(B){return b.setItemsListRef(B)},style:j},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!M),onClick:function(){return b.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),L})(n.Component);return af.default=N,$(N,"displayName","Thumbs"),$(N,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),af}var cf={},iR;function YL(){if(iR)return cf;iR=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.default=void 0;var n=function(){return document};return cf.default=n,cf}var Pr={},sR;function Gx(){if(sR)return Pr;sR=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.setPosition=Pr.getPosition=Pr.isKeyboardEvent=Pr.defaultStatusFormatter=Pr.noop=void 0;var n=yo(),e=t(d0());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};Pr.noop=r;var s=function(f,g){return"".concat(f," of ").concat(g)};Pr.defaultStatusFormatter=s;var o=function(f){return f?f.hasOwnProperty("key"):!1};Pr.isKeyboardEvent=o;var u=function(f,g){if(g.infiniteLoop&&++f,f===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-f*g.centerSlidePercentage,S=_-1;return f&&(f!==S||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:f===S&&(v+=100-g.centerSlidePercentage),v}return-f*100};Pr.getPosition=u;var h=function(f,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(f,"%",g)}),_};return Pr.setPosition=h,Pr}var _i={},aR;function XL(){if(aR)return _i;aR=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.fadeAnimationHandler=_i.slideStopSwipingHandler=_i.slideSwipeAnimationHandler=_i.slideAnimationHandler=void 0;var n=yo(),e=r(d0()),t=Gx();function r(_){return _&&_.__esModule?_:{default:_}}function s(_,v){var S=Object.keys(_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);v&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(_,I).enumerable})),S.push.apply(S,w)}return S}function o(_){for(var v=1;v<arguments.length;v++){var S=arguments[v]!=null?arguments[v]:{};v%2?s(Object(S),!0).forEach(function(w){u(_,w,S[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(S)):s(Object(S)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(S,w))})}return _}function u(_,v,S){return v in _?Object.defineProperty(_,v,{value:S,enumerable:!0,configurable:!0,writable:!0}):_[v]=S,_}var h=function(v,S){var w={},I=S.selectedItem,P=I,F=n.Children.count(v.children)-1,V=v.infiniteLoop&&(I<0||I>F);if(V)return P<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?w.itemListStyle=(0,t.setPosition)(-(F+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):w.itemListStyle=(0,t.setPosition)(-(F+2)*100,v.axis):P>F&&(w.itemListStyle=(0,t.setPosition)(0,v.axis)),w;var z=(0,t.getPosition)(I,v),W=(0,e.default)(z,"%",v.axis),$=v.transitionTime+"ms";return w.itemListStyle={WebkitTransform:W,msTransform:W,OTransform:W,transform:W},S.swiping||(w.itemListStyle=o(o({},w.itemListStyle),{},{WebkitTransitionDuration:$,MozTransitionDuration:$,OTransitionDuration:$,transitionDuration:$,msTransitionDuration:$})),w};_i.slideAnimationHandler=h;var d=function(v,S,w,I){var P={},F=S.axis==="horizontal",V=n.Children.count(S.children),z=0,W=(0,t.getPosition)(w.selectedItem,S),$=S.infiniteLoop?(0,t.getPosition)(V-1,S)-100:(0,t.getPosition)(V-1,S),H=F?v.x:v.y,N=H;W===z&&H>0&&(N=0),W===$&&H<0&&(N=0);var C=W+100/(w.itemSize/N),x=Math.abs(H)>S.swipeScrollTolerance;return S.infiniteLoop&&x&&(w.selectedItem===0&&C>-100?C-=V*100:w.selectedItem===V-1&&C<-V*100&&(C+=V*100)),(!S.preventMovementUntilSwipeScrollTolerance||x||w.swipeMovementStarted)&&(w.swipeMovementStarted||I({swipeMovementStarted:!0}),P.itemListStyle=(0,t.setPosition)(C,S.axis)),x&&!w.cancelClick&&I({cancelClick:!0}),P};_i.slideSwipeAnimationHandler=d;var f=function(v,S){var w=(0,t.getPosition)(S.selectedItem,v),I=(0,t.setPosition)(w,v.axis);return{itemListStyle:I}};_i.slideStopSwipingHandler=f;var g=function(v,S){var w=v.transitionTime+"ms",I="ease-in-out",P={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:I,msTransitionTimingFunction:I,MozTransitionTimingFunction:I,WebkitTransitionTimingFunction:I,OTransitionTimingFunction:I};return S.swiping||(P=o(o({},P),{},{WebkitTransitionDuration:w,MozTransitionDuration:w,OTransitionDuration:w,transitionDuration:w,msTransitionDuration:w})),{slideStyle:P,selectedStyle:o(o({},P),{},{opacity:1,position:"relative"}),prevStyle:o({},P)}};return _i.fadeAnimationHandler=g,_i}var oR;function JL(){if(oR)return rf;oR=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.default=void 0;var n=g(yo()),e=d(jx()),t=d(qx()),r=d($x()),s=d(YL()),o=d(Hx()),u=Gx(),h=XL();function d(O){return O&&O.__esModule?O:{default:O}}function f(){if(typeof WeakMap!="function")return null;var O=new WeakMap;return f=function(){return O},O}function g(O){if(O&&O.__esModule)return O;if(O===null||_(O)!=="object"&&typeof O!="function")return{default:O};var b=f();if(b&&b.has(O))return b.get(O);var R={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in O)if(Object.prototype.hasOwnProperty.call(O,M)){var j=G?Object.getOwnPropertyDescriptor(O,M):null;j&&(j.get||j.set)?Object.defineProperty(R,M,j):R[M]=O[M]}return R.default=O,b&&b.set(O,R),R}function _(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(R){return typeof R}:_=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},_(O)}function v(){return v=Object.assign||function(O){for(var b=1;b<arguments.length;b++){var R=arguments[b];for(var G in R)Object.prototype.hasOwnProperty.call(R,G)&&(O[G]=R[G])}return O},v.apply(this,arguments)}function S(O,b){var R=Object.keys(O);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(O);b&&(G=G.filter(function(M){return Object.getOwnPropertyDescriptor(O,M).enumerable})),R.push.apply(R,G)}return R}function w(O){for(var b=1;b<arguments.length;b++){var R=arguments[b]!=null?arguments[b]:{};b%2?S(Object(R),!0).forEach(function(G){x(O,G,R[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(R)):S(Object(R)).forEach(function(G){Object.defineProperty(O,G,Object.getOwnPropertyDescriptor(R,G))})}return O}function I(O,b){if(!(O instanceof b))throw new TypeError("Cannot call a class as a function")}function P(O,b){for(var R=0;R<b.length;R++){var G=b[R];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(O,G.key,G)}}function F(O,b,R){return b&&P(O.prototype,b),O}function V(O,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(b&&b.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),b&&z(O,b)}function z(O,b){return z=Object.setPrototypeOf||function(G,M){return G.__proto__=M,G},z(O,b)}function W(O){var b=N();return function(){var G=C(O),M;if(b){var j=C(this).constructor;M=Reflect.construct(G,arguments,j)}else M=G.apply(this,arguments);return $(this,M)}}function $(O,b){return b&&(_(b)==="object"||typeof b=="function")?b:H(O)}function H(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function C(O){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)},C(O)}function x(O,b,R){return b in O?Object.defineProperty(O,b,{value:R,enumerable:!0,configurable:!0,writable:!0}):O[b]=R,O}var L=(function(O){V(R,O);var b=W(R);function R(G){var M;I(this,R),M=b.call(this,G),x(H(M),"thumbsRef",void 0),x(H(M),"carouselWrapperRef",void 0),x(H(M),"listRef",void 0),x(H(M),"itemsRef",void 0),x(H(M),"timer",void 0),x(H(M),"animationHandler",void 0),x(H(M),"setThumbsRef",function(X){M.thumbsRef=X}),x(H(M),"setCarouselWrapperRef",function(X){M.carouselWrapperRef=X}),x(H(M),"setListRef",function(X){M.listRef=X}),x(H(M),"setItemsRef",function(X,ne){M.itemsRef||(M.itemsRef=[]),M.itemsRef[ne]=X}),x(H(M),"autoPlay",function(){n.Children.count(M.props.children)<=1||(M.clearAutoPlay(),M.props.autoPlay&&(M.timer=setTimeout(function(){M.increment()},M.props.interval)))}),x(H(M),"clearAutoPlay",function(){M.timer&&clearTimeout(M.timer)}),x(H(M),"resetAutoPlay",function(){M.clearAutoPlay(),M.autoPlay()}),x(H(M),"stopOnHover",function(){M.setState({isMouseEntered:!0},M.clearAutoPlay)}),x(H(M),"startOnLeave",function(){M.setState({isMouseEntered:!1},M.autoPlay)}),x(H(M),"isFocusWithinTheCarousel",function(){return M.carouselWrapperRef?!!((0,s.default)().activeElement===M.carouselWrapperRef||M.carouselWrapperRef.contains((0,s.default)().activeElement)):!1}),x(H(M),"navigateWithKeyboard",function(X){if(M.isFocusWithinTheCarousel()){var ne=M.props.axis,be=ne==="horizontal",we={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},B=be?we.ArrowRight:we.ArrowDown,se=be?we.ArrowLeft:we.ArrowUp;B===X.keyCode?M.increment():se===X.keyCode&&M.decrement()}}),x(H(M),"updateSizes",function(){if(!(!M.state.initialized||!M.itemsRef||M.itemsRef.length===0)){var X=M.props.axis==="horizontal",ne=M.itemsRef[0];if(ne){var be=X?ne.clientWidth:ne.clientHeight;M.setState({itemSize:be}),M.thumbsRef&&M.thumbsRef.updateSizes()}}}),x(H(M),"setMountState",function(){M.setState({hasMount:!0}),M.updateSizes()}),x(H(M),"handleClickItem",function(X,ne){if(n.Children.count(M.props.children)!==0){if(M.state.cancelClick){M.setState({cancelClick:!1});return}M.props.onClickItem(X,ne),X!==M.state.selectedItem&&M.setState({selectedItem:X})}}),x(H(M),"handleOnChange",function(X,ne){n.Children.count(M.props.children)<=1||M.props.onChange(X,ne)}),x(H(M),"handleClickThumb",function(X,ne){M.props.onClickThumb(X,ne),M.moveTo(X)}),x(H(M),"onSwipeStart",function(X){M.setState({swiping:!0}),M.props.onSwipeStart(X)}),x(H(M),"onSwipeEnd",function(X){M.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),M.props.onSwipeEnd(X),M.clearAutoPlay(),M.state.autoPlay&&M.autoPlay()}),x(H(M),"onSwipeMove",function(X,ne){M.props.onSwipeMove(ne);var be=M.props.swipeAnimationHandler(X,M.props,M.state,M.setState.bind(H(M)));return M.setState(w({},be)),!!Object.keys(be).length}),x(H(M),"decrement",function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;M.moveTo(M.state.selectedItem-(typeof X=="number"?X:1))}),x(H(M),"increment",function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;M.moveTo(M.state.selectedItem+(typeof X=="number"?X:1))}),x(H(M),"moveTo",function(X){if(typeof X=="number"){var ne=n.Children.count(M.props.children)-1;X<0&&(X=M.props.infiniteLoop?ne:0),X>ne&&(X=M.props.infiniteLoop?0:ne),M.selectItem({selectedItem:X}),M.state.autoPlay&&M.state.isMouseEntered===!1&&M.resetAutoPlay()}}),x(H(M),"onClickNext",function(){M.increment(1)}),x(H(M),"onClickPrev",function(){M.decrement(1)}),x(H(M),"onSwipeForward",function(){M.increment(1),M.props.emulateTouch&&M.setState({cancelClick:!0})}),x(H(M),"onSwipeBackwards",function(){M.decrement(1),M.props.emulateTouch&&M.setState({cancelClick:!0})}),x(H(M),"changeItem",function(X){return function(ne){(!(0,u.isKeyboardEvent)(ne)||ne.key==="Enter")&&M.moveTo(X)}}),x(H(M),"selectItem",function(X){M.setState(w({previousItem:M.state.selectedItem},X),function(){M.setState(M.animationHandler(M.props,M.state))}),M.handleOnChange(X.selectedItem,n.Children.toArray(M.props.children)[X.selectedItem])}),x(H(M),"getInitialImage",function(){var X=M.props.selectedItem,ne=M.itemsRef&&M.itemsRef[X],be=ne&&ne.getElementsByTagName("img")||[];return be[0]}),x(H(M),"getVariableItemHeight",function(X){var ne=M.itemsRef&&M.itemsRef[X];if(M.state.hasMount&&ne&&ne.children.length){var be=ne.children[0].getElementsByTagName("img")||[];if(be.length>0){var we=be[0];if(!we.complete){var B=function pe(){M.forceUpdate(),we.removeEventListener("load",pe)};we.addEventListener("load",B)}}var se=be[0]||ne.children[0],ye=se.clientHeight;return ye>0?ye:null}return null});var j={initialized:!1,previousItem:G.selectedItem,selectedItem:G.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:G.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return M.animationHandler=typeof G.animationHandler=="function"&&G.animationHandler||G.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,M.state=w(w({},j),M.animationHandler(G,j)),M}return F(R,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(M,j){!M.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!M.autoFocus&&this.props.autoFocus&&this.forceFocus(),j.swiping&&!this.state.swiping&&this.setState(w({},this.props.stopSwipingHandler(this.props,this.state))),(M.selectedItem!==this.props.selectedItem||M.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),M.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var M=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var j=M.getInitialImage();j&&!j.complete?j.addEventListener("load",M.setMountState):M.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var M=this.carouselWrapperRef;this.props.stopOnHover&&M&&(M.addEventListener("mouseenter",this.stopOnHover),M.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var M=this.carouselWrapperRef;this.props.stopOnHover&&M&&(M.removeEventListener("mouseenter",this.stopOnHover),M.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,s.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var M=this.getInitialImage();M&&M.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,s.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var M;(M=this.carouselWrapperRef)===null||M===void 0||M.focus()}},{key:"renderItems",value:function(M){var j=this;return this.props.children?n.Children.map(this.props.children,function(X,ne){var be=ne===j.state.selectedItem,we=ne===j.state.previousItem,B=be&&j.state.selectedStyle||we&&j.state.prevStyle||j.state.slideStyle||{};j.props.centerMode&&j.props.axis==="horizontal"&&(B=w(w({},B),{},{minWidth:j.props.centerSlidePercentage+"%"})),j.state.swiping&&j.state.swipeMovementStarted&&(B=w(w({},B),{},{pointerEvents:"none"}));var se={ref:function(pe){return j.setItemsRef(pe,ne)},key:"itemKey"+ne+(M?"clone":""),className:t.default.ITEM(!0,ne===j.state.selectedItem,ne===j.state.previousItem),onClick:j.handleClickItem.bind(j,ne,X),style:B};return n.default.createElement("li",se,j.props.renderItem(X,{isSelected:ne===j.state.selectedItem,isPrevious:ne===j.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var M=this,j=this.props,X=j.showIndicators,ne=j.labels,be=j.renderIndicator,we=j.children;return X?n.default.createElement("ul",{className:"control-dots"},n.Children.map(we,function(B,se){return be&&be(M.changeItem(se),se===M.state.selectedItem,se,ne.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var M=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var j=this.props.swipeable&&n.Children.count(this.props.children)>1,X=this.props.axis==="horizontal",ne=this.props.showArrows&&n.Children.count(this.props.children)>1,be=ne&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,we=ne&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,B=this.renderItems(!0),se=B.shift(),ye=B.pop(),pe={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Ce={};if(X){if(pe.onSwipeLeft=this.onSwipeForward,pe.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var De=this.getVariableItemHeight(this.state.selectedItem);Ce.height=De||"auto"}}else pe.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,pe.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,pe.style=w(w({},pe.style),{},{height:this.state.itemSize}),Ce.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,be,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Ce},j?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},pe,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ye,this.renderItems(),this.props.infiniteLoop&&se):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(Mt){return M.setListRef(Mt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ye,this.renderItems(),this.props.infiniteLoop&&se)),this.props.renderArrowNext(this.onClickNext,we,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),R})(n.default.Component);return rf.default=L,x(L,"displayName","Carousel"),x(L,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(b,R,G){return n.default.createElement("button",{type:"button","aria-label":G,className:t.default.ARROW_PREV(!R),onClick:b})},renderArrowNext:function(b,R,G){return n.default.createElement("button",{type:"button","aria-label":G,className:t.default.ARROW_NEXT(!R),onClick:b})},renderIndicator:function(b,R,G,M){return n.default.createElement("li",{className:t.default.DOT(R),onClick:b,onKeyDown:b,value:G,key:G,role:"button",tabIndex:0,"aria-label":"".concat(M," ").concat(G+1)})},renderItem:function(b){return b},renderThumbs:function(b){var R=n.Children.map(b,function(G){var M=G;if(G.type!=="img"&&(M=n.Children.toArray(G.props.children).find(function(j){return j.type==="img"})),!!M)return M});return R.filter(function(G){return G}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):R},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),rf}var lR={},uR;function ZL(){return uR||(uR=1),lR}var cR;function e4(){return cR||(cR=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=s(JL()),t=ZL(),r=s($x());function s(o){return o&&o.__esModule?o:{default:o}}})(yE)),yE}var t4=e4();const n4="/assets/10001-CXboPI6P.jpg",r4="/assets/10002-Cj8HXlln.jpg",i4="/assets/10003-BRftKkGe.jpg",s4="/assets/10004-Fp0oaH3y.jpg",a4="/assets/10005-bl35EseN.jpg",o4=[n4,r4,i4,s4,a4],l4="_hero_img_oknd0_1",u4={hero_img:l4},c4=()=>U.jsxs("div",{children:[U.jsx(t4.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:o4.map((n,e)=>U.jsx("img",{src:n},e))}),U.jsx("div",{className:u4.hero_img})]}),h4=[{title:"Electronics",name:"electronics",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_Electronics_1x._SY304_CB432774322_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://assets.vogue.com/photos/62f2225746ad3eb633efdf3b/master/w_2560%2Cc_limit/00003-european-culture-spring-2023-ready-to-wear-credit-brand.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71OOtiBa76L._AC_UY1000_.jpg"}],f4="_category_txy99_1",d4="_Category_container_txy99_53",Kx={category:f4,Category_container:d4};var p4=zx();const Ne=o0(p4);function Wx({data:n}){return U.jsx("div",{className:Kx.category,children:U.jsxs(Ei,{to:`/category/${n.name}`,children:[U.jsx("span",{children:U.jsx("h2",{children:n.title})}),U.jsx("img",{src:n.imgLink,alt:""}),U.jsx("p",{children:"shop now"})]})})}Wx.propTypes={data:Ne.shape({name:Ne.string.isRequired,title:Ne.string.isRequired,imgLink:Ne.string.isRequired}).isRequired};function m4(){return U.jsx("div",{children:U.jsx("section",{className:Kx.Category_container,children:h4.map((n,e)=>U.jsx(Wx,{data:n},e))})})}function Qx(n,e){return function(){return n.apply(e,arguments)}}const{toString:g4}=Object.prototype,{getPrototypeOf:p0}=Object,{iterator:sy,toStringTag:Yx}=Symbol,ay=(n=>e=>{const t=g4.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ii=n=>(n=n.toLowerCase(),e=>ay(e)===n),oy=n=>e=>typeof e===n,{isArray:Lc}=Array,oc=oy("undefined");function xd(n){return n!==null&&!oc(n)&&n.constructor!==null&&!oc(n.constructor)&&_r(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Xx=Ii("ArrayBuffer");function y4(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Xx(n.buffer),e}const _4=oy("string"),_r=oy("function"),Jx=oy("number"),Pd=n=>n!==null&&typeof n=="object",v4=n=>n===!0||n===!1,Jm=n=>{if(ay(n)!=="object")return!1;const e=p0(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Yx in n)&&!(sy in n)},E4=n=>{if(!Pd(n)||xd(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},b4=Ii("Date"),T4=Ii("File"),w4=Ii("Blob"),S4=Ii("FileList"),A4=n=>Pd(n)&&_r(n.pipe),I4=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||_r(n.append)&&((e=ay(n))==="formdata"||e==="object"&&_r(n.toString)&&n.toString()==="[object FormData]"))},R4=Ii("URLSearchParams"),[C4,x4,P4,O4]=["ReadableStream","Request","Response","Headers"].map(Ii),D4=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Od(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),Lc(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{if(xd(n))return;const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function Zx(n,e){if(xd(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const ml=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eP=n=>!oc(n)&&n!==ml;function eb(){const{caseless:n,skipUndefined:e}=eP(this)&&this||{},t={},r=(s,o)=>{const u=n&&Zx(t,o)||o;Jm(t[u])&&Jm(s)?t[u]=eb(t[u],s):Jm(s)?t[u]=eb({},s):Lc(s)?t[u]=s.slice():(!e||!oc(s))&&(t[u]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Od(arguments[s],r);return t}const N4=(n,e,t,{allOwnKeys:r}={})=>(Od(e,(s,o)=>{t&&_r(s)?n[o]=Qx(s,t):n[o]=s},{allOwnKeys:r}),n),k4=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),M4=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},V4=(n,e,t,r)=>{let s,o,u;const h={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)u=s[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&p0(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},L4=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},U4=n=>{if(!n)return null;if(Lc(n))return n;let e=n.length;if(!Jx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},F4=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&p0(Uint8Array)),B4=(n,e)=>{const r=(n&&n[sy]).call(n);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(n,o[0],o[1])}},z4=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},j4=Ii("HTMLFormElement"),q4=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),hR=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),H4=Ii("RegExp"),tP=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Od(t,(s,o)=>{let u;(u=e(s,o,n))!==!1&&(r[o]=u||s)}),Object.defineProperties(n,r)},$4=n=>{tP(n,(e,t)=>{if(_r(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(_r(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},G4=(n,e)=>{const t={},r=s=>{s.forEach(o=>{t[o]=!0})};return Lc(n)?r(n):r(String(n).split(e)),t},K4=()=>{},W4=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Q4(n){return!!(n&&_r(n.append)&&n[Yx]==="FormData"&&n[sy])}const Y4=n=>{const e=new Array(10),t=(r,s)=>{if(Pd(r)){if(e.indexOf(r)>=0)return;if(xd(r))return r;if(!("toJSON"in r)){e[s]=r;const o=Lc(r)?[]:{};return Od(r,(u,h)=>{const d=t(u,s+1);!oc(d)&&(o[h]=d)}),e[s]=void 0,o}}return r};return t(n,0)},X4=Ii("AsyncFunction"),J4=n=>n&&(Pd(n)||_r(n))&&_r(n.then)&&_r(n.catch),nP=((n,e)=>n?setImmediate:e?((t,r)=>(ml.addEventListener("message",({source:s,data:o})=>{s===ml&&o===t&&r.length&&r.shift()()},!1),s=>{r.push(s),ml.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",_r(ml.postMessage)),Z4=typeof queueMicrotask<"u"?queueMicrotask.bind(ml):typeof process<"u"&&process.nextTick||nP,e3=n=>n!=null&&_r(n[sy]),oe={isArray:Lc,isArrayBuffer:Xx,isBuffer:xd,isFormData:I4,isArrayBufferView:y4,isString:_4,isNumber:Jx,isBoolean:v4,isObject:Pd,isPlainObject:Jm,isEmptyObject:E4,isReadableStream:C4,isRequest:x4,isResponse:P4,isHeaders:O4,isUndefined:oc,isDate:b4,isFile:T4,isBlob:w4,isRegExp:H4,isFunction:_r,isStream:A4,isURLSearchParams:R4,isTypedArray:F4,isFileList:S4,forEach:Od,merge:eb,extend:N4,trim:D4,stripBOM:k4,inherits:M4,toFlatObject:V4,kindOf:ay,kindOfTest:Ii,endsWith:L4,toArray:U4,forEachEntry:B4,matchAll:z4,isHTMLForm:j4,hasOwnProperty:hR,hasOwnProp:hR,reduceDescriptors:tP,freezeMethods:$4,toObjectSet:G4,toCamelCase:q4,noop:K4,toFiniteNumber:W4,findKey:Zx,global:ml,isContextDefined:eP,isSpecCompliantForm:Q4,toJSONObject:Y4,isAsyncFn:X4,isThenable:J4,setImmediate:nP,asap:Z4,isIterable:e3};function Ue(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}oe.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const rP=Ue.prototype,iP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{iP[n]={value:n}});Object.defineProperties(Ue,iP);Object.defineProperty(rP,"isAxiosError",{value:!0});Ue.from=(n,e,t,r,s,o)=>{const u=Object.create(rP);oe.toFlatObject(n,u,function(g){return g!==Error.prototype},f=>f!=="isAxiosError");const h=n&&n.message?n.message:"Error",d=e==null&&n?n.code:e;return Ue.call(u,h,d,t,r,s),n&&u.cause==null&&Object.defineProperty(u,"cause",{value:n,configurable:!0}),u.name=n&&n.name||"Error",o&&Object.assign(u,o),u};const t3=null;function tb(n){return oe.isPlainObject(n)||oe.isArray(n)}function sP(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function fR(n,e,t){return n?n.concat(e).map(function(s,o){return s=sP(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function n3(n){return oe.isArray(n)&&!n.some(tb)}const r3=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function ly(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,P){return!oe.isUndefined(P[I])});const r=t.metaTokens,s=t.visitor||g,o=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(s))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(oe.isDate(w))return w.toISOString();if(oe.isBoolean(w))return w.toString();if(!d&&oe.isBlob(w))throw new Ue("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(w)||oe.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,I,P){let F=w;if(w&&!P&&typeof w=="object"){if(oe.endsWith(I,"{}"))I=r?I:I.slice(0,-2),w=JSON.stringify(w);else if(oe.isArray(w)&&n3(w)||(oe.isFileList(w)||oe.endsWith(I,"[]"))&&(F=oe.toArray(w)))return I=sP(I),F.forEach(function(z,W){!(oe.isUndefined(z)||z===null)&&e.append(u===!0?fR([I],W,o):u===null?I:I+"[]",f(z))}),!1}return tb(w)?!0:(e.append(fR(P,I,o),f(w)),!1)}const _=[],v=Object.assign(r3,{defaultVisitor:g,convertValue:f,isVisitable:tb});function S(w,I){if(!oe.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+I.join("."));_.push(w),oe.forEach(w,function(F,V){(!(oe.isUndefined(F)||F===null)&&s.call(e,F,oe.isString(V)?V.trim():V,I,v))===!0&&S(F,I?I.concat(V):[V])}),_.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return S(n),e}function dR(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function m0(n,e){this._pairs=[],n&&ly(n,this,e)}const aP=m0.prototype;aP.append=function(e,t){this._pairs.push([e,t])};aP.toString=function(e){const t=e?function(r){return e.call(this,r,dR)}:dR;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function i3(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function oP(n,e,t){if(!e)return n;const r=t&&t.encode||i3;oe.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let o;if(s?o=s(e,t):o=oe.isURLSearchParams(e)?e.toString():new m0(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class pR{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const lP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},s3=typeof URLSearchParams<"u"?URLSearchParams:m0,a3=typeof FormData<"u"?FormData:null,o3=typeof Blob<"u"?Blob:null,l3={isBrowser:!0,classes:{URLSearchParams:s3,FormData:a3,Blob:o3},protocols:["http","https","file","blob","url","data"]},g0=typeof window<"u"&&typeof document<"u",nb=typeof navigator=="object"&&navigator||void 0,u3=g0&&(!nb||["ReactNative","NativeScript","NS"].indexOf(nb.product)<0),c3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",h3=g0&&window.location.href||"http://localhost",f3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:g0,hasStandardBrowserEnv:u3,hasStandardBrowserWebWorkerEnv:c3,navigator:nb,origin:h3},Symbol.toStringTag,{value:"Module"})),$n={...f3,...l3};function d3(n,e){return ly(n,new $n.classes.URLSearchParams,{visitor:function(t,r,s,o){return $n.isNode&&oe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function p3(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function m3(n){const e={},t=Object.keys(n);let r;const s=t.length;let o;for(r=0;r<s;r++)o=t[r],e[o]=n[o];return e}function uP(n){function e(t,r,s,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=o>=t.length;return u=!u&&oe.isArray(s)?s.length:u,d?(oe.hasOwnProp(s,u)?s[u]=[s[u],r]:s[u]=r,!h):((!s[u]||!oe.isObject(s[u]))&&(s[u]=[]),e(t,r,s[u],o)&&oe.isArray(s[u])&&(s[u]=m3(s[u])),!h)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(r,s)=>{e(p3(r),s,t,0)}),t}return null}function g3(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Dd={transitional:lP,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,o=oe.isObject(e);if(o&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return s?JSON.stringify(uP(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return d3(e,this.formSerializer).toString();if((h=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return ly(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),g3(e)):e}],transformResponse:[function(e){const t=this.transitional||Dd.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||s)){const u=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(h){if(u)throw h.name==="SyntaxError"?Ue.from(h,Ue.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{Dd.headers[n]={}});const y3=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_3=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(u){s=u.indexOf(":"),t=u.substring(0,s).trim().toLowerCase(),r=u.substring(s+1).trim(),!(!t||e[t]&&y3[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},mR=Symbol("internals");function hf(n){return n&&String(n).trim().toLowerCase()}function Zm(n){return n===!1||n==null?n:oe.isArray(n)?n.map(Zm):String(n)}function v3(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const E3=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function TE(n,e,t,r,s){if(oe.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function b3(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function T3(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,o,u){return this[r].call(this,e,s,o,u)},configurable:!0})})}let vr=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function o(h,d,f){const g=hf(d);if(!g)throw new Error("header name must be a non-empty string");const _=oe.findKey(s,g);(!_||s[_]===void 0||f===!0||f===void 0&&s[_]!==!1)&&(s[_||d]=Zm(h))}const u=(h,d)=>oe.forEach(h,(f,g)=>o(f,g,d));if(oe.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(oe.isString(e)&&(e=e.trim())&&!E3(e))u(_3(e),t);else if(oe.isObject(e)&&oe.isIterable(e)){let h={},d,f;for(const g of e){if(!oe.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[f=g[0]]=(d=h[f])?oe.isArray(d)?[...d,g[1]]:[d,g[1]]:g[1]}u(h,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=hf(e),e){const r=oe.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return v3(s);if(oe.isFunction(t))return t.call(this,s,r);if(oe.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=hf(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||TE(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function o(u){if(u=hf(u),u){const h=oe.findKey(r,u);h&&(!t||TE(r,r[h],h,t))&&(delete r[h],s=!0)}}return oe.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const o=t[r];(!e||TE(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,r={};return oe.forEach(this,(s,o)=>{const u=oe.findKey(r,o);if(u){t[u]=Zm(s),delete t[o];return}const h=e?b3(o):String(o).trim();h!==o&&delete t[o],t[h]=Zm(s),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&oe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[mR]=this[mR]={accessors:{}}).accessors,s=this.prototype;function o(u){const h=hf(u);r[h]||(T3(s,u),r[h]=!0)}return oe.isArray(e)?e.forEach(o):o(e),this}};vr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(vr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});oe.freezeMethods(vr);function wE(n,e){const t=this||Dd,r=e||t,s=vr.from(r.headers);let o=r.data;return oe.forEach(n,function(h){o=h.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function cP(n){return!!(n&&n.__CANCEL__)}function Uc(n,e,t){Ue.call(this,n??"canceled",Ue.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(Uc,Ue,{__CANCEL__:!0});function hP(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ue("Request failed with status code "+t.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function w3(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function S3(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),g=r[o];u||(u=f),t[s]=d,r[s]=f;let _=o,v=0;for(;_!==s;)v+=t[_++],_=_%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),f-u<e)return;const S=g&&f-g;return S?Math.round(v*1e3/S):void 0}}function A3(n,e){let t=0,r=1e3/e,s,o;const u=(f,g=Date.now())=>{t=g,s=null,o&&(clearTimeout(o),o=null),n(...f)};return[(...f)=>{const g=Date.now(),_=g-t;_>=r?u(f,g):(s=f,o||(o=setTimeout(()=>{o=null,u(s)},r-_)))},()=>s&&u(s)]}const wg=(n,e,t=3)=>{let r=0;const s=S3(50,250);return A3(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,d=u-r,f=s(d),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:f||void 0,estimated:f&&h&&g?(h-u)/f:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},gR=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},yR=n=>(...e)=>oe.asap(()=>n(...e)),I3=$n.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,$n.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,R3=$n.hasStandardBrowserEnv?{write(n,e,t,r,s,o){const u=[n+"="+encodeURIComponent(e)];oe.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),oe.isString(r)&&u.push("path="+r),oe.isString(s)&&u.push("domain="+s),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function C3(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function x3(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function fP(n,e,t){let r=!C3(e);return n&&(r||t==!1)?x3(n,e):e}const _R=n=>n instanceof vr?{...n}:n;function Il(n,e){e=e||{};const t={};function r(f,g,_,v){return oe.isPlainObject(f)&&oe.isPlainObject(g)?oe.merge.call({caseless:v},f,g):oe.isPlainObject(g)?oe.merge({},g):oe.isArray(g)?g.slice():g}function s(f,g,_,v){if(oe.isUndefined(g)){if(!oe.isUndefined(f))return r(void 0,f,_,v)}else return r(f,g,_,v)}function o(f,g){if(!oe.isUndefined(g))return r(void 0,g)}function u(f,g){if(oe.isUndefined(g)){if(!oe.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function h(f,g,_){if(_ in e)return r(f,g);if(_ in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(f,g,_)=>s(_R(f),_R(g),_,!0)};return oe.forEach(Object.keys({...n,...e}),function(g){const _=d[g]||s,v=_(n[g],e[g],g);oe.isUndefined(v)&&_!==h||(t[g]=v)}),t}const dP=n=>{const e=Il({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:u,auth:h}=e;if(e.headers=u=vr.from(u),e.url=oP(fP(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),oe.isFormData(t)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(oe.isFunction(t.getHeaders)){const d=t.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([g,_])=>{f.includes(g.toLowerCase())&&u.set(g,_)})}}if($n.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&I3(e.url))){const d=s&&o&&R3.read(o);d&&u.set(s,d)}return e},P3=typeof XMLHttpRequest<"u",O3=P3&&function(n){return new Promise(function(t,r){const s=dP(n);let o=s.data;const u=vr.from(s.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:f}=s,g,_,v,S,w;function I(){S&&S(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let P=new XMLHttpRequest;P.open(s.method.toUpperCase(),s.url,!0),P.timeout=s.timeout;function F(){if(!P)return;const z=vr.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),$={data:!h||h==="text"||h==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:z,config:n,request:P};hP(function(N){t(N),I()},function(N){r(N),I()},$),P=null}"onloadend"in P?P.onloadend=F:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(F)},P.onabort=function(){P&&(r(new Ue("Request aborted",Ue.ECONNABORTED,n,P)),P=null)},P.onerror=function(W){const $=W&&W.message?W.message:"Network Error",H=new Ue($,Ue.ERR_NETWORK,n,P);H.event=W||null,r(H),P=null},P.ontimeout=function(){let W=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const $=s.transitional||lP;s.timeoutErrorMessage&&(W=s.timeoutErrorMessage),r(new Ue(W,$.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,n,P)),P=null},o===void 0&&u.setContentType(null),"setRequestHeader"in P&&oe.forEach(u.toJSON(),function(W,$){P.setRequestHeader($,W)}),oe.isUndefined(s.withCredentials)||(P.withCredentials=!!s.withCredentials),h&&h!=="json"&&(P.responseType=s.responseType),f&&([v,w]=wg(f,!0),P.addEventListener("progress",v)),d&&P.upload&&([_,S]=wg(d),P.upload.addEventListener("progress",_),P.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(g=z=>{P&&(r(!z||z.type?new Uc(null,n,P):z),P.abort(),P=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const V=w3(s.url);if(V&&$n.protocols.indexOf(V)===-1){r(new Ue("Unsupported protocol "+V+":",Ue.ERR_BAD_REQUEST,n));return}P.send(o||null)})},D3=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const o=function(f){if(!s){s=!0,h();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Ue?g:new Uc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Ue(`timeout ${e} of ms exceeded`,Ue.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>oe.asap(h),d}},N3=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},k3=async function*(n,e){for await(const t of M3(n))yield*N3(t,e)},M3=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},vR=(n,e,t,r)=>{const s=k3(n,e);let o=0,u,h=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:g}=await s.next();if(f){h(),d.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}d.enqueue(new Uint8Array(g))}catch(f){throw h(f),f}},cancel(d){return h(d),s.return()}},{highWaterMark:2})},ER=64*1024,{isFunction:Vm}=oe,V3=(({Request:n,Response:e})=>({Request:n,Response:e}))(oe.global),{ReadableStream:bR,TextEncoder:TR}=oe.global,wR=(n,...e)=>{try{return!!n(...e)}catch{return!1}},L3=n=>{n=oe.merge.call({skipUndefined:!0},V3,n);const{fetch:e,Request:t,Response:r}=n,s=e?Vm(e):typeof fetch=="function",o=Vm(t),u=Vm(r);if(!s)return!1;const h=s&&Vm(bR),d=s&&(typeof TR=="function"?(w=>I=>w.encode(I))(new TR):async w=>new Uint8Array(await new t(w).arrayBuffer())),f=o&&h&&wR(()=>{let w=!1;const I=new t($n.origin,{body:new bR,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!I}),g=u&&h&&wR(()=>oe.isReadableStream(new r("").body)),_={stream:g&&(w=>w.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!_[w]&&(_[w]=(I,P)=>{let F=I&&I[w];if(F)return F.call(I);throw new Ue(`Response type '${w}' is not supported`,Ue.ERR_NOT_SUPPORT,P)})});const v=async w=>{if(w==null)return 0;if(oe.isBlob(w))return w.size;if(oe.isSpecCompliantForm(w))return(await new t($n.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(w)||oe.isArrayBuffer(w))return w.byteLength;if(oe.isURLSearchParams(w)&&(w=w+""),oe.isString(w))return(await d(w)).byteLength},S=async(w,I)=>{const P=oe.toFiniteNumber(w.getContentLength());return P??v(I)};return async w=>{let{url:I,method:P,data:F,signal:V,cancelToken:z,timeout:W,onDownloadProgress:$,onUploadProgress:H,responseType:N,headers:C,withCredentials:x="same-origin",fetchOptions:L}=dP(w),O=e||fetch;N=N?(N+"").toLowerCase():"text";let b=D3([V,z&&z.toAbortSignal()],W),R=null;const G=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let M;try{if(H&&f&&P!=="get"&&P!=="head"&&(M=await S(C,F))!==0){let B=new t(I,{method:"POST",body:F,duplex:"half"}),se;if(oe.isFormData(F)&&(se=B.headers.get("content-type"))&&C.setContentType(se),B.body){const[ye,pe]=gR(M,wg(yR(H)));F=vR(B.body,ER,ye,pe)}}oe.isString(x)||(x=x?"include":"omit");const j=o&&"credentials"in t.prototype,X={...L,signal:b,method:P.toUpperCase(),headers:C.normalize().toJSON(),body:F,duplex:"half",credentials:j?x:void 0};R=o&&new t(I,X);let ne=await(o?O(R,L):O(I,X));const be=g&&(N==="stream"||N==="response");if(g&&($||be&&G)){const B={};["status","statusText","headers"].forEach(Ce=>{B[Ce]=ne[Ce]});const se=oe.toFiniteNumber(ne.headers.get("content-length")),[ye,pe]=$&&gR(se,wg(yR($),!0))||[];ne=new r(vR(ne.body,ER,ye,()=>{pe&&pe(),G&&G()}),B)}N=N||"text";let we=await _[oe.findKey(_,N)||"text"](ne,w);return!be&&G&&G(),await new Promise((B,se)=>{hP(B,se,{data:we,headers:vr.from(ne.headers),status:ne.status,statusText:ne.statusText,config:w,request:R})})}catch(j){throw G&&G(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,w,R),{cause:j.cause||j}):Ue.from(j,j&&j.code,w,R)}}},U3=new Map,pP=n=>{let e=n?n.env:{};const{fetch:t,Request:r,Response:s}=e,o=[r,s,t];let u=o.length,h=u,d,f,g=U3;for(;h--;)d=o[h],f=g.get(d),f===void 0&&g.set(d,f=h?new Map:L3(e)),g=f;return f};pP();const rb={http:t3,xhr:O3,fetch:{get:pP}};oe.forEach(rb,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const SR=n=>`- ${n}`,F3=n=>oe.isFunction(n)||n===null||n===!1,mP={getAdapter:(n,e)=>{n=oe.isArray(n)?n:[n];const{length:t}=n;let r,s;const o={};for(let u=0;u<t;u++){r=n[u];let h;if(s=r,!F3(r)&&(s=rb[(h=String(r)).toLowerCase()],s===void 0))throw new Ue(`Unknown adapter '${h}'`);if(s&&(oe.isFunction(s)||(s=s.get(e))))break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let h=t?u.length>1?`since :
`+u.map(SR).join(`
`):" "+SR(u[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:rb};function SE(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Uc(null,n)}function AR(n){return SE(n),n.headers=vr.from(n.headers),n.data=wE.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),mP.getAdapter(n.adapter||Dd.adapter,n)(n).then(function(r){return SE(n),r.data=wE.call(n,n.transformResponse,r),r.headers=vr.from(r.headers),r},function(r){return cP(r)||(SE(n),r&&r.response&&(r.response.data=wE.call(n,n.transformResponse,r.response),r.response.headers=vr.from(r.response.headers))),Promise.reject(r)})}const gP="1.12.2",uy={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{uy[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const IR={};uy.transitional=function(e,t,r){function s(o,u){return"[Axios v"+gP+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Ue(s(u," has been removed"+(t?" in "+t:"")),Ue.ERR_DEPRECATED);return t&&!IR[u]&&(IR[u]=!0,console.warn(s(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};uy.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function B3(n,e,t){if(typeof n!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const o=r[s],u=e[o];if(u){const h=n[o],d=h===void 0||u(h,o,n);if(d!==!0)throw new Ue("option "+o+" must be "+d,Ue.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ue("Unknown option "+o,Ue.ERR_BAD_OPTION)}}const eg={assertOptions:B3,validators:uy},Wi=eg.validators;let bl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new pR,response:new pR}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Il(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:o}=t;r!==void 0&&eg.assertOptions(r,{silentJSONParsing:Wi.transitional(Wi.boolean),forcedJSONParsing:Wi.transitional(Wi.boolean),clarifyTimeoutError:Wi.transitional(Wi.boolean)},!1),s!=null&&(oe.isFunction(s)?t.paramsSerializer={serialize:s}:eg.assertOptions(s,{encode:Wi.function,serialize:Wi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),eg.assertOptions(t,{baseUrl:Wi.spelling("baseURL"),withXsrfToken:Wi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&oe.merge(o.common,o[t.method]);o&&oe.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),t.headers=vr.concat(u,o);const h=[];let d=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(d=d&&I.synchronous,h.unshift(I.fulfilled,I.rejected))});const f=[];this.interceptors.response.forEach(function(I){f.push(I.fulfilled,I.rejected)});let g,_=0,v;if(!d){const w=[AR.bind(this),void 0];for(w.unshift(...h),w.push(...f),v=w.length,g=Promise.resolve(t);_<v;)g=g.then(w[_++],w[_++]);return g}v=h.length;let S=t;for(;_<v;){const w=h[_++],I=h[_++];try{S=w(S)}catch(P){I.call(this,P);break}}try{g=AR.call(this,S)}catch(w){return Promise.reject(w)}for(_=0,v=f.length;_<v;)g=g.then(f[_++],f[_++]);return g}getUri(e){e=Il(this.defaults,e);const t=fP(e.baseURL,e.url,e.allowAbsoluteUrls);return oP(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){bl.prototype[e]=function(t,r){return this.request(Il(r||{},{method:e,url:t,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(Il(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}bl.prototype[e]=t(),bl.prototype[e+"Form"]=t(!0)});let z3=class yP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(s);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new Uc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new yP(function(s){e=s}),cancel:e}}};function j3(n){return function(t){return n.apply(null,t)}}function q3(n){return oe.isObject(n)&&n.isAxiosError===!0}const ib={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ib).forEach(([n,e])=>{ib[e]=n});function _P(n){const e=new bl(n),t=Qx(bl.prototype.request,e);return oe.extend(t,bl.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return _P(Il(n,s))},t}const kt=_P(Dd);kt.Axios=bl;kt.CanceledError=Uc;kt.CancelToken=z3;kt.isCancel=cP;kt.VERSION=gP;kt.toFormData=ly;kt.AxiosError=Ue;kt.Cancel=kt.CanceledError;kt.all=function(e){return Promise.all(e)};kt.spread=j3;kt.isAxiosError=q3;kt.mergeConfig=Il;kt.AxiosHeaders=vr;kt.formToJSON=n=>uP(oe.isHTMLForm(n)?new FormData(n):n);kt.getAdapter=mP.getAdapter;kt.HttpStatusCode=ib;kt.default=kt;const{Axios:CW,AxiosError:xW,CanceledError:PW,isCancel:OW,CancelToken:DW,VERSION:NW,all:kW,Cancel:MW,isAxiosError:VW,spread:LW,toFormData:UW,AxiosHeaders:FW,HttpStatusCode:BW,formToJSON:zW,getAdapter:jW,mergeConfig:qW}=kt,ed={black:"#000",white:"#fff"},ku={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Mu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Vu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Lu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Uu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},ff={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},H3={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Rl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}const $3="$$material";function sb(){return sb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sb.apply(null,arguments)}function G3(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function K3(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var W3=(function(){function n(t){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(K3(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=G3(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n})(),qn="-ms-",Sg="-moz-",it="-webkit-",vP="comm",y0="rule",_0="decl",Q3="@import",EP="@keyframes",Y3="@layer",X3=Math.abs,cy=String.fromCharCode,J3=Object.assign;function Z3(n,e){return Vn(n,0)^45?(((e<<2^Vn(n,0))<<2^Vn(n,1))<<2^Vn(n,2))<<2^Vn(n,3):0}function bP(n){return n.trim()}function e5(n,e){return(n=e.exec(n))?n[0]:n}function st(n,e,t){return n.replace(e,t)}function ab(n,e){return n.indexOf(e)}function Vn(n,e){return n.charCodeAt(e)|0}function td(n,e,t){return n.slice(e,t)}function Xi(n){return n.length}function v0(n){return n.length}function Lm(n,e){return e.push(n),n}function t5(n,e){return n.map(e).join("")}var hy=1,lc=1,TP=0,Er=0,mn=0,Fc="";function fy(n,e,t,r,s,o,u){return{value:n,root:e,parent:t,type:r,props:s,children:o,line:hy,column:lc,length:u,return:""}}function df(n,e){return J3(fy("",null,null,"",null,null,0),n,{length:-n.length},e)}function n5(){return mn}function r5(){return mn=Er>0?Vn(Fc,--Er):0,lc--,mn===10&&(lc=1,hy--),mn}function Mr(){return mn=Er<TP?Vn(Fc,Er++):0,lc++,mn===10&&(lc=1,hy++),mn}function os(){return Vn(Fc,Er)}function tg(){return Er}function Nd(n,e){return td(Fc,n,e)}function nd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wP(n){return hy=lc=1,TP=Xi(Fc=n),Er=0,[]}function SP(n){return Fc="",n}function ng(n){return bP(Nd(Er-1,ob(n===91?n+2:n===40?n+1:n)))}function i5(n){for(;(mn=os())&&mn<33;)Mr();return nd(n)>2||nd(mn)>3?"":" "}function s5(n,e){for(;--e&&Mr()&&!(mn<48||mn>102||mn>57&&mn<65||mn>70&&mn<97););return Nd(n,tg()+(e<6&&os()==32&&Mr()==32))}function ob(n){for(;Mr();)switch(mn){case n:return Er;case 34:case 39:n!==34&&n!==39&&ob(mn);break;case 40:n===41&&ob(n);break;case 92:Mr();break}return Er}function a5(n,e){for(;Mr()&&n+mn!==57;)if(n+mn===84&&os()===47)break;return"/*"+Nd(e,Er-1)+"*"+cy(n===47?n:Mr())}function o5(n){for(;!nd(os());)Mr();return Nd(n,Er)}function l5(n){return SP(rg("",null,null,null,[""],n=wP(n),0,[0],n))}function rg(n,e,t,r,s,o,u,h,d){for(var f=0,g=0,_=u,v=0,S=0,w=0,I=1,P=1,F=1,V=0,z="",W=s,$=o,H=r,N=z;P;)switch(w=V,V=Mr()){case 40:if(w!=108&&Vn(N,_-1)==58){ab(N+=st(ng(V),"&","&\f"),"&\f")!=-1&&(F=-1);break}case 34:case 39:case 91:N+=ng(V);break;case 9:case 10:case 13:case 32:N+=i5(w);break;case 92:N+=s5(tg()-1,7);continue;case 47:switch(os()){case 42:case 47:Lm(u5(a5(Mr(),tg()),e,t),d);break;default:N+="/"}break;case 123*I:h[f++]=Xi(N)*F;case 125*I:case 59:case 0:switch(V){case 0:case 125:P=0;case 59+g:F==-1&&(N=st(N,/\f/g,"")),S>0&&Xi(N)-_&&Lm(S>32?CR(N+";",r,t,_-1):CR(st(N," ","")+";",r,t,_-2),d);break;case 59:N+=";";default:if(Lm(H=RR(N,e,t,f,g,s,h,z,W=[],$=[],_),o),V===123)if(g===0)rg(N,e,H,H,W,o,_,h,$);else switch(v===99&&Vn(N,3)===110?100:v){case 100:case 108:case 109:case 115:rg(n,H,H,r&&Lm(RR(n,H,H,0,0,s,h,z,s,W=[],_),$),s,$,_,h,r?W:$);break;default:rg(N,H,H,H,[""],$,0,h,$)}}f=g=S=0,I=F=1,z=N="",_=u;break;case 58:_=1+Xi(N),S=w;default:if(I<1){if(V==123)--I;else if(V==125&&I++==0&&r5()==125)continue}switch(N+=cy(V),V*I){case 38:F=g>0?1:(N+="\f",-1);break;case 44:h[f++]=(Xi(N)-1)*F,F=1;break;case 64:os()===45&&(N+=ng(Mr())),v=os(),g=_=Xi(z=N+=o5(tg())),V++;break;case 45:w===45&&Xi(N)==2&&(I=0)}}return o}function RR(n,e,t,r,s,o,u,h,d,f,g){for(var _=s-1,v=s===0?o:[""],S=v0(v),w=0,I=0,P=0;w<r;++w)for(var F=0,V=td(n,_+1,_=X3(I=u[w])),z=n;F<S;++F)(z=bP(I>0?v[F]+" "+V:st(V,/&\f/g,v[F])))&&(d[P++]=z);return fy(n,e,t,s===0?y0:h,d,f,g)}function u5(n,e,t){return fy(n,e,t,vP,cy(n5()),td(n,2,-2),0)}function CR(n,e,t,r){return fy(n,e,t,_0,td(n,0,r),td(n,r+1,-1),r)}function Zu(n,e){for(var t="",r=v0(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function c5(n,e,t,r){switch(n.type){case Y3:if(n.children.length)break;case Q3:case _0:return n.return=n.return||n.value;case vP:return"";case EP:return n.return=n.value+"{"+Zu(n.children,r)+"}";case y0:n.value=n.props.join(",")}return Xi(t=Zu(n.children,r))?n.return=n.value+"{"+t+"}":""}function h5(n){var e=v0(n);return function(t,r,s,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,s,o)||"";return u}}function f5(n){return function(e){e.root||(e=e.return)&&n(e)}}function AP(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var d5=function(e,t,r){for(var s=0,o=0;s=o,o=os(),s===38&&o===12&&(t[r]=1),!nd(o);)Mr();return Nd(e,Er)},p5=function(e,t){var r=-1,s=44;do switch(nd(s)){case 0:s===38&&os()===12&&(t[r]=1),e[r]+=d5(Er-1,t,r);break;case 2:e[r]+=ng(s);break;case 4:if(s===44){e[++r]=os()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=cy(s)}while(s=Mr());return e},m5=function(e,t){return SP(p5(wP(e),t))},xR=new WeakMap,g5=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!xR.get(r))&&!s){xR.set(e,!0);for(var o=[],u=m5(t,o),h=r.props,d=0,f=0;d<u.length;d++)for(var g=0;g<h.length;g++,f++)e.props[f]=o[d]?u[d].replace(/&\f/g,h[g]):h[g]+" "+u[d]}}},y5=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function IP(n,e){switch(Z3(n,e)){case 5103:return it+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return it+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return it+n+Sg+n+qn+n+n;case 6828:case 4268:return it+n+qn+n+n;case 6165:return it+n+qn+"flex-"+n+n;case 5187:return it+n+st(n,/(\w+).+(:[^]+)/,it+"box-$1$2"+qn+"flex-$1$2")+n;case 5443:return it+n+qn+"flex-item-"+st(n,/flex-|-self/,"")+n;case 4675:return it+n+qn+"flex-line-pack"+st(n,/align-content|flex-|-self/,"")+n;case 5548:return it+n+qn+st(n,"shrink","negative")+n;case 5292:return it+n+qn+st(n,"basis","preferred-size")+n;case 6060:return it+"box-"+st(n,"-grow","")+it+n+qn+st(n,"grow","positive")+n;case 4554:return it+st(n,/([^-])(transform)/g,"$1"+it+"$2")+n;case 6187:return st(st(st(n,/(zoom-|grab)/,it+"$1"),/(image-set)/,it+"$1"),n,"")+n;case 5495:case 3959:return st(n,/(image-set\([^]*)/,it+"$1$`$1");case 4968:return st(st(n,/(.+:)(flex-)?(.*)/,it+"box-pack:$3"+qn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+it+n+n;case 4095:case 3583:case 4068:case 2532:return st(n,/(.+)-inline(.+)/,it+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xi(n)-1-e>6)switch(Vn(n,e+1)){case 109:if(Vn(n,e+4)!==45)break;case 102:return st(n,/(.+:)(.+)-([^]+)/,"$1"+it+"$2-$3$1"+Sg+(Vn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~ab(n,"stretch")?IP(st(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Vn(n,e+1)!==115)break;case 6444:switch(Vn(n,Xi(n)-3-(~ab(n,"!important")&&10))){case 107:return st(n,":",":"+it)+n;case 101:return st(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+it+(Vn(n,14)===45?"inline-":"")+"box$3$1"+it+"$2$3$1"+qn+"$2box$3")+n}break;case 5936:switch(Vn(n,e+11)){case 114:return it+n+qn+st(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return it+n+qn+st(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return it+n+qn+st(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return it+n+qn+n+n}return n}var _5=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case _0:e.return=IP(e.value,e.length);break;case EP:return Zu([df(e,{value:st(e.value,"@","@"+it)})],s);case y0:if(e.length)return t5(e.props,function(o){switch(e5(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Zu([df(e,{props:[st(o,/:(read-\w+)/,":"+Sg+"$1")]})],s);case"::placeholder":return Zu([df(e,{props:[st(o,/:(plac\w+)/,":"+it+"input-$1")]}),df(e,{props:[st(o,/:(plac\w+)/,":"+Sg+"$1")]}),df(e,{props:[st(o,/:(plac\w+)/,qn+"input-$1")]})],s)}return""})}},v5=[_5],E5=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var P=I.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var s=e.stylisPlugins||v5,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(I){for(var P=I.getAttribute("data-emotion").split(" "),F=1;F<P.length;F++)o[P[F]]=!0;h.push(I)});var d,f=[g5,y5];{var g,_=[c5,f5(function(I){g.insert(I)})],v=h5(f.concat(s,_)),S=function(P){return Zu(l5(P),v)};d=function(P,F,V,z){g=V,S(P?P+"{"+F.styles+"}":F.styles),z&&(w.inserted[F.name]=!0)}}var w={key:t,sheet:new W3({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return w.sheet.hydrate(h),w},b5=!0;function T5(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var RP=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||b5===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},w5=function(e,t,r){RP(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function S5(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var A5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},I5=/[A-Z]|^ms/g,R5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,CP=function(e){return e.charCodeAt(1)===45},PR=function(e){return e!=null&&typeof e!="boolean"},AE=AP(function(n){return CP(n)?n:n.replace(I5,"-$&").toLowerCase()}),OR=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(R5,function(r,s,o){return Ji={name:s,styles:o,next:Ji},s})}return A5[e]!==1&&!CP(e)&&typeof t=="number"&&t!==0?t+"px":t};function rd(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return Ji={name:s.name,styles:s.styles,next:Ji},s.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Ji={name:u.name,styles:u.styles,next:Ji},u=u.next;var h=o.styles+";";return h}return C5(n,e,t)}case"function":{if(n!==void 0){var d=Ji,f=t(n);return Ji=d,rd(n,e,f)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function C5(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=rd(n,e,t[s])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":PR(h)&&(r+=AE(o)+":"+OR(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var d=0;d<u.length;d++)PR(u[d])&&(r+=AE(o)+":"+OR(o,u[d])+";");else{var f=rd(n,e,u);switch(o){case"animation":case"animationName":{r+=AE(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var DR=/label:\s*([^\s;{]+)\s*(;|$)/g,Ji;function xP(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";Ji=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,s+=rd(t,e,o);else{var u=o;s+=u[0]}for(var h=1;h<n.length;h++)if(s+=rd(t,e,n[h]),r){var d=o;s+=d[h]}DR.lastIndex=0;for(var f="",g;(g=DR.exec(s))!==null;)f+="-"+g[1];var _=S5(s)+f;return{name:_,styles:s,next:Ji}}var x5=function(e){return e()},P5=XE.useInsertionEffect?XE.useInsertionEffect:!1,O5=P5||x5,PP=Q.createContext(typeof HTMLElement<"u"?E5({key:"css"}):null);PP.Provider;var D5=function(e){return Q.forwardRef(function(t,r){var s=Q.useContext(PP);return e(t,s,r)})},N5=Q.createContext({}),k5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,M5=AP(function(n){return k5.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),V5=M5,L5=function(e){return e!=="theme"},NR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?V5:L5},kR=function(e,t,r){var s;if(t){var o=t.shouldForwardProp;s=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},U5=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return RP(t,r,s),O5(function(){return w5(t,r,s)}),null},F5=function n(e,t){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=kR(e,t,r),d=h||NR(s),f=!d("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var S=g.length,w=1;w<S;w++)_.push(g[w],v[w])}var I=D5(function(P,F,V){var z=f&&P.as||s,W="",$=[],H=P;if(P.theme==null){H={};for(var N in P)H[N]=P[N];H.theme=Q.useContext(N5)}typeof P.className=="string"?W=T5(F.registered,$,P.className):P.className!=null&&(W=P.className+" ");var C=xP(_.concat($),F.registered,H);W+=F.key+"-"+C.name,u!==void 0&&(W+=" "+u);var x=f&&h===void 0?NR(z):d,L={};for(var O in P)f&&O==="as"||x(O)&&(L[O]=P[O]);return L.className=W,V&&(L.ref=V),Q.createElement(Q.Fragment,null,Q.createElement(U5,{cache:F,serialized:C,isStringTag:typeof z=="string"}),Q.createElement(z,L))});return I.displayName=o!==void 0?o:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",I.defaultProps=e.defaultProps,I.__emotion_real=I,I.__emotion_base=s,I.__emotion_styles=_,I.__emotion_forwardProp=h,Object.defineProperty(I,"toString",{value:function(){return"."+u}}),I.withComponent=function(P,F){var V=n(P,sb({},t,F,{shouldForwardProp:kR(I,F,!0)}));return V.apply(void 0,_)},I}},B5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],lb=F5.bind(null);B5.forEach(function(n){lb[n]=lb(n)});function z5(n,e){return lb(n,e)}function j5(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const MR=[];function Tl(n){return MR[0]=n,xP(MR)}var IE={exports:{}},_t={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR;function q5(){if(VR)return _t;VR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function w(I){if(typeof I=="object"&&I!==null){var P=I.$$typeof;switch(P){case n:switch(I=I.type,I){case t:case s:case r:case d:case f:case v:return I;default:switch(I=I&&I.$$typeof,I){case u:case h:case _:case g:return I;case o:return I;default:return P}}case e:return P}}}return _t.ContextConsumer=o,_t.ContextProvider=u,_t.Element=n,_t.ForwardRef=h,_t.Fragment=t,_t.Lazy=_,_t.Memo=g,_t.Portal=e,_t.Profiler=s,_t.StrictMode=r,_t.Suspense=d,_t.SuspenseList=f,_t.isContextConsumer=function(I){return w(I)===o},_t.isContextProvider=function(I){return w(I)===u},_t.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===n},_t.isForwardRef=function(I){return w(I)===h},_t.isFragment=function(I){return w(I)===t},_t.isLazy=function(I){return w(I)===_},_t.isMemo=function(I){return w(I)===g},_t.isPortal=function(I){return w(I)===e},_t.isProfiler=function(I){return w(I)===s},_t.isStrictMode=function(I){return w(I)===r},_t.isSuspense=function(I){return w(I)===d},_t.isSuspenseList=function(I){return w(I)===f},_t.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===t||I===s||I===r||I===d||I===f||typeof I=="object"&&I!==null&&(I.$$typeof===_||I.$$typeof===g||I.$$typeof===u||I.$$typeof===o||I.$$typeof===h||I.$$typeof===S||I.getModuleId!==void 0)},_t.typeOf=w,_t}var LR;function H5(){return LR||(LR=1,IE.exports=q5()),IE.exports}var OP=H5();function qs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function DP(n){if(Q.isValidElement(n)||OP.isValidElementType(n)||!qs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=DP(n[t])}),e}function Vr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return qs(n)&&qs(e)&&Object.keys(e).forEach(s=>{Q.isValidElement(e[s])||OP.isValidElementType(e[s])?r[s]=e[s]:qs(e[s])&&Object.prototype.hasOwnProperty.call(n,s)&&qs(n[s])?r[s]=Vr(n[s],e[s],t):t.clone?r[s]=qs(e[s])?DP(e[s]):e[s]:r[s]=e[s]}),r}const $5=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function G5(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...s}=n,o=$5(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function f(v,S){const w=u.indexOf(S);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(w!==-1&&typeof e[u[w]]=="number"?e[u[w]]:S)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?f(v,u[u.indexOf(v)+1]):h(v)}function _(v){const S=u.indexOf(v);return S===0?h(u[1]):S===u.length-1?d(u[S]):f(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:d,between:f,only:g,not:_,unit:t,...s}}function UR(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{const o=/min-width:\s*([0-9.]+)/;return+(r.match(o)?.[1]||0)-+(s.match(o)?.[1]||0)});return t.length?t.reduce((r,s)=>{const o=e[s];return delete r[s],r[s]=o,r},{...e}):e}function K5(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function W5(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,s]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(s).up(o)}function Q5(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const d=e(n.breakpoints.not(...h),u);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},s=o=>(t(r,o),r);return t(s),{...n,containerQueries:s}}const Y5={borderRadius:4};function Vf(n,e){return e?Vr(n,e,{clone:!1}):n}const dy={xs:0,sm:600,md:900,lg:1200,xl:1536},FR={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${dy[n]}px)`},X5={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:dy[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Ys(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||FR;return e.reduce((u,h,d)=>(u[o.up(o.keys[d])]=t(e[d]),u),{})}if(typeof e=="object"){const o=r.breakpoints||FR;return Object.keys(e).reduce((u,h)=>{if(K5(o.keys,h)){const d=W5(r.containerQueries?r:X5,h);d&&(u[d]=t(e[h],h))}else if(Object.keys(o.values||dy).includes(h)){const d=o.up(h);u[d]=t(e[h],h)}else{const d=h;u[d]=e[d]}return u},{})}return t(e)}function J5(n={}){return n.keys?.reduce((t,r)=>{const s=n.up(r);return t[s]={},t},{})||{}}function BR(n,e){return n.reduce((t,r)=>{const s=t[r];return(!s||Object.keys(s).length===0)&&delete t[r],t},e)}function no(n){if(typeof n!="string")throw new Error(Rl(7));return n.charAt(0).toUpperCase()+n.slice(1)}function py(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((s,o)=>s&&s[o]?s[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,n)}function Ag(n,e,t,r=t){let s;return typeof n=="function"?s=n(t):Array.isArray(n)?s=n[t]||r:s=py(n,t)||r,e&&(s=e(s,r,n)),s}function tn(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:s}=n,o=u=>{if(u[e]==null)return null;const h=u[e],d=u.theme,f=py(d,r)||{};return Ys(u,h,_=>{let v=Ag(f,s,_);return _===v&&typeof _=="string"&&(v=Ag(f,s,`${e}${_==="default"?"":no(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function Z5(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const e6={m:"margin",p:"padding"},t6={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},zR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},n6=Z5(n=>{if(n.length>2)if(zR[n])n=zR[n];else return[n];const[e,t]=n.split(""),r=e6[e],s=t6[t]||"";return Array.isArray(s)?s.map(o=>r+o):[r+s]}),E0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],b0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...E0,...b0];function kd(n,e,t,r){const s=py(n,e,!0)??t;return typeof s=="number"||typeof s=="string"?o=>typeof o=="string"?o:typeof s=="string"?s.startsWith("var(")&&o===0?0:s.startsWith("var(")&&o===1?s:`calc(${o} * ${s})`:s*o:Array.isArray(s)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=s[u];return o>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof s=="function"?s:()=>{}}function T0(n){return kd(n,"spacing",8)}function Md(n,e){return typeof e=="string"||e==null?e:n(e)}function r6(n,e){return t=>n.reduce((r,s)=>(r[s]=Md(e,t),r),{})}function i6(n,e,t,r){if(!e.includes(t))return null;const s=n6(t),o=r6(s,r),u=n[t];return Ys(n,u,o)}function NP(n,e){const t=T0(n.theme);return Object.keys(n).map(r=>i6(n,e,r,t)).reduce(Vf,{})}function qt(n){return NP(n,E0)}qt.propTypes={};qt.filterProps=E0;function Ht(n){return NP(n,b0)}Ht.propTypes={};Ht.filterProps=b0;function kP(n=8,e=T0({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function my(...n){const e=n.reduce((r,s)=>(s.filterProps.forEach(o=>{r[o]=s}),r),{}),t=r=>Object.keys(r).reduce((s,o)=>e[o]?Vf(s,e[o](r)):s,{});return t.propTypes={},t.filterProps=n.reduce((r,s)=>r.concat(s.filterProps),[]),t}function ei(n){return typeof n!="number"?n:`${n}px solid`}function si(n,e){return tn({prop:n,themeKey:"borders",transform:e})}const s6=si("border",ei),a6=si("borderTop",ei),o6=si("borderRight",ei),l6=si("borderBottom",ei),u6=si("borderLeft",ei),c6=si("borderColor"),h6=si("borderTopColor"),f6=si("borderRightColor"),d6=si("borderBottomColor"),p6=si("borderLeftColor"),m6=si("outline",ei),g6=si("outlineColor"),gy=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=kd(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Md(e,r)});return Ys(n,n.borderRadius,t)}return null};gy.propTypes={};gy.filterProps=["borderRadius"];my(s6,a6,o6,l6,u6,c6,h6,f6,d6,p6,gy,m6,g6);const yy=n=>{if(n.gap!==void 0&&n.gap!==null){const e=kd(n.theme,"spacing",8),t=r=>({gap:Md(e,r)});return Ys(n,n.gap,t)}return null};yy.propTypes={};yy.filterProps=["gap"];const _y=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=kd(n.theme,"spacing",8),t=r=>({columnGap:Md(e,r)});return Ys(n,n.columnGap,t)}return null};_y.propTypes={};_y.filterProps=["columnGap"];const vy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=kd(n.theme,"spacing",8),t=r=>({rowGap:Md(e,r)});return Ys(n,n.rowGap,t)}return null};vy.propTypes={};vy.filterProps=["rowGap"];const y6=tn({prop:"gridColumn"}),_6=tn({prop:"gridRow"}),v6=tn({prop:"gridAutoFlow"}),E6=tn({prop:"gridAutoColumns"}),b6=tn({prop:"gridAutoRows"}),T6=tn({prop:"gridTemplateColumns"}),w6=tn({prop:"gridTemplateRows"}),S6=tn({prop:"gridTemplateAreas"}),A6=tn({prop:"gridArea"});my(yy,_y,vy,y6,_6,v6,E6,b6,T6,w6,S6,A6);function ec(n,e){return e==="grey"?e:n}const I6=tn({prop:"color",themeKey:"palette",transform:ec}),R6=tn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ec}),C6=tn({prop:"backgroundColor",themeKey:"palette",transform:ec});my(I6,R6,C6);function Nr(n){return n<=1&&n!==0?`${n*100}%`:n}const x6=tn({prop:"width",transform:Nr}),w0=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const r=n.theme?.breakpoints?.values?.[t]||dy[t];return r?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Nr(t)}};return Ys(n,n.maxWidth,e)}return null};w0.filterProps=["maxWidth"];const P6=tn({prop:"minWidth",transform:Nr}),O6=tn({prop:"height",transform:Nr}),D6=tn({prop:"maxHeight",transform:Nr}),N6=tn({prop:"minHeight",transform:Nr});tn({prop:"size",cssProperty:"width",transform:Nr});tn({prop:"size",cssProperty:"height",transform:Nr});const k6=tn({prop:"boxSizing"});my(x6,w0,P6,O6,D6,N6,k6);const Ey={border:{themeKey:"borders",transform:ei},borderTop:{themeKey:"borders",transform:ei},borderRight:{themeKey:"borders",transform:ei},borderBottom:{themeKey:"borders",transform:ei},borderLeft:{themeKey:"borders",transform:ei},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ei},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:gy},color:{themeKey:"palette",transform:ec},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ec},backgroundColor:{themeKey:"palette",transform:ec},p:{style:Ht},pt:{style:Ht},pr:{style:Ht},pb:{style:Ht},pl:{style:Ht},px:{style:Ht},py:{style:Ht},padding:{style:Ht},paddingTop:{style:Ht},paddingRight:{style:Ht},paddingBottom:{style:Ht},paddingLeft:{style:Ht},paddingX:{style:Ht},paddingY:{style:Ht},paddingInline:{style:Ht},paddingInlineStart:{style:Ht},paddingInlineEnd:{style:Ht},paddingBlock:{style:Ht},paddingBlockStart:{style:Ht},paddingBlockEnd:{style:Ht},m:{style:qt},mt:{style:qt},mr:{style:qt},mb:{style:qt},ml:{style:qt},mx:{style:qt},my:{style:qt},margin:{style:qt},marginTop:{style:qt},marginRight:{style:qt},marginBottom:{style:qt},marginLeft:{style:qt},marginX:{style:qt},marginY:{style:qt},marginInline:{style:qt},marginInlineStart:{style:qt},marginInlineEnd:{style:qt},marginBlock:{style:qt},marginBlockStart:{style:qt},marginBlockEnd:{style:qt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:yy},rowGap:{style:vy},columnGap:{style:_y},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Nr},maxWidth:{style:w0},minWidth:{transform:Nr},height:{transform:Nr},maxHeight:{transform:Nr},minHeight:{transform:Nr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function M6(...n){const e=n.reduce((r,s)=>r.concat(Object.keys(s)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function V6(n,e){return typeof n=="function"?n(e):n}function L6(){function n(t,r,s,o){const u={[t]:r,theme:s},h=o[t];if(!h)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:g,style:_}=h;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const v=py(s,f)||{};return _?_(u):Ys(u,r,w=>{let I=Ag(v,g,w);return w===I&&typeof w=="string"&&(I=Ag(v,g,`${t}${w==="default"?"":no(w)}`,w)),d===!1?I:{[d]:I}})}function e(t){const{sx:r,theme:s={},nested:o}=t||{};if(!r)return null;const u=s.unstable_sxConfig??Ey;function h(d){let f=d;if(typeof d=="function")f=d(s);else if(typeof d!="object")return d;if(!f)return null;const g=J5(s.breakpoints),_=Object.keys(g);let v=g;return Object.keys(f).forEach(S=>{const w=V6(f[S],s);if(w!=null)if(typeof w=="object")if(u[S])v=Vf(v,n(S,w,s,u));else{const I=Ys({theme:s},w,P=>({[S]:P}));M6(I,w)?v[S]=e({sx:w,theme:s,nested:!0}):v=Vf(v,I)}else v=Vf(v,n(S,w,s,u))}),!o&&s.modularCssLayers?{"@layer sx":UR(s,BR(_,v))}:UR(s,BR(_,v))}return Array.isArray(r)?r.map(h):h(r)}return e}const uc=L6();uc.filterProps=["sx"];function U6(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function MP(n={},...e){const{breakpoints:t={},palette:r={},spacing:s,shape:o={},...u}=n,h=G5(t),d=kP(s);let f=Vr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...Y5,...o}},u);return f=Q5(f),f.applyStyles=U6,f=e.reduce((g,_)=>Vr(g,_),f),f.unstable_sxConfig={...Ey,...u?.unstable_sxConfig},f.unstable_sx=function(_){return uc({sx:_,theme:this})},f}const jR=n=>n,F6=()=>{let n=jR;return{configure(e){n=e},generate(e){return n(e)},reset(){n=jR}}},B6=F6();function VP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=VP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ya(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=VP(n))&&(r&&(r+=" "),r+=e);return r}const z6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function S0(n,e,t="Mui"){const r=z6[e];return r?`${t}-${r}`:`${B6.generate(n)}-${e}`}function LP(n,e,t="Mui"){const r={};return e.forEach(s=>{r[s]=S0(n,s,t)}),r}function UP(n){const{variants:e,...t}=n,r={variants:e,style:Tl(t),isProcessed:!0};return r.style===t||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=Tl(s.style))}),r}const j6=MP();function RE(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function gl(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function q6(n){return n?(e,t)=>t[n]:null}function H6(n,e,t){n.theme=K6(n.theme)?t:n.theme[e]||n.theme}function ig(n,e,t){const r=typeof e=="function"?e(n):e;if(Array.isArray(r))return r.flatMap(s=>ig(n,s,t));if(Array.isArray(r?.variants)){let s;if(r.isProcessed)s=t?gl(r.style,t):r.style;else{const{variants:o,...u}=r;s=t?gl(Tl(u),t):u}return FP(n,r.variants,[s],t)}return r?.isProcessed?t?gl(Tl(r.style),t):r.style:t?gl(Tl(r),t):r}function FP(n,e,t=[],r=void 0){let s;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(s??={...n,...n.ownerState,ownerState:n.ownerState},!u.props(s))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&n.ownerState?.[h]!==u.props[h])continue e;typeof u.style=="function"?(s??={...n,...n.ownerState,ownerState:n.ownerState},t.push(r?gl(Tl(u.style(s)),r):u.style(s))):t.push(r?gl(Tl(u.style),r):u.style)}return t}function $6(n={}){const{themeId:e,defaultTheme:t=j6,rootShouldForwardProp:r=RE,slotShouldForwardProp:s=RE}=n;function o(h){H6(h,e,t)}return(h,d={})=>{j5(h,H=>H.filter(N=>N!==uc));const{name:f,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:S=q6(Q6(g)),...w}=d,I=f&&f.startsWith("Mui")||g?"components":"custom",P=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,F=v||!1;let V=RE;g==="Root"||g==="root"?V=r:g?V=s:W6(h)&&(V=void 0);const z=z5(h,{shouldForwardProp:V,label:G6(),...w}),W=H=>{if(H.__emotion_real===H)return H;if(typeof H=="function")return function(C){return ig(C,H,C.theme.modularCssLayers?I:void 0)};if(qs(H)){const N=UP(H);return function(x){return N.variants?ig(x,N,x.theme.modularCssLayers?I:void 0):x.theme.modularCssLayers?gl(N.style,I):N.style}}return H},$=(...H)=>{const N=[],C=H.map(W),x=[];if(N.push(o),f&&S&&x.push(function(R){const M=R.theme.components?.[f]?.styleOverrides;if(!M)return null;const j={};for(const X in M)j[X]=ig(R,M[X],R.theme.modularCssLayers?"theme":void 0);return S(R,j)}),f&&!P&&x.push(function(R){const M=R.theme?.components?.[f]?.variants;return M?FP(R,M,[],R.theme.modularCssLayers?"theme":void 0):null}),F||x.push(uc),Array.isArray(C[0])){const b=C.shift(),R=new Array(N.length).fill(""),G=new Array(x.length).fill("");let M;M=[...R,...b,...G],M.raw=[...R,...b.raw,...G],N.unshift(M)}const L=[...N,...C,...x],O=z(...L);return h.muiName&&(O.muiName=h.muiName),O};return z.withConfig&&($.withConfig=z.withConfig),$}}function G6(n,e){return void 0}function K6(n){for(const e in n)return!1;return!0}function W6(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Q6(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function ub(n,e,t=!1){const r={...e};for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)){const o=s;if(o==="components"||o==="slots")r[o]={...n[o],...r[o]};else if(o==="componentsProps"||o==="slotProps"){const u=n[o],h=e[o];if(!h)r[o]=u||{};else if(!u)r[o]=h;else{r[o]={...h};for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const f=d;r[o][f]=ub(u[f],h[f],t)}}}else o==="className"&&t&&e.className?r.className=Ya(n?.className,e?.className):o==="style"&&t&&e.style?r.style={...n?.style,...e?.style}:r[o]===void 0&&(r[o]=n[o])}return r}function BP(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function A0(n,e=0,t=1){return BP(n,e,t)}function Y6(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ro(n){if(n.type)return n;if(n.charAt(0)==="#")return ro(Y6(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Rl(9,n));let r=n.substring(e+1,n.length-1),s;if(t==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Rl(10,s))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:s}}const X6=n=>{const e=ro(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},If=(n,e)=>{try{return X6(n)}catch{return n}};function by(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((s,o)=>o<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function zP(n){n=ro(n);const{values:e}=n,t=e[0],r=e[1]/100,s=e[2]/100,o=r*Math.min(s,1-s),u=(f,g=(f+t/30)%12)=>s-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const d=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",d.push(e[3])),by({type:h,values:d})}function cb(n){n=ro(n);let e=n.type==="hsl"||n.type==="hsla"?ro(zP(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function J6(n,e){const t=cb(n),r=cb(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function jP(n,e){return n=ro(n),e=A0(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,by(n)}function il(n,e,t){try{return jP(n,e)}catch{return n}}function Ty(n,e){if(n=ro(n),e=A0(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return by(n)}function ct(n,e,t){try{return Ty(n,e)}catch{return n}}function wy(n,e){if(n=ro(n),e=A0(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return by(n)}function ht(n,e,t){try{return wy(n,e)}catch{return n}}function Z6(n,e=.15){return cb(n)>.5?Ty(n,e):wy(n,e)}function Um(n,e,t){try{return Z6(n,e)}catch{return n}}const eU=Q.createContext(),tU=()=>Q.useContext(eU)??!1,nU=Q.createContext(void 0);function rU(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const s=e.components[t];return s.defaultProps?ub(s.defaultProps,r,e.components.mergeClassNameAndStyle):!s.styleOverrides&&!s.variants?ub(s,r,e.components.mergeClassNameAndStyle):r}function iU({props:n,name:e}){const t=Q.useContext(nU);return rU({props:n,name:e,theme:{components:t}})}let qR=0;function sU(n){const[e,t]=Q.useState(n),r=n||e;return Q.useEffect(()=>{e==null&&(qR+=1,t(`mui-${qR}`))},[e]),r}const aU={...XE},HR=aU.useId;function qP(n){if(HR!==void 0){const e=HR();return n??e}return sU(n)}const $R={theme:void 0};function oU(n){let e,t;return function(s){let o=e;return(o===void 0||s.theme!==t)&&($R.theme=s.theme,o=UP(n($R)),e=o,t=s.theme),o}}function lU(n=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${n?`${n}-`:""}${r}${e(...s)})`}const GR=(n,e,t,r=[])=>{let s=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(s)?s[Number(o)]=t:s&&typeof s=="object"&&(s[o]=t):s&&typeof s=="object"&&(s[o]||(s[o]=r.includes(o)?[]:{}),s=s[o])})},uU=(n,e,t)=>{function r(s,o=[],u=[]){Object.entries(s).forEach(([h,d])=>{(!t||t&&!t([...o,h]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,h],Array.isArray(d)?[...u,h]:u):e([...o,h],d,u))})}r(n)},cU=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function CE(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},s={},o={},u={};return uU(n,(h,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(h,d))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=cU(h,d);Object.assign(s,{[g]:_}),GR(o,h,`var(${g})`,f),GR(u,h,`var(${g}, ${_})`,f)}},h=>h[0]==="vars"),{css:s,vars:o,varsWithDefaults:u}}function hU(n,e={}){const{getSelector:t=F,disableCssColorScheme:r,colorSchemeSelector:s,enableContrastVars:o}=e,{colorSchemes:u={},components:h,defaultColorScheme:d="light",...f}=n,{vars:g,css:_,varsWithDefaults:v}=CE(f,e);let S=v;const w={},{[d]:I,...P}=u;if(Object.entries(P||{}).forEach(([W,$])=>{const{vars:H,css:N,varsWithDefaults:C}=CE($,e);S=Vr(S,C),w[W]={css:N,vars:H}}),I){const{css:W,vars:$,varsWithDefaults:H}=CE(I,e);S=Vr(S,H),w[d]={css:W,vars:$}}function F(W,$){let H=s;if(s==="class"&&(H=".%s"),s==="data"&&(H="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(H=`[${s}="%s"]`),W){if(H==="media")return n.defaultColorScheme===W?":root":{[`@media (prefers-color-scheme: ${u[W]?.palette?.mode||W})`]:{":root":$}};if(H)return n.defaultColorScheme===W?`:root, ${H.replace("%s",String(W))}`:H.replace("%s",String(W))}return":root"}return{vars:S,generateThemeVars:()=>{let W={...g};return Object.entries(w).forEach(([,{vars:$}])=>{W=Vr(W,$)}),W},generateStyleSheets:()=>{const W=[],$=n.defaultColorScheme||"light";function H(x,L){Object.keys(L).length&&W.push(typeof x=="string"?{[x]:{...L}}:x)}H(t(void 0,{..._}),_);const{[$]:N,...C}=w;if(N){const{css:x}=N,L=u[$]?.palette?.mode,O=!r&&L?{colorScheme:L,...x}:{...x};H(t($,{...O}),O)}return Object.entries(C).forEach(([x,{css:L}])=>{const O=u[x]?.palette?.mode,b=!r&&O?{colorScheme:O,...L}:{...L};H(t(x,{...b}),b)}),o&&W.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),W}}}function fU(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function HP(n,e,t=void 0){const r={};for(const s in n){const o=n[s];let u="",h=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(u+=(h===!0?"":" ")+e(f),h=!1,t&&t[f]&&(u+=" "+t[f]))}r[s]=u}return r}function $P(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ed.white,default:ed.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const GP=$P();function KP(){return{text:{primary:ed.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ed.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const hb=KP();function KR(n,e,t,r){const s=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=wy(n.main,s):e==="dark"&&(n.dark=Ty(n.main,o)))}function WR(n,e,t,r,s){const o=s.light||s,u=s.dark||s*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(o*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(u*100).toFixed(0)}%)`))}function dU(n="light"){return n==="dark"?{main:Vu[200],light:Vu[50],dark:Vu[400]}:{main:Vu[700],light:Vu[400],dark:Vu[800]}}function pU(n="light"){return n==="dark"?{main:Mu[200],light:Mu[50],dark:Mu[400]}:{main:Mu[500],light:Mu[300],dark:Mu[700]}}function mU(n="light"){return n==="dark"?{main:ku[500],light:ku[300],dark:ku[700]}:{main:ku[700],light:ku[400],dark:ku[800]}}function gU(n="light"){return n==="dark"?{main:Lu[400],light:Lu[300],dark:Lu[700]}:{main:Lu[700],light:Lu[500],dark:Lu[900]}}function yU(n="light"){return n==="dark"?{main:Uu[400],light:Uu[300],dark:Uu[700]}:{main:Uu[800],light:Uu[500],dark:Uu[900]}}function _U(n="light"){return n==="dark"?{main:ff[400],light:ff[300],dark:ff[700]}:{main:"#ed6c02",light:ff[500],dark:ff[900]}}function vU(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function I0(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,colorSpace:s,...o}=n,u=n.primary||dU(e),h=n.secondary||pU(e),d=n.error||mU(e),f=n.info||gU(e),g=n.success||yU(e),_=n.warning||_U(e);function v(P){return s?vU(P):J6(P,hb.text.primary)>=t?hb.text.primary:GP.text.primary}const S=({color:P,name:F,mainShade:V=500,lightShade:z=300,darkShade:W=700})=>{if(P={...P},!P.main&&P[V]&&(P.main=P[V]),!P.hasOwnProperty("main"))throw new Error(Rl(11,F?` (${F})`:"",V));if(typeof P.main!="string")throw new Error(Rl(12,F?` (${F})`:"",JSON.stringify(P.main)));return s?(WR(s,P,"light",z,r),WR(s,P,"dark",W,r)):(KR(P,"light",z,r),KR(P,"dark",W,r)),P.contrastText||(P.contrastText=v(P.main)),P};let w;return e==="light"?w=$P():e==="dark"&&(w=KP()),Vr({common:{...ed},mode:e,primary:S({color:u,name:"primary"}),secondary:S({color:h,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:S({color:d,name:"error"}),warning:S({color:_,name:"warning"}),info:S({color:f,name:"info"}),success:S({color:g,name:"success"}),grey:H3,contrastThreshold:t,getContrastText:v,augmentColor:S,tonalOffset:r,...w},o)}function EU(n){const e={};return Object.entries(n).forEach(r=>{const[s,o]=r;typeof o=="object"&&(e[s]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function bU(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function TU(n){return Math.round(n*1e5)/1e5}const QR={textTransform:"uppercase"},YR='"Roboto", "Helvetica", "Arial", sans-serif';function wU(n,e){const{fontFamily:t=YR,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:f,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,S=g||(P=>`${P/d*v}rem`),w=(P,F,V,z,W)=>({fontFamily:t,fontWeight:P,fontSize:S(F),lineHeight:V,...t===YR?{letterSpacing:`${TU(z/F)}em`}:{},...W,...f}),I={h1:w(s,96,1.167,-1.5),h2:w(s,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(u,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(u,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(u,14,1.75,.4,QR),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,QR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Vr({htmlFontSize:d,pxToRem:S,fontFamily:t,fontSize:r,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...I},_,{clone:!1})}const SU=.2,AU=.14,IU=.12;function xt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${SU})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${AU})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${IU})`].join(",")}const RU=["none",xt(0,2,1,-1,0,1,1,0,0,1,3,0),xt(0,3,1,-2,0,2,2,0,0,1,5,0),xt(0,3,3,-2,0,3,4,0,0,1,8,0),xt(0,2,4,-1,0,4,5,0,0,1,10,0),xt(0,3,5,-1,0,5,8,0,0,1,14,0),xt(0,3,5,-1,0,6,10,0,0,1,18,0),xt(0,4,5,-2,0,7,10,1,0,2,16,1),xt(0,5,5,-3,0,8,10,1,0,3,14,2),xt(0,5,6,-3,0,9,12,1,0,3,16,2),xt(0,6,6,-3,0,10,14,1,0,4,18,3),xt(0,6,7,-4,0,11,15,1,0,4,20,3),xt(0,7,8,-4,0,12,17,2,0,5,22,4),xt(0,7,8,-4,0,13,19,2,0,5,24,4),xt(0,7,9,-4,0,14,21,2,0,5,26,4),xt(0,8,9,-5,0,15,22,2,0,6,28,5),xt(0,8,10,-5,0,16,24,2,0,6,30,5),xt(0,8,11,-5,0,17,26,2,0,6,32,5),xt(0,9,11,-5,0,18,28,2,0,7,34,6),xt(0,9,12,-6,0,19,29,2,0,7,36,6),xt(0,10,13,-6,0,20,31,3,0,8,38,7),xt(0,10,13,-6,0,21,33,3,0,8,40,7),xt(0,10,14,-6,0,22,35,3,0,8,42,7),xt(0,11,14,-7,0,23,36,3,0,9,44,8),xt(0,11,15,-7,0,24,38,3,0,9,46,8)],CU={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xU={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function XR(n){return`${Math.round(n)}ms`}function PU(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function OU(n){const e={...CU,...n.easing},t={...xU,...n.duration};return{getAutoHeightDuration:PU,create:(s=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(s)?s:[s]).map(g=>`${g} ${typeof u=="string"?u:XR(u)} ${h} ${typeof d=="string"?d:XR(d)}`).join(",")},...n,easing:e,duration:t}}const DU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function NU(n){return qs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function WP(n={}){const e={...n};function t(r){const s=Object.entries(r);for(let o=0;o<s.length;o++){const[u,h]=s[o];!NU(h)||u.startsWith("unstable_")?delete r[u]:qs(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function JR(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const kU=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let r=0;r<e.length;r+=1)t+=+e[r];return t};function MU(n){Object.assign(n,{alpha(e,t){const r=this||n;return r.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:jP(e,kU(t))},lighten(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${JR(t)})`:wy(e,t)},darken(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${JR(t)})`:Ty(e,t)}})}function fb(n={},...e){const{breakpoints:t,mixins:r={},spacing:s,palette:o={},transitions:u={},typography:h={},shape:d,colorSpace:f,...g}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Rl(20));const _=I0({...o,colorSpace:f}),v=MP(n);let S=Vr(v,{mixins:bU(v.breakpoints,r),palette:_,shadows:RU.slice(),typography:wU(_,h),transitions:OU(u),zIndex:{...DU}});return S=Vr(S,g),S=e.reduce((w,I)=>Vr(w,I),S),S.unstable_sxConfig={...Ey,...g?.unstable_sxConfig},S.unstable_sx=function(I){return uc({sx:I,theme:this})},S.toRuntimeSource=WP,MU(S),S}function VU(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const LU=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=VU(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function QP(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function YP(n){return n==="dark"?LU:[]}function UU(n){const{palette:e={mode:"light"},opacity:t,overlays:r,colorSpace:s,...o}=n,u=I0({...e,colorSpace:s});return{palette:u,opacity:{...QP(u.mode),...t},overlays:r||YP(u.mode),...o}}function FU(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const BU=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],zU=n=>(e,t)=>{const r=n.rootSelector||":root",s=n.colorSchemeSelector;let o=s;if(s==="class"&&(o=".%s"),s==="data"&&(o="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(o=`[${s}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return BU(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function jU(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ce(n,e,t){!n[e]&&t&&(n[e]=t)}function Rf(n){return typeof n!="string"||!n.startsWith("hsl")?n:zP(n)}function Bs(n,e){`${e}Channel`in n||(n[`${e}Channel`]=If(Rf(n[e])))}function qU(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Qi=n=>{try{return n()}catch{}},HU=(n="mui")=>lU(n);function xE(n,e,t,r,s){if(!t)return;t=t===!0?{}:t;const o=s==="dark"?"dark":"light";if(!r){e[s]=UU({...t,palette:{mode:o,...t?.palette},colorSpace:n});return}const{palette:u,...h}=fb({...r,palette:{mode:o,...t?.palette},colorSpace:n});return e[s]={...t,palette:u,opacity:{...QP(o),...t?.opacity},overlays:t?.overlays||YP(o)},h}function $U(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:o="mui",nativeColor:u=!1,shouldSkipGeneratingVar:h=FU,colorSchemeSelector:d=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...g}=n,_=Object.keys(t)[0],v=r||(t.light&&_!=="light"?"light":_),S=HU(o),{[v]:w,light:I,dark:P,...F}=t,V={...F};let z=w;if((v==="dark"&&!("dark"in t)||v==="light"&&!("light"in t))&&(z=!0),!z)throw new Error(Rl(21,v));let W;u&&(W="oklch");const $=xE(W,V,z,g,v);I&&!V.light&&xE(W,V,I,void 0,"light"),P&&!V.dark&&xE(W,V,P,void 0,"dark");let H={defaultColorScheme:v,...$,cssVarPrefix:o,colorSchemeSelector:d,rootSelector:f,getCssVar:S,colorSchemes:V,font:{...EU($.typography),...$.font},spacing:qU(g.spacing)};Object.keys(H.colorSchemes).forEach(O=>{const b=H.colorSchemes[O].palette,R=M=>{const j=M.split("-"),X=j[1],ne=j[2];return S(M,b[X][ne])};b.mode==="light"&&(ce(b.common,"background","#fff"),ce(b.common,"onBackground","#000")),b.mode==="dark"&&(ce(b.common,"background","#000"),ce(b.common,"onBackground","#fff"));function G(M,j,X){if(W){let ne;return M===il&&(ne=`transparent ${((1-X)*100).toFixed(0)}%`),M===ct&&(ne=`#000 ${(X*100).toFixed(0)}%`),M===ht&&(ne=`#fff ${(X*100).toFixed(0)}%`),`color-mix(in ${W}, ${j}, ${ne})`}return M(j,X)}if(jU(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){ce(b.Alert,"errorColor",G(ct,b.error.light,.6)),ce(b.Alert,"infoColor",G(ct,b.info.light,.6)),ce(b.Alert,"successColor",G(ct,b.success.light,.6)),ce(b.Alert,"warningColor",G(ct,b.warning.light,.6)),ce(b.Alert,"errorFilledBg",R("palette-error-main")),ce(b.Alert,"infoFilledBg",R("palette-info-main")),ce(b.Alert,"successFilledBg",R("palette-success-main")),ce(b.Alert,"warningFilledBg",R("palette-warning-main")),ce(b.Alert,"errorFilledColor",Qi(()=>b.getContrastText(b.error.main))),ce(b.Alert,"infoFilledColor",Qi(()=>b.getContrastText(b.info.main))),ce(b.Alert,"successFilledColor",Qi(()=>b.getContrastText(b.success.main))),ce(b.Alert,"warningFilledColor",Qi(()=>b.getContrastText(b.warning.main))),ce(b.Alert,"errorStandardBg",G(ht,b.error.light,.9)),ce(b.Alert,"infoStandardBg",G(ht,b.info.light,.9)),ce(b.Alert,"successStandardBg",G(ht,b.success.light,.9)),ce(b.Alert,"warningStandardBg",G(ht,b.warning.light,.9)),ce(b.Alert,"errorIconColor",R("palette-error-main")),ce(b.Alert,"infoIconColor",R("palette-info-main")),ce(b.Alert,"successIconColor",R("palette-success-main")),ce(b.Alert,"warningIconColor",R("palette-warning-main")),ce(b.AppBar,"defaultBg",R("palette-grey-100")),ce(b.Avatar,"defaultBg",R("palette-grey-400")),ce(b.Button,"inheritContainedBg",R("palette-grey-300")),ce(b.Button,"inheritContainedHoverBg",R("palette-grey-A100")),ce(b.Chip,"defaultBorder",R("palette-grey-400")),ce(b.Chip,"defaultAvatarColor",R("palette-grey-700")),ce(b.Chip,"defaultIconColor",R("palette-grey-700")),ce(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ce(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ce(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ce(b.LinearProgress,"primaryBg",G(ht,b.primary.main,.62)),ce(b.LinearProgress,"secondaryBg",G(ht,b.secondary.main,.62)),ce(b.LinearProgress,"errorBg",G(ht,b.error.main,.62)),ce(b.LinearProgress,"infoBg",G(ht,b.info.main,.62)),ce(b.LinearProgress,"successBg",G(ht,b.success.main,.62)),ce(b.LinearProgress,"warningBg",G(ht,b.warning.main,.62)),ce(b.Skeleton,"bg",W?G(il,b.text.primary,.11):`rgba(${R("palette-text-primaryChannel")} / 0.11)`),ce(b.Slider,"primaryTrack",G(ht,b.primary.main,.62)),ce(b.Slider,"secondaryTrack",G(ht,b.secondary.main,.62)),ce(b.Slider,"errorTrack",G(ht,b.error.main,.62)),ce(b.Slider,"infoTrack",G(ht,b.info.main,.62)),ce(b.Slider,"successTrack",G(ht,b.success.main,.62)),ce(b.Slider,"warningTrack",G(ht,b.warning.main,.62));const M=W?G(ct,b.background.default,.6825):Um(b.background.default,.8);ce(b.SnackbarContent,"bg",M),ce(b.SnackbarContent,"color",Qi(()=>W?hb.text.primary:b.getContrastText(M))),ce(b.SpeedDialAction,"fabHoverBg",Um(b.background.paper,.15)),ce(b.StepConnector,"border",R("palette-grey-400")),ce(b.StepContent,"border",R("palette-grey-400")),ce(b.Switch,"defaultColor",R("palette-common-white")),ce(b.Switch,"defaultDisabledColor",R("palette-grey-100")),ce(b.Switch,"primaryDisabledColor",G(ht,b.primary.main,.62)),ce(b.Switch,"secondaryDisabledColor",G(ht,b.secondary.main,.62)),ce(b.Switch,"errorDisabledColor",G(ht,b.error.main,.62)),ce(b.Switch,"infoDisabledColor",G(ht,b.info.main,.62)),ce(b.Switch,"successDisabledColor",G(ht,b.success.main,.62)),ce(b.Switch,"warningDisabledColor",G(ht,b.warning.main,.62)),ce(b.TableCell,"border",G(ht,G(il,b.divider,1),.88)),ce(b.Tooltip,"bg",G(il,b.grey[700],.92))}if(b.mode==="dark"){ce(b.Alert,"errorColor",G(ht,b.error.light,.6)),ce(b.Alert,"infoColor",G(ht,b.info.light,.6)),ce(b.Alert,"successColor",G(ht,b.success.light,.6)),ce(b.Alert,"warningColor",G(ht,b.warning.light,.6)),ce(b.Alert,"errorFilledBg",R("palette-error-dark")),ce(b.Alert,"infoFilledBg",R("palette-info-dark")),ce(b.Alert,"successFilledBg",R("palette-success-dark")),ce(b.Alert,"warningFilledBg",R("palette-warning-dark")),ce(b.Alert,"errorFilledColor",Qi(()=>b.getContrastText(b.error.dark))),ce(b.Alert,"infoFilledColor",Qi(()=>b.getContrastText(b.info.dark))),ce(b.Alert,"successFilledColor",Qi(()=>b.getContrastText(b.success.dark))),ce(b.Alert,"warningFilledColor",Qi(()=>b.getContrastText(b.warning.dark))),ce(b.Alert,"errorStandardBg",G(ct,b.error.light,.9)),ce(b.Alert,"infoStandardBg",G(ct,b.info.light,.9)),ce(b.Alert,"successStandardBg",G(ct,b.success.light,.9)),ce(b.Alert,"warningStandardBg",G(ct,b.warning.light,.9)),ce(b.Alert,"errorIconColor",R("palette-error-main")),ce(b.Alert,"infoIconColor",R("palette-info-main")),ce(b.Alert,"successIconColor",R("palette-success-main")),ce(b.Alert,"warningIconColor",R("palette-warning-main")),ce(b.AppBar,"defaultBg",R("palette-grey-900")),ce(b.AppBar,"darkBg",R("palette-background-paper")),ce(b.AppBar,"darkColor",R("palette-text-primary")),ce(b.Avatar,"defaultBg",R("palette-grey-600")),ce(b.Button,"inheritContainedBg",R("palette-grey-800")),ce(b.Button,"inheritContainedHoverBg",R("palette-grey-700")),ce(b.Chip,"defaultBorder",R("palette-grey-700")),ce(b.Chip,"defaultAvatarColor",R("palette-grey-300")),ce(b.Chip,"defaultIconColor",R("palette-grey-300")),ce(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ce(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ce(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ce(b.LinearProgress,"primaryBg",G(ct,b.primary.main,.5)),ce(b.LinearProgress,"secondaryBg",G(ct,b.secondary.main,.5)),ce(b.LinearProgress,"errorBg",G(ct,b.error.main,.5)),ce(b.LinearProgress,"infoBg",G(ct,b.info.main,.5)),ce(b.LinearProgress,"successBg",G(ct,b.success.main,.5)),ce(b.LinearProgress,"warningBg",G(ct,b.warning.main,.5)),ce(b.Skeleton,"bg",W?G(il,b.text.primary,.13):`rgba(${R("palette-text-primaryChannel")} / 0.13)`),ce(b.Slider,"primaryTrack",G(ct,b.primary.main,.5)),ce(b.Slider,"secondaryTrack",G(ct,b.secondary.main,.5)),ce(b.Slider,"errorTrack",G(ct,b.error.main,.5)),ce(b.Slider,"infoTrack",G(ct,b.info.main,.5)),ce(b.Slider,"successTrack",G(ct,b.success.main,.5)),ce(b.Slider,"warningTrack",G(ct,b.warning.main,.5));const M=W?G(ht,b.background.default,.985):Um(b.background.default,.98);ce(b.SnackbarContent,"bg",M),ce(b.SnackbarContent,"color",Qi(()=>W?GP.text.primary:b.getContrastText(M))),ce(b.SpeedDialAction,"fabHoverBg",Um(b.background.paper,.15)),ce(b.StepConnector,"border",R("palette-grey-600")),ce(b.StepContent,"border",R("palette-grey-600")),ce(b.Switch,"defaultColor",R("palette-grey-300")),ce(b.Switch,"defaultDisabledColor",R("palette-grey-600")),ce(b.Switch,"primaryDisabledColor",G(ct,b.primary.main,.55)),ce(b.Switch,"secondaryDisabledColor",G(ct,b.secondary.main,.55)),ce(b.Switch,"errorDisabledColor",G(ct,b.error.main,.55)),ce(b.Switch,"infoDisabledColor",G(ct,b.info.main,.55)),ce(b.Switch,"successDisabledColor",G(ct,b.success.main,.55)),ce(b.Switch,"warningDisabledColor",G(ct,b.warning.main,.55)),ce(b.TableCell,"border",G(ct,G(il,b.divider,1),.68)),ce(b.Tooltip,"bg",G(il,b.grey[700],.92))}Bs(b.background,"default"),Bs(b.background,"paper"),Bs(b.common,"background"),Bs(b.common,"onBackground"),Bs(b,"divider"),Object.keys(b).forEach(M=>{const j=b[M];M!=="tonalOffset"&&j&&typeof j=="object"&&(j.main&&ce(b[M],"mainChannel",If(Rf(j.main))),j.light&&ce(b[M],"lightChannel",If(Rf(j.light))),j.dark&&ce(b[M],"darkChannel",If(Rf(j.dark))),j.contrastText&&ce(b[M],"contrastTextChannel",If(Rf(j.contrastText))),M==="text"&&(Bs(b[M],"primary"),Bs(b[M],"secondary")),M==="action"&&(j.active&&Bs(b[M],"active"),j.selected&&Bs(b[M],"selected")))})}),H=e.reduce((O,b)=>Vr(O,b),H);const N={prefix:o,disableCssColorScheme:s,shouldSkipGeneratingVar:h,getSelector:zU(H),enableContrastVars:u},{vars:C,generateThemeVars:x,generateStyleSheets:L}=hU(H,N);return H.vars=C,Object.entries(H.colorSchemes[H.defaultColorScheme]).forEach(([O,b])=>{H[O]=b}),H.generateThemeVars=x,H.generateStyleSheets=L,H.generateSpacing=function(){return kP(g.spacing,T0(this))},H.getColorSchemeSelector=fU(d),H.spacing=H.generateSpacing(),H.shouldSkipGeneratingVar=h,H.unstable_sxConfig={...Ey,...g?.unstable_sxConfig},H.unstable_sx=function(b){return uc({sx:b,theme:this})},H.toRuntimeSource=WP,H}function ZR(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:I0({...t===!0?{}:t.palette,mode:e})})}function GU(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:s=t?void 0:{light:!0},defaultColorScheme:o=t?.mode,...u}=n,h=o||"light",d=s?.[h],f={...s,...t?{[h]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return fb(n,...e);let g=t;"palette"in n||f[h]&&(f[h]!==!0?g=f[h].palette:h==="dark"&&(g={mode:"dark"}));const _=fb({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=f,_.palette.mode==="light"&&(_.colorSchemes.light={...f.light!==!0&&f.light,palette:_.palette},ZR(_,"dark",f.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:_.palette},ZR(_,"light",f.light)),_}return!t&&!("light"in f)&&h==="light"&&(f.light=!0),$U({...u,colorSchemes:f,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const KU=GU();function XP(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const WU=n=>XP(n)&&n!=="classes",Vd=$6({themeId:$3,defaultTheme:KU,rootShouldForwardProp:WU}),R0=oU;function JP(n){return iU(n)}function QU(n){return S0("MuiSvgIcon",n)}LP("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const YU=n=>{const{color:e,fontSize:t,classes:r}=n,s={root:["root",e!=="inherit"&&`color${no(e)}`,`fontSize${no(t)}`]};return HP(s,QU,r)},XU=Vd("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${no(t.color)}`],e[`fontSize${no(t.fontSize)}`]]}})(R0(({theme:n})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:n.transitions?.create?.("fill",{duration:(n.vars??n).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:n.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:n.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:n.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(n.vars??n).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(n.vars??n).palette?.action?.active}},{props:{color:"disabled"},style:{color:(n.vars??n).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),db=Q.forwardRef(function(e,t){const r=JP({props:e,name:"MuiSvgIcon"}),{children:s,className:o,color:u="inherit",component:h="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...S}=r,w=Q.isValidElement(s)&&s.type==="svg",I={...r,color:u,component:h,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:w},P={};g||(P.viewBox=v);const F=YU(I);return U.jsxs(XU,{as:h,className:Ya(F.root,o),focusable:"false",color:f,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...P,...S,...w&&s.props,ownerState:I,children:[w?s.props.children:s,_?U.jsx("title",{children:_}):null]})});db.muiName="SvgIcon";function ZP(n,e){function t(r,s){return U.jsx(db,{"data-testid":void 0,ref:s,...r,children:n})}return t.muiName=db.muiName,Q.memo(Q.forwardRef(t))}function JU(n){const{controlled:e,default:t}=n,{current:r}=Q.useRef(e!==void 0),[s,o]=Q.useState(t),u=r?e:s,h=Q.useCallback(d=>{r||o(d)},[]);return[u,h]}function eO(...n){const e=Q.useRef(void 0),t=Q.useCallback(r=>{const s=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,h=u(r);return typeof h=="function"?h:()=>{u(null)}}return o.current=r,()=>{o.current=null}});return()=>{s.forEach(o=>o?.())}},n);return Q.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}function ZU(n){return typeof n=="string"}function eF(n,e,t){return n===void 0||ZU(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function tF(n,e,t){return typeof n=="function"?n(e,t):n}function nF(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function e1(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function rF(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:s,className:o}=n;if(!e){const S=Ya(t?.className,o,s?.className,r?.className),w={...t?.style,...s?.style,...r?.style},I={...t,...s,...r};return S.length>0&&(I.className=S),Object.keys(w).length>0&&(I.style=w),{props:I,internalRef:void 0}}const u=nF({...s,...r}),h=e1(r),d=e1(s),f=e(u),g=Ya(f?.className,t?.className,o,s?.className,r?.className),_={...f?.style,...t?.style,...s?.style,...r?.style},v={...f,...t,...d,...h};return g.length>0&&(v.className=g),Object.keys(_).length>0&&(v.style=_),{props:v,internalRef:f.ref}}function Lf(n,e){const{className:t,elementType:r,ownerState:s,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:h=!1,...d}=e,{component:f,slots:g={[n]:void 0},slotProps:_={[n]:void 0},...v}=o,S=g[n]||r,w=tF(_[n],s),{props:{component:I,...P},internalRef:F}=rF({className:t,...d,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:w}),V=eO(F,w?.ref,e.ref),z=n==="root"?I||f:I,W=eF(S,{...n==="root"&&!f&&!g[n]&&u,...n!=="root"&&!g[n]&&u,...P,...z&&!h&&{as:z},...z&&h&&{component:z},ref:V},s);return[S,W]}function t1(n){try{return n.matches(":focus-visible")}catch{}return!1}const iF={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},sF=ZP(U.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),aF=ZP(U.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function oF(n){return S0("MuiRating",n)}const pf=LP("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function lF(n){const e=n.toString().split(".")[1];return e?e.length:0}function PE(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(lF(e)))}const uF=n=>{const{classes:e,size:t,readOnly:r,disabled:s,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${no(t)}`,s&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return HP(h,oF,e)},cF=Vd("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${pf.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${no(t.size)}`],t.readOnly&&e.readOnly]}})(R0(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${pf.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${pf.focusVisible} .${pf.iconActive}`]:{outline:"1px solid #999"},[`& .${pf.visuallyHidden}`]:iF,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),tO=Vd("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),hF=Vd("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(R0(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),fF=Vd("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>XP(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function dF(n){const{value:e,...t}=n;return U.jsx("span",{...t})}function n1(n){const{classes:e,disabled:t,emptyIcon:r,focus:s,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:d,IconContainerComponent:f,isActive:g,itemValue:_,labelProps:v,name:S,onBlur:w,onChange:I,onClick:P,onFocus:F,readOnly:V,ownerState:z,ratingValue:W,ratingValueRounded:$,slots:H={},slotProps:N={}}=n,C=u?_===W:_<=W,x=_<=h,L=_<=s,O=_===$,b=`${S}-${qP()}`,R={slots:H,slotProps:N},[G,M]=Lf("icon",{elementType:hF,className:Ya(e.icon,C?e.iconFilled:e.iconEmpty,x&&e.iconHover,L&&e.iconFocus,g&&e.iconActive),externalForwardedProps:R,ownerState:{...z,iconEmpty:!C,iconFilled:C,iconHover:x,iconFocus:L,iconActive:g},additionalProps:{value:_},internalForwardedProps:{as:f}}),[j,X]=Lf("label",{elementType:tO,externalForwardedProps:R,ownerState:{...z,emptyValueFocused:void 0},additionalProps:{style:v?.style,htmlFor:b}}),ne=U.jsx(G,{...M,children:r&&!C?r:d});return V?U.jsx("span",{...v,children:ne}):U.jsxs(Q.Fragment,{children:[U.jsxs(j,{...X,children:[ne,U.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),U.jsx("input",{className:e.visuallyHidden,onFocus:F,onBlur:w,onChange:I,onClick:P,disabled:t,value:_,id:b,type:"radio",name:S,checked:O})]})}const pF=U.jsx(sF,{fontSize:"inherit"}),mF=U.jsx(aF,{fontSize:"inherit"});function gF(n){return`${n||"0"} Star${n!==1?"s":""}`}const yF=Q.forwardRef(function(e,t){const r=JP({name:"MuiRating",props:e}),{component:s="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:d=mF,emptyLabelText:f="Empty",getLabelText:g=gF,highlightSelectedOnly:_=!1,icon:v=pF,IconContainerComponent:S=dF,max:w=5,name:I,onChange:P,onChangeActive:F,onMouseLeave:V,onMouseMove:z,precision:W=1,readOnly:$=!1,size:H="medium",value:N,slots:C={},slotProps:x={},...L}=r,O=qP(I),[b,R]=JU({controlled:N,default:u}),G=PE(b,W),M=tU(),[{hover:j,focus:X},ne]=Q.useState({hover:-1,focus:-1});let be=G;j!==-1&&(be=j),X!==-1&&(be=X);const[we,B]=Q.useState(!1),se=Q.useRef(),ye=eO(se,t),pe=Qe=>{z&&z(Qe);const bt=se.current,{right:Fn,left:nn,width:ar}=bt.getBoundingClientRect();let Br;M?Br=(Fn-Qe.clientX)/ar:Br=(Qe.clientX-nn)/ar;let Yn=PE(w*Br+W/2,W);Yn=BP(Yn,W,w),ne(Bn=>Bn.hover===Yn&&Bn.focus===Yn?Bn:{hover:Yn,focus:Yn}),B(!1),F&&j!==Yn&&F(Qe,Yn)},Ce=Qe=>{V&&V(Qe);const bt=-1;ne({hover:bt,focus:bt}),F&&j!==bt&&F(Qe,bt)},De=Qe=>{let bt=Qe.target.value===""?null:parseFloat(Qe.target.value);j!==-1&&(bt=j),R(bt),P&&P(Qe,bt)},ze=Qe=>{Qe.clientX===0&&Qe.clientY===0||(ne({hover:-1,focus:-1}),R(null),P&&parseFloat(Qe.target.value)===G&&P(Qe,null))},Mt=Qe=>{t1(Qe.target)&&B(!0);const bt=parseFloat(Qe.target.value);ne(Fn=>({hover:Fn.hover,focus:bt}))},Et=Qe=>{if(j!==-1)return;t1(Qe.target)||B(!1);const bt=-1;ne(Fn=>({hover:Fn.hover,focus:bt}))},[_s,vs]=Q.useState(!1),Fr={...r,component:s,defaultValue:u,disabled:h,emptyIcon:d,emptyLabelText:f,emptyValueFocused:_s,focusVisible:we,getLabelText:g,icon:v,IconContainerComponent:S,max:w,precision:W,readOnly:$,size:H},Qn=uF(Fr),sr={slots:C,slotProps:x},[Io,Es]=Lf("root",{ref:ye,className:Ya(Qn.root,o),elementType:cF,externalForwardedProps:{...sr,...L,component:s},getSlotProps:Qe=>({...Qe,onMouseMove:bt=>{pe(bt),Qe.onMouseMove?.(bt)},onMouseLeave:bt=>{Ce(bt),Qe.onMouseLeave?.(bt)}}),ownerState:Fr,additionalProps:{role:$?"img":null,"aria-label":$?g(be):null}}),[Ro,Co]=Lf("label",{className:Ya(Qn.label,Qn.labelEmptyValue),elementType:tO,externalForwardedProps:sr,ownerState:Fr}),[Ft,Bt]=Lf("decimal",{className:Qn.decimal,elementType:fF,externalForwardedProps:sr,ownerState:Fr});return U.jsxs(Io,{...Es,children:[Array.from(new Array(w)).map((Qe,bt)=>{const Fn=bt+1,nn={classes:Qn,disabled:h,emptyIcon:d,focus:X,getLabelText:g,highlightSelectedOnly:_,hover:j,icon:v,IconContainerComponent:S,name:O,onBlur:Et,onChange:De,onClick:ze,onFocus:Mt,ratingValue:be,ratingValueRounded:G,readOnly:$,ownerState:Fr,slots:C,slotProps:x},ar=Fn===Math.ceil(be)&&(j!==-1||X!==-1);if(W<1){const Br=Array.from(new Array(1/W));return Q.createElement(Ft,{...Bt,key:Fn,className:Ya(Bt.className,ar&&Qn.iconActive),iconActive:ar},Br.map((Yn,Bn)=>{const xo=PE(Fn-1+(Bn+1)*W,W);return U.jsx(n1,{...nn,isActive:!1,itemValue:xo,labelProps:{style:Br.length-1===Bn?{}:{width:xo===be?`${(Bn+1)*W*100}%`:"0%",overflow:"hidden",position:"absolute"}}},xo)}))}return U.jsx(n1,{...nn,isActive:ar,itemValue:Fn},Fn)}),!$&&!h&&U.jsxs(Ro,{...Co,children:[U.jsx("input",{className:Qn.visuallyHidden,value:"",id:`${O}-empty`,type:"radio",name:O,checked:G==null,onFocus:()=>vs(!0),onBlur:()=>vs(!1),onChange:De}),U.jsx("span",{className:Qn.visuallyHidden,children:f})]})]})});var sg={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var _F=sg.exports,r1;function vF(){return r1||(r1=1,(function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(_F,function(){var e,t,r="2.0.6",s={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function d(f,g){this._input=f,this._value=g}return e=function(f){var g,_,v,S;if(e.isNumeral(f))g=f.value();else if(f===0||typeof f>"u")g=0;else if(f===null||t.isNaN(f))g=null;else if(typeof f=="string")if(h.zeroFormat&&f===h.zeroFormat)g=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in s)if(S=typeof s[_].regexps.unformat=="function"?s[_].regexps.unformat():s[_].regexps.unformat,S&&f.match(S)){v=s[_].unformat;break}v=v||e._.stringToNumber,g=v(f)}else g=Number(f)||null;return new d(f,g)},e.version=r,e.isNumeral=function(f){return f instanceof d},e._=t={numberToFormat:function(f,g,_){var v=o[e.options.currentLocale],S=!1,w=!1,I=0,P="",F=1e12,V=1e9,z=1e6,W=1e3,$="",H=!1,N,C,x,L,O,b,R;if(f=f||0,C=Math.abs(f),e._.includes(g,"(")?(S=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(O=e._.includes(g,"+")?g.indexOf("+"):f<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(N=g.match(/a(k|m|b|t)?/),N=N?N[1]:!1,e._.includes(g," a")&&(P=" "),g=g.replace(new RegExp(P+"a[kmbt]?"),""),C>=F&&!N||N==="t"?(P+=v.abbreviations.trillion,f=f/F):C<F&&C>=V&&!N||N==="b"?(P+=v.abbreviations.billion,f=f/V):C<V&&C>=z&&!N||N==="m"?(P+=v.abbreviations.million,f=f/z):(C<z&&C>=W&&!N||N==="k")&&(P+=v.abbreviations.thousand,f=f/W)),e._.includes(g,"[.]")&&(w=!0,g=g.replace("[.]",".")),x=f.toString().split(".")[0],L=g.split(".")[1],b=g.indexOf(","),I=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,L?(e._.includes(L,"[")?(L=L.replace("]",""),L=L.split("["),$=e._.toFixed(f,L[0].length+L[1].length,_,L[1].length)):$=e._.toFixed(f,L.length,_),x=$.split(".")[0],e._.includes($,".")?$=v.delimiters.decimal+$.split(".")[1]:$="",w&&Number($.slice(1))===0&&($="")):x=e._.toFixed(f,0,_),P&&!N&&Number(x)>=1e3&&P!==v.abbreviations.trillion)switch(x=String(Number(x)/1e3),P){case v.abbreviations.thousand:P=v.abbreviations.million;break;case v.abbreviations.million:P=v.abbreviations.billion;break;case v.abbreviations.billion:P=v.abbreviations.trillion;break}if(e._.includes(x,"-")&&(x=x.slice(1),H=!0),x.length<I)for(var G=I-x.length;G>0;G--)x="0"+x;return b>-1&&(x=x.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(x=""),R=x+$+(P||""),S?R=(S&&H?"(":"")+R+(S&&H?")":""):O>=0?R=O===0?(H?"-":"+")+R:R+(H?"-":"+"):H&&(R="-"+R),R},stringToNumber:function(f){var g=o[h.currentLocale],_=f,v={thousand:3,million:6,billion:9,trillion:12},S,w,I;if(h.zeroFormat&&f===h.zeroFormat)w=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)w=null;else{w=1,g.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(S in v)if(I=new RegExp("[^a-zA-Z]"+g.abbreviations[S]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(I)){w*=Math.pow(10,v[S]);break}w*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),w*=Number(f)}return w},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,g){return f.indexOf(g)!==-1},insert:function(f,g,_){return f.slice(0,_)+g+f.slice(_)},reduce:function(f,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(f),v=_.length>>>0,S=0,w;if(arguments.length===3)w=arguments[2];else{for(;S<v&&!(S in _);)S++;if(S>=v)throw new TypeError("Reduce of empty array with no initial value");w=_[S++]}for(;S<v;S++)S in _&&(w=g(w,_[S],S,_));return w},multiplier:function(f){var g=f.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(f,g,_,v){var S=f.toString().split("."),w=g-(v||0),I,P,F,V;return S.length===2?I=Math.min(Math.max(S[1].length,w),g):I=w,F=Math.pow(10,I),V=(_(f+"e+"+I)/F).toFixed(I),v>g-I&&(P=new RegExp("\\.?0{1,"+(v-(g-I))+"}$"),V=V.replace(P,"")),V}},e.options=h,e.formats=s,e.locales=o,e.locale=function(f){return f&&(h.currentLocale=f.toLowerCase()),h.currentLocale},e.localeData=function(f){if(!f)return o[h.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in u)h[f]=u[f]},e.zeroFormat=function(f){h.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){h.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){h.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,g,_){if(g=g.toLowerCase(),this[f+"s"][g])throw new TypeError(g+" "+f+" already registered.");return this[f+"s"][g]=_,_},e.validate=function(f,g){var _,v,S,w,I,P,F,V;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{F=e.localeData(g)}catch{F=e.localeData(e.locale())}return S=F.currency.symbol,I=F.abbreviations,_=F.delimiters.decimal,F.delimiters.thousands==="."?v="\\.":v=F.delimiters.thousands,V=f.match(/^[^\d]+/),V!==null&&(f=f.substr(1),V[0]!==S)||(V=f.match(/[^\d]+$/),V!==null&&(f=f.slice(0,-1),V[0]!==I.thousand&&V[0]!==I.million&&V[0]!==I.billion&&V[0]!==I.trillion))?!1:(P=new RegExp(v+"{2}"),f.match(/[^\d.,]/g)?!1:(w=f.split(_),w.length>2?!1:w.length<2?!!w[0].match(/^\d+.*\d$/)&&!w[0].match(P):w[0].length===1?!!w[0].match(/^\d+$/)&&!w[0].match(P)&&!!w[1].match(/^\d+$/):!!w[0].match(/^\d+.*\d$/)&&!w[0].match(P)&&!!w[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(f,g){var _=this._value,v=f||h.defaultFormat,S,w,I;if(g=g||Math.round,_===0&&h.zeroFormat!==null)w=h.zeroFormat;else if(_===null&&h.nullFormat!==null)w=h.nullFormat;else{for(S in s)if(v.match(s[S].regexps.format)){I=s[S].format;break}I=I||e._.numberToFormat,w=I(_,v,g)}return w},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,S,w,I){return v+Math.round(g*S)}return this._value=t.reduce([this._value,f],_,0)/g,this},subtract:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,S,w,I){return v-Math.round(g*S)}return this._value=t.reduce([f],_,Math.round(this._value*g))/g,this},multiply:function(f){function g(_,v,S,w){var I=t.correctionFactor(_,v);return Math.round(_*I)*Math.round(v*I)/Math.round(I*I)}return this._value=t.reduce([this._value,f],g,1),this},divide:function(f){function g(_,v,S,w){var I=t.correctionFactor(_,v);return Math.round(_*I)/Math.round(v*I)}return this._value=t.reduce([this._value,f],g),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var g=f%10;return~~(f%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),(function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,g,_){var v=e._.includes(g," BPS")?" ":"",S;return f=f*1e4,g=g.replace(/\s?BPS/,""),S=e._.numberToFormat(f,g,_),e._.includes(S,")")?(S=S.split(""),S.splice(-1,0,v+"BPS"),S=S.join("")):S=S+v+"BPS",S},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})})(),(function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=f.suffixes.concat(g.suffixes.filter(function(S){return f.suffixes.indexOf(S)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(S,w,I){var P,F=e._.includes(w,"ib")?g:f,V=e._.includes(w," b")||e._.includes(w," ib")?" ":"",z,W,$;for(w=w.replace(/\s?i?b/,""),z=0;z<=F.suffixes.length;z++)if(W=Math.pow(F.base,z),$=Math.pow(F.base,z+1),S===null||S===0||S>=W&&S<$){V+=F.suffixes[z],W>0&&(S=S/W);break}return P=e._.numberToFormat(S,w,I),P+V},unformat:function(S){var w=e._.stringToNumber(S),I,P;if(w){for(I=f.suffixes.length-1;I>=0;I--){if(e._.includes(S,f.suffixes[I])){P=Math.pow(f.base,I);break}if(e._.includes(S,g.suffixes[I])){P=Math.pow(g.base,I);break}}w*=P||1}return w}})})(),(function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],S={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},w,I,P;for(g=g.replace(/\s?\$\s?/,""),w=e._.numberToFormat(f,g,_),f>=0?(S.before=S.before.replace(/[\-\(]/,""),S.after=S.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(S.before,"-")&&!e._.includes(S.before,"(")&&(S.before="-"+S.before),P=0;P<S.before.length;P++)switch(I=S.before[P],I){case"$":w=e._.insert(w,v.currency.symbol,P);break;case" ":w=e._.insert(w," ",P+v.currency.symbol.length-1);break}for(P=S.after.length-1;P>=0;P--)switch(I=S.after[P],I){case"$":w=P===S.after.length-1?w+v.currency.symbol:e._.insert(w,v.currency.symbol,-(S.after.length-(1+P)));break;case" ":w=P===S.after.length-1?w+" ":e._.insert(w," ",-(S.after.length-(1+P)+v.currency.symbol.length-1));break}return w}})})(),(function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,g,_){var v,S=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",w=S.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(w[0]),g,_),v+"e"+w[1]},unformat:function(f){var g=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(f,"e-")?v*=-1:v;function S(w,I,P,F){var V=e._.correctionFactor(w,I),z=w*V*(I*V)/(V*V);return z}return e._.reduce([_,Math.pow(10,v)],S,1)}})})(),(function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],S,w=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),w+=v.ordinal(f),S=e._.numberToFormat(f,g,_),S+w}})})(),(function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,g,_){var v=e._.includes(g," %")?" ":"",S;return e.options.scalePercentBy100&&(f=f*100),g=g.replace(/\s?\%/,""),S=e._.numberToFormat(f,g,_),e._.includes(S,")")?(S=S.split(""),S.splice(-1,0,v+"%"),S=S.join("")):S=S+v+"%",S},unformat:function(f){var g=e._.stringToNumber(f);return e.options.scalePercentBy100?g*.01:g}})})(),(function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,g,_){var v=Math.floor(f/60/60),S=Math.floor((f-v*60*60)/60),w=Math.round(f-v*60*60-S*60);return v+":"+(S<10?"0"+S:S)+":"+(w<10?"0"+w:w)},unformat:function(f){var g=f.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})})(),e})})(sg)),sg.exports}var EF=vF();const bF=o0(EF),Sy=({amount:n})=>{const e=bF(n).format("$0,0.00");return U.jsx("div",{children:e})};Sy.propTypes={amount:Ne.number.isRequired};const TF="_card_container_1fmo8_1",wF="_button_1fmo8_21",SF="_rating_1fmo8_73",AF="_product_container_1fmo8_83",IF="_product_flexed_1fmo8_109",Cf={card_container:TF,button:wF,rating:SF,product_container:AF,product_flexed:IF},na=Q.createContext(),ti={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function Fl({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:s,title:o,id:u,rating:h,price:d,description:f}=n,[,g]=Q.useContext(na),_=()=>{g({type:ti.ADD_TO_BASKET,item:{image:s,title:o,id:u,rating:h,price:d,description:f}})};return U.jsxs("div",{className:`${Cf.card_container} ${e?Cf.product_flexed:""}`,children:[U.jsx(Ei,{to:`/products/${u}`,children:U.jsx("img",{src:s,alt:""})}),U.jsxs("div",{className:Cf.rating,children:[U.jsx("h3",{children:o}),t&&U.jsx("div",{style:{maxWidth:"750px"},children:f}),U.jsxs("div",{children:[U.jsx(yF,{value:h?.rate,precision:.1}),U.jsx("small",{children:h?.count})]}),U.jsx("div",{children:U.jsx(Sy,{amount:d})}),r&&U.jsx("button",{className:Cf.button,onClick:_,children:"Add to cart"})]})]})}Fl.propTypes={product:Ne.shape({image:Ne.string.isRequired,title:Ne.string.isRequired,id:Ne.number.isRequired,rating:Ne.shape({rate:Ne.number.isRequired,count:Ne.number.isRequired}).isRequired,price:Ne.number.isRequired,description:Ne.string.isRequired}).isRequired,flex:Ne.bool,renderDesc:Ne.bool,renderAdd:Ne.bool};var RF={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function nO(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return RF[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Xu(n){var e=nO(n);return"".concat(e.value).concat(e.unit)}var rO=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var s=document.createElement("style");document.head.appendChild(s);var o=s.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},Ig=function(){return Ig=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Ig.apply(this,arguments)},CF=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t},xF=rO("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function pb(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,s=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.size,g=f===void 0?35:f,_=CF(n,["loading","color","speedMultiplier","cssOverride","size"]),v=Ig({background:"transparent !important",width:Xu(g),height:Xu(g),borderRadius:"100%",border:"2px solid",borderTopColor:s,borderBottomColor:"transparent",borderLeftColor:s,borderRightColor:s,display:"inline-block",animation:"".concat(xF," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},d);return t?Q.createElement("span",Ig({style:v},_)):null}var fn=function(){return fn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},fn.apply(this,arguments)},PF=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t},OF=rO("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function DF(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,s=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.height,g=f===void 0?15:f,_=n.width,v=_===void 0?5:_,S=n.radius,w=S===void 0?2:S,I=n.margin,P=I===void 0?2:I,F=PF(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),V=nO(P).value,z=V+18,W=z/2+z/5.5,$=fn({display:"inherit",position:"relative",fontSize:"0",top:z,left:z,width:"".concat(z*3,"px"),height:"".concat(z*3,"px")},d),H=function(M){return{position:"absolute",width:Xu(v),height:Xu(g),margin:Xu(P),backgroundColor:s,borderRadius:Xu(w),transition:"2s",animationFillMode:"both",animation:"".concat(OF," ").concat(1.2/u,"s ").concat(M*.12,"s infinite ease-in-out")}},N=fn(fn({},H(1)),{top:"".concat(z,"px"),left:"0"}),C=fn(fn({},H(2)),{top:"".concat(W,"px"),left:"".concat(W,"px"),transform:"rotate(-45deg)"}),x=fn(fn({},H(3)),{top:"0",left:"".concat(z,"px"),transform:"rotate(90deg)"}),L=fn(fn({},H(4)),{top:"".concat(-1*W,"px"),left:"".concat(W,"px"),transform:"rotate(45deg)"}),O=fn(fn({},H(5)),{top:"".concat(-1*z,"px"),left:"0"}),b=fn(fn({},H(6)),{top:"".concat(-1*W,"px"),left:"".concat(-1*W,"px"),transform:"rotate(-45deg)"}),R=fn(fn({},H(7)),{top:"0",left:"".concat(-1*z,"px"),transform:"rotate(90deg)"}),G=fn(fn({},H(8)),{top:"".concat(W,"px"),left:"".concat(-1*W,"px"),transform:"rotate(45deg)"});return t?Q.createElement("span",fn({style:$},F),Q.createElement("span",{style:N}),Q.createElement("span",{style:C}),Q.createElement("span",{style:x}),Q.createElement("span",{style:L}),Q.createElement("span",{style:O}),Q.createElement("span",{style:b}),Q.createElement("span",{style:R}),Q.createElement("span",{style:G})):null}function C0(){return U.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:U.jsx(DF,{color:"#36d7b7"})})}function NF(){const[n,e]=Q.useState([]),[t,r]=Q.useState(!1);return Q.useEffect(()=>{r(!0),kt.get("https://fakestoreapi.com/products").then(s=>{e(s.data),r(!1)}).catch(()=>{r(!1)})},[]),U.jsx(U.Fragment,{children:t?U.jsx(C0,{}):U.jsx("section",{className:Cf.product_container,children:n.map(s=>U.jsx(Fl,{product:s,renderAdd:!0},s.id))})})}var iO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i1=Je.createContext&&Je.createContext(iO),kF=["attr","size","title"];function MF(n,e){if(n==null)return{};var t=VF(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function VF(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Rg(){return Rg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rg.apply(this,arguments)}function s1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Cg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(t),!0).forEach(function(r){LF(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function LF(n,e,t){return e=UF(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UF(n){var e=FF(n,"string");return typeof e=="symbol"?e:e+""}function FF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sO(n){return n&&n.map((e,t)=>Je.createElement(e.tag,Cg({key:t},e.attr),sO(e.child)))}function Bc(n){return e=>Je.createElement(BF,Rg({attr:Cg({},n.attr)},e),sO(n.child))}function BF(n){var e=t=>{var{attr:r,size:s,title:o}=n,u=MF(n,kF),h=s||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Je.createElement("svg",Rg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:Cg(Cg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Je.createElement("title",null,o),n.children)};return i1!==void 0?Je.createElement(i1.Consumer,null,t=>e(t)):e(iO)}function zF(n){return Bc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function jF(n){return Bc({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Location_On"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,21.933a1.715,1.715,0,0,1-1.384-.691L5.555,14.5a7.894,7.894,0,1,1,12.885-.009L13.385,21.24A1.717,1.717,0,0,1,12,21.933ZM11.992,3.066A6.81,6.81,0,0,0,7.414,4.815a6.891,6.891,0,0,0-1.05,9.1l5.051,6.727a.725.725,0,0,0,.584.292h0a.732.732,0,0,0,.586-.292l5.044-6.734A6.874,6.874,0,0,0,12.81,3.113,7.277,7.277,0,0,0,11.992,3.066Z"},child:[]},{tag:"path",attr:{d:"M12,12.5A2.5,2.5,0,1,1,14.5,10,2.5,2.5,0,0,1,12,12.5Zm0-4A1.5,1.5,0,1,0,13.5,10,1.5,1.5,0,0,0,12,8.5Z"},child:[]}]}]}]})(n)}const qF="_header_container_x5wgb_1",HF="_fixed_x5wgb_19",$F="_logo_container_x5wgb_33",GF="_delivery_x5wgb_61",KF="_search_x5wgb_83",WF="_order_container_x5wgb_161",QF="_language_x5wgb_189",YF="_cart_x5wgb_217",XF="_lower_container_x5wgb_241",js={header_container:qF,fixed:HF,logo_container:$F,delivery:GF,search:KF,order_container:WF,language:QF,cart:YF,lower_container:XF};function JF(n){return Bc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}function ZF(n){return Bc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function eB(n){return Bc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function tB(n){return Bc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 384h384v-42.666H64V384zm0-106.666h384v-42.667H64v42.667zM64 128v42.665h384V128H64z"},child:[]}]})(n)}const nB=()=>U.jsx("div",{className:js.lower_container,children:U.jsxs("ul",{children:[U.jsxs("li",{children:[U.jsx(tB,{}),U.jsx("p",{children:"All"})]}),U.jsx("li",{children:"Todays Deals"}),U.jsx("li",{children:"Customer Service"}),U.jsx("li",{children:"Registry"}),U.jsx("li",{children:"Gift Cards"}),U.jsx("li",{children:"Sell"})]})}),rB=()=>{};var a1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},iB=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],h=n[t++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},oO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,d=s+2<n.length,f=d?n[s+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|f>>6,S=f&63;d||(S=64,u||(v=64)),r.push(t[g],t[_],t[v],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||f==null||_==null)throw new sB;const v=o<<2|h>>4;if(r.push(v),f!==64){const S=h<<4&240|f>>2;if(r.push(S),_!==64){const w=f<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aB=function(n){const e=aO(n);return oO.encodeByteArray(e,!0)},xg=function(n){return aB(n).replace(/\./g,"")},x0=function(n){try{return oO.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Pg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!oB(t)||(n[t]=Pg(n[t],e[t]));return n}function oB(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=()=>P0().__FIREBASE_DEFAULTS__,uB=()=>{if(typeof process>"u"||typeof a1>"u")return;const n=a1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&x0(n[1]);return e&&JSON.parse(e)},Ay=()=>{try{return rB()||lB()||uB()||cB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hB=n=>Ay()?.emulatorHosts?.[n],O0=()=>Ay()?.config,lO=n=>Ay()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uO(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[xg(JSON.stringify(t)),xg(JSON.stringify(u)),""].join(".")}const Uf={};function pB(){const n={prod:[],emulator:[]};for(const e of Object.keys(Uf))Uf[e]?n.emulator.push(e):n.prod.push(e);return n}function mB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let o1=!1;function cO(n,e){if(typeof window>"u"||typeof document>"u"||!zc(window.location.host)||Uf[n]===e||Uf[n]||o1)return;Uf[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=pB().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,S){v.setAttribute("width","24"),v.setAttribute("id",S),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{o1=!0,u()},v}function g(v,S){v.setAttribute("id",S),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=mB(r),S=t("text"),w=document.getElementById(S)||document.createElement("span"),I=t("learnmore"),P=document.getElementById(I)||document.createElement("a"),F=t("preprendIcon"),V=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const z=v.element;h(z),g(P,I);const W=f();d(V,F),z.append(V,w,P,W),document.body.appendChild(z)}o?(w.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function Iy(){const n=Ay()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yB(){return typeof window<"u"||hO()}function hO(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function _B(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function D0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dO(){const n=Lt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pO(){return!Iy()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mO(){return!Iy()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function id(){try{return typeof indexedDB=="object"}catch{return!1}}function vB(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB="FirebaseError";class nr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=EB,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?bB(o,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new nr(s,h,r)}}function bB(n,e){return n.replace(TB,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const TB=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function wB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(u1(o)&&u1(u)){if(!Xs(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function u1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ju(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function xf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function gO(n,e){const t=new SB(n,e);return t.subscribe.bind(t)}class SB{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");AB(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=OE),s.error===void 0&&(s.error=OE),s.complete===void 0&&(s.complete=OE);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AB(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function OE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n){return n&&n._delegate?n._delegate:n}class fs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new fB;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CB(e))try{this.getOrInitializeService({instanceIdentifier:ol})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ol){return this.instances.has(e)}getOptions(e=ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ol){return this.component?this.component.multipleInstances?e:ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RB(n){return n===ol?void 0:n}function CB(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IB(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=[];var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const _O={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},xB=He.INFO,PB={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},OB=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=PB[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ry{constructor(e){this.name=e,this._logLevel=xB,this._logHandler=OB,this._userLogHandler=null,N0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_O[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}function DB(n){N0.forEach(e=>{e.setLogLevel(n)})}function NB(n,e){for(const t of N0){let r=null;e&&e.level&&(r=_O[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(s,o,...u)=>{const h=u.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??s.logLevel)&&n({level:He[o].toLowerCase(),message:h,args:u,type:s.name})}}}const kB=(n,e)=>e.some(t=>n instanceof t);let c1,h1;function MB(){return c1||(c1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VB(){return h1||(h1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vO=new WeakMap,mb=new WeakMap,EO=new WeakMap,DE=new WeakMap,k0=new WeakMap;function LB(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Xa(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&vO.set(t,n)}).catch(()=>{}),k0.set(e,n),e}function UB(n){if(mb.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});mb.set(n,e)}let gb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return mb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||EO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function FB(n){gb=n(gb)}function BB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(NE(this),e,...t);return EO.set(r,e.sort?e.sort():[e]),Xa(r)}:VB().includes(n)?function(...e){return n.apply(NE(this),e),Xa(vO.get(this))}:function(...e){return Xa(n.apply(NE(this),e))}}function zB(n){return typeof n=="function"?BB(n):(n instanceof IDBTransaction&&UB(n),kB(n,MB())?new Proxy(n,gb):n)}function Xa(n){if(n instanceof IDBRequest)return LB(n);if(DE.has(n))return DE.get(n);const e=zB(n);return e!==n&&(DE.set(n,e),k0.set(e,n)),e}const NE=n=>k0.get(n);function jB(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),h=Xa(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Xa(u.result),d.oldVersion,d.newVersion,Xa(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const qB=["get","getKey","getAll","getAllKeys","count"],HB=["put","add","delete","clear"],kE=new Map;function f1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kE.get(e))return kE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=HB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||qB.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),s&&d.done]))[0]};return kE.set(e,o),o}FB(n=>({...n,get:(e,t,r)=>f1(e,t)||n.get(e,t,r),has:(e,t)=>!!f1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GB(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function GB(n){return n.getComponent()?.type==="VERSION"}const Og="@firebase/app",yb="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new Ry("@firebase/app"),KB="@firebase/app-compat",WB="@firebase/analytics-compat",QB="@firebase/analytics",YB="@firebase/app-check-compat",XB="@firebase/app-check",JB="@firebase/auth",ZB="@firebase/auth-compat",e9="@firebase/database",t9="@firebase/data-connect",n9="@firebase/database-compat",r9="@firebase/functions",i9="@firebase/functions-compat",s9="@firebase/installations",a9="@firebase/installations-compat",o9="@firebase/messaging",l9="@firebase/messaging-compat",u9="@firebase/performance",c9="@firebase/performance-compat",h9="@firebase/remote-config",f9="@firebase/remote-config-compat",d9="@firebase/storage",p9="@firebase/storage-compat",m9="@firebase/firestore",g9="@firebase/ai",y9="@firebase/firestore-compat",_9="firebase",v9="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]",E9={[Og]:"fire-core",[KB]:"fire-core-compat",[QB]:"fire-analytics",[WB]:"fire-analytics-compat",[XB]:"fire-app-check",[YB]:"fire-app-check-compat",[JB]:"fire-auth",[ZB]:"fire-auth-compat",[e9]:"fire-rtdb",[t9]:"fire-data-connect",[n9]:"fire-rtdb-compat",[r9]:"fire-fn",[i9]:"fire-fn-compat",[s9]:"fire-iid",[a9]:"fire-iid-compat",[o9]:"fire-fcm",[l9]:"fire-fcm-compat",[u9]:"fire-perf",[c9]:"fire-perf-compat",[h9]:"fire-rc",[f9]:"fire-rc-compat",[d9]:"fire-gcs",[p9]:"fire-gcs-compat",[m9]:"fire-fst",[y9]:"fire-fst-compat",[g9]:"fire-vertex","fire-js":"fire-js",[_9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new Map,cc=new Map,hc=new Map;function sd(n,e){try{n.container.addComponent(e)}catch(t){Js.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function bO(n,e){n.container.addOrOverwriteComponent(e)}function ao(n){const e=n.name;if(hc.has(e))return Js.debug(`There were multiple attempts to register component ${e}.`),!1;hc.set(e,n);for(const t of so.values())sd(t,n);for(const t of cc.values())sd(t,n);return!0}function Cy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function b9(n,e,t=io){Cy(n,e).clearInstance(t)}function M0(n){return n.options!==void 0}function TO(n){return M0(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function Ot(n){return n==null?!1:n.settings!==void 0}function T9(){hc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Bl("app","Firebase",w9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wO=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(n,e){const t=x0(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const s=JSON.parse(t).exp*1e3,o=new Date().getTime();s-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class S9 extends wO{constructor(e,t,r,s){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,s);else{const h=e;super(h.options,u,s)}this._serverConfig={automaticDataCollectionEnabled:o,...t},this._serverConfig.authIdToken&&d1(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&d1(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Ti(Og,yb,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){L0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Lr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=v9;function V0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:io,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Lr.create("bad-app-name",{appName:String(s)});if(t||(t=O0()),!t)throw Lr.create("no-options");const o=so.get(s);if(o){if(Xs(t,o.options)&&Xs(r,o.config))return o;throw Lr.create("duplicate-app",{appName:s})}const u=new yO(s);for(const d of hc.values())u.addComponent(d);const h=new wO(t,r,u);return so.set(s,h),h}function A9(n,e={}){if(yB()&&!hO())throw Lr.create("invalid-server-app-environment");let t,r=e||{};if(n&&(M0(n)?t=n.options:TO(n)?r=n:t=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=O0()),!t)throw Lr.create("no-options");const s={...r,...t};s.releaseOnDeref!==void 0&&delete s.releaseOnDeref;const o=g=>[...g].reduce((_,v)=>Math.imul(31,_)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Lr.create("finalization-registry-not-supported",{});const u=""+o(JSON.stringify(s)),h=cc.get(u);if(h)return h.incRefCount(r.releaseOnDeref),h;const d=new yO(u);for(const g of hc.values())d.addComponent(g);const f=new S9(t,r,u,d);return cc.set(u,f),f}function SO(n=io){const e=so.get(n);if(!e&&n===io&&O0())return V0();if(!e)throw Lr.create("no-app",{appName:n});return e}function I9(){return Array.from(so.values())}async function L0(n){let e=!1;const t=n.name;so.has(t)?(e=!0,so.delete(t)):cc.has(t)&&n.decRefCount()<=0&&(cc.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Ti(n,e,t){let r=E9[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Js.warn(u.join(" "));return}ao(new fs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function AO(n,e){if(n!==null&&typeof n!="function")throw Lr.create("invalid-log-argument");NB(n,e)}function IO(n){DB(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="firebase-heartbeat-database",C9=1,ad="firebase-heartbeat-store";let ME=null;function RO(){return ME||(ME=jB(R9,C9,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ad)}catch(t){console.warn(t)}}}}).catch(n=>{throw Lr.create("idb-open",{originalErrorMessage:n.message})})),ME}async function x9(n){try{const t=(await RO()).transaction(ad),r=await t.objectStore(ad).get(CO(n));return await t.done,r}catch(e){if(e instanceof nr)Js.warn(e.message);else{const t=Lr.create("idb-get",{originalErrorMessage:e?.message});Js.warn(t.message)}}}async function p1(n,e){try{const r=(await RO()).transaction(ad,"readwrite");await r.objectStore(ad).put(e,CO(n)),await r.done}catch(t){if(t instanceof nr)Js.warn(t.message);else{const r=Lr.create("idb-set",{originalErrorMessage:t?.message});Js.warn(r.message)}}}function CO(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=1024,O9=30;class D9{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new k9(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=m1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>O9){const s=M9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Js.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m1(),{heartbeatsToSend:t,unsentEntries:r}=N9(this._heartbeatsCache.heartbeats),s=xg(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Js.warn(e),""}}}function m1(){return new Date().toISOString().substring(0,10)}function N9(n,e=P9){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),g1(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),g1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class k9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return id()?vB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await x9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return p1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return p1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function g1(n){return xg(JSON.stringify({version:2,heartbeats:n})).length}function M9(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(n){ao(new fs("platform-logger",e=>new $B(e),"PRIVATE")),ao(new fs("heartbeat",e=>new D9(e),"PRIVATE")),Ti(Og,yb,n),Ti(Og,yb,"esm2020"),Ti("fire-js","")}V9("");const L9=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:nr,SDK_VERSION:vo,_DEFAULT_ENTRY_NAME:io,_addComponent:sd,_addOrOverwriteComponent:bO,_apps:so,_clearComponents:T9,_components:hc,_getProvider:Cy,_isFirebaseApp:M0,_isFirebaseServerApp:Ot,_isFirebaseServerAppSettings:TO,_registerComponent:ao,_removeServiceInstance:b9,_serverApps:cc,deleteApp:L0,getApp:SO,getApps:I9,initializeApp:V0,initializeServerApp:A9,onLog:AO,registerVersion:Ti,setLogLevel:IO},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,t){this._delegate=e,this.firebase=t,sd(e,new fs("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),L0(this._delegate)))}_getService(e,t=io){this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&r.getComponent()?.instantiationMode==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=io){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){sd(this._delegate,e)}_addOrOverwriteComponent(e){bO(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},y1=new Bl("app-compat","Firebase",F9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(n){const e={},t={__esModule:!0,initializeApp:o,app:s,registerVersion:Ti,setLogLevel:IO,onLog:AO,apps:null,SDK_VERSION:vo,INTERNAL:{registerComponent:h,removeApp:r,useAsService:d,modularAPIs:L9}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(f){delete e[f]}function s(f){if(f=f||io,!l1(e,f))throw y1.create("no-app",{appName:f});return e[f]}s.App=n;function o(f,g={}){const _=V0(f,g);if(l1(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(f=>e[f])}function h(f){const g=f.name,_=g.replace("-compat","");if(ao(f)&&f.type==="PUBLIC"){const v=(S=s())=>{if(typeof S[_]!="function")throw y1.create("invalid-app-argument",{appName:g});return S[_]()};f.serviceProps!==void 0&&Pg(v,f.serviceProps),t[_]=v,n.prototype[_]=function(...S){return this._getService.bind(this,g).apply(this,f.multipleInstances?S:[])}}return f.type==="PUBLIC"?t[_]:null}function d(f,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(){const n=B9(U9);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:xO,extendNamespace:e,createSubscribe:gO,ErrorFactory:Bl,deepExtend:Pg};function e(t){Pg(n,t)}return n}const z9=xO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new Ry("@firebase/app-compat"),j9="@firebase/app-compat",q9="0.5.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(n){Ti(j9,q9,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=P0();if(n.firebase!==void 0){_1.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&_1.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const qc=z9;H9();var $9="firebase",G9="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qc.registerVersion($9,G9,"app-compat");const mf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Fu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function PO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W9=K9,Q9=PO,OO=new Bl("auth","Firebase",PO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=new Ry("@firebase/auth");function Y9(n,...e){Dg.logLevel<=He.WARN&&Dg.warn(`Auth (${vo}): ${n}`,...e)}function ag(n,...e){Dg.logLevel<=He.ERROR&&Dg.error(`Auth (${vo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n,...e){throw F0(n,...e)}function En(n,...e){return F0(n,...e)}function U0(n,e,t){const r={...Q9(),[e]:t};return new Bl("auth","Firebase",r).create(e,{appName:n.name})}function Rn(n){return U0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cn(n,"argument-error"),U0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function F0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OO.create(n,...e)}function ge(n,e,...t){if(!n)throw F0(e,...t)}function is(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ag(e),new Error(e)}function Ai(n,e){n||is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(){return typeof self<"u"&&self.location?.href||""}function B0(){return v1()==="http:"||v1()==="https:"}function v1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B0()||fO()||"connection"in navigator)?navigator.onLine:!0}function J9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ai(t>e,"Short delay should be less than long delay!"),this.isMobile=gB()||D0()}get(){return X9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(n,e){Ai(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tz=new Ld(3e4,6e4);function Gt(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Kt(n,e,t,r,s={}){return NO(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=jc({key:n.config.apiKey,...u}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:d,...o};return _B()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&zc(n.emulatorConfig.host)&&(f.credentials="include"),DO.fetch()(await kO(n,n.config.apiHost,t,h),f)})}async function NO(n,e,t){n._canInitEmulator=!1;const r={...Z9,...e};try{const s=new rz(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Pf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pf(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Pf(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Pf(n,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw U0(n,g,f);Cn(n,g)}}catch(s){if(s instanceof nr)throw s;Cn(n,"network-request-failed",{message:String(s)})}}async function ra(n,e,t,r,s={}){const o=await Kt(n,e,t,r,s);return"mfaPendingCredential"in o&&Cn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function kO(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?z0(n.config,s):`${n.config.apiScheme}://${s}`;return ez.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function nz(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(En(this.auth,"network-request-failed")),tz.get())})}}function Pf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=En(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n){return n!==void 0&&n.getResponse!==void 0}function b1(n){return n!==void 0&&n.enterprise!==void 0}class MO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nz(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz(n){return(await Kt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function VO(n,e){return Kt(n,"GET","/v2/recaptchaConfig",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(n,e){return Kt(n,"POST","/v1/accounts:delete",e)}async function az(n,e){return Kt(n,"POST","/v1/accounts:update",e)}async function Ng(n,e){return Kt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oz(n,e=!1){const t=Pe(n),r=await t.getIdToken(e),s=xy(r);ge(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:r,authTime:Ff(VE(s.auth_time)),issuedAtTime:Ff(VE(s.iat)),expirationTime:Ff(VE(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function VE(n){return Number(n)*1e3}function xy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ag("JWT malformed, contained fewer than 3 sections"),null;try{const s=x0(t);return s?JSON.parse(s):(ag("Failed to decode base64 JWT payload"),null)}catch(s){return ag("Caught error parsing JWT payload as JSON",s?.toString()),null}}function T1(n){const e=xy(n);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof nr&&lz(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function lz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ff(this.lastLoginAt),this.creationTime=Ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(n){const e=n.auth,t=await n.getIdToken(),r=await Zs(n,Ng(e,{idToken:t}));ge(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?LO(s.providerUserInfo):[],u=hz(n.providerData,o),h=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!u?.length,f=h?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new _b(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function cz(n){const e=Pe(n);await ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hz(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function LO(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(n,e){const t=await NO(n,{},async()=>{const r=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await kO(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return n.emulatorConfig&&zc(n.emulatorConfig.host)&&(d.credentials="include"),DO.fetch()(u,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dz(n,e){return Kt(n,"POST","/v2/accounts:revokeToken",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const t=T1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await fz(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new tc;return r&&(ge(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(ge(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(ge(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tc,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(n,e){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class bi{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new uz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _b(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Zs(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return oz(this,e)}reload(){return cz(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ot(this.auth.app))return Promise.reject(Rn(this.auth));const e=await this.getIdToken();return await Zs(this,sz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,d=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:_,emailVerified:v,isAnonymous:S,providerData:w,stsTokenManager:I}=t;ge(_&&I,e,"internal-error");const P=tc.fromJSON(this.name,I);ge(typeof _=="string",e,"internal-error"),Ba(r,e.name),Ba(s,e.name),ge(typeof v=="boolean",e,"internal-error"),ge(typeof S=="boolean",e,"internal-error"),Ba(o,e.name),Ba(u,e.name),Ba(h,e.name),Ba(d,e.name),Ba(f,e.name),Ba(g,e.name);const F=new bi({uid:_,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:S,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:P,createdAt:f,lastLoginAt:g});return w&&Array.isArray(w)&&(F.providerData=w.map(V=>({...V}))),d&&(F._redirectEventId=d),F}static async _fromIdTokenResponse(e,t,r=!1){const s=new tc;s.updateFromServerResponse(t);const o=new bi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ld(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];ge(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?LO(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,h=new tc;h.updateFromIdToken(r);const d=new bi({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new _b(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Map;function kr(n){Ai(n instanceof Function,"Expected a class definition");let e=w1.get(n);return e?(Ai(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,w1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}UO.type="NONE";const fc=UO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(n,e,t){return`firebase:${n}:${e}:${t}`}class nc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=wl(this.userKey,s.apiKey,o),this.fullPersistenceKey=wl("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ng(this.auth,{idToken:e}).catch(()=>{});return t?bi._fromGetAccountInfoResponse(this.auth,t,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new nc(kr(fc),e,r);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||kr(fc);const u=wl(r,e.config.apiKey,e.name);let h=null;for(const f of t)try{const g=await f._get(u);if(g){let _;if(typeof g=="string"){const v=await Ng(e,{idToken:g}).catch(()=>{});if(!v)break;_=await bi._fromGetAccountInfoResponse(e,v,g)}else _=bi._fromJSON(e,g);f!==o&&(h=_),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new nc(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(u)}catch{}})),new nc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qO(e))return"Blackberry";if(HO(e))return"Webos";if(BO(e))return"Safari";if((e.includes("chrome/")||zO(e))&&!e.includes("edge/"))return"Chrome";if(Ud(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function FO(n=Lt()){return/firefox\//i.test(n)}function BO(n=Lt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zO(n=Lt()){return/crios\//i.test(n)}function jO(n=Lt()){return/iemobile/i.test(n)}function Ud(n=Lt()){return/android/i.test(n)}function qO(n=Lt()){return/blackberry/i.test(n)}function HO(n=Lt()){return/webos/i.test(n)}function Fd(n=Lt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pz(n=Lt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function mz(n=Lt()){return Fd(n)&&!!window.navigator?.standalone}function gz(){return dO()&&document.documentMode===10}function $O(n=Lt()){return Fd(n)||Ud(n)||HO(n)||qO(n)||/windows phone/i.test(n)||jO(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(n,e=[]){let t;switch(n){case"Browser":t=S1(Lt());break;case"Worker":t=`${S1(Lt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(n,e={}){return Kt(n,"GET","/v2/passwordPolicy",Gt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=6;class Ez{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??vz,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A1(this),this.idTokenSubscription=new A1(this),this.beforeStateQueue=new yz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ng(this,{idToken:e}),r=await bi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ot(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ld(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ot(this.app))return Promise.reject(Rn(this));const t=e?Pe(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ot(this.app)?Promise.reject(Rn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ot(this.app)?Promise.reject(Rn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _z(this),t=new Ez(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await dz(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kr(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=await nc.create(this,[kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ot(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Y9(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ut(n){return Pe(n)}class A1{constructor(e){this.auth=e,this.observer=null,this.addObserver=gO(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tz(n){Bd=n}function j0(n){return Bd.loadJS(n)}function wz(){return Bd.recaptchaV2Script}function Sz(){return Bd.recaptchaEnterpriseScript}function Az(){return Bd.gapiScript}function KO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=500,Rz=6e4,Fm=1e12;class Cz{constructor(e){this.auth=e,this.counter=Fm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Oz(e,this.auth.name,t||{})),this.counter++,r}reset(e){const t=e||Fm;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||Fm;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||Fm;return this._widgets.get(t)?.execute(),""}}class xz{constructor(){this.enterprise=new Pz}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Pz{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Oz{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ge(s,"argument-error",{appName:t}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Dz(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},Rz)},Iz))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Dz(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const Nz="recaptcha-enterprise",Bf="NO_RECAPTCHA";class WO{constructor(e){this.type=Nz,this.auth=Ut(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{VO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new MO(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,u(f.siteKey)}}).catch(d=>{h(d)})})}function s(o,u,h){const d=window.grecaptcha;b1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{u(f)}).catch(()=>{u(Bf)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xz().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&b1(window.grecaptcha))s(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Sz();d.length!==0&&(d+=h),j0(d).then(()=>{s(h,o,u)}).catch(f=>{u(f)})}}).catch(h=>{u(h)})})}}async function gf(n,e,t,r=!1,s=!1){const o=new WO(n);let u;if(s)u=Bf;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ja(n,e,t,r,s){if(s==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await gf(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await gf(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)});else if(s==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const o=await gf(n,e,t);return r(n,o).catch(async u=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const h=await gf(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)})}else{const o=await gf(n,e,t,!1,!0);return r(n,o)}else return Promise.reject(s+" provider is not supported.")}async function kz(n){const e=Ut(n),t=await VO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new MO(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new WO(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(n,e){const t=Cy(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Xs(o,e??{}))return s;Cn(s,"already-initialized")}return t.initialize({options:e})}function Vz(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(kr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function QO(n,e,t){const r=Ut(n);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!t?.disableWarnings,o=YO(e),{host:u,port:h}=Lz(e),d=h===null?"":`:${h}`,f={url:`${o}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(Xs(f,r.config.emulator)&&Xs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,zc(u)?(uO(`${o}//${u}${d}`),cO("Auth",!0)):s||Uz()}function YO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Lz(n){const e=YO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:I1(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:I1(u)}}}function I1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Uz(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,t){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(n,e){return Kt(n,"POST","/v1/accounts:resetPassword",Gt(n,e))}async function Fz(n,e){return Kt(n,"POST","/v1/accounts:update",e)}async function Bz(n,e){return Kt(n,"POST","/v1/accounts:signUp",e)}async function zz(n,e){return Kt(n,"POST","/v1/accounts:update",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jz(n,e){return ra(n,"POST","/v1/accounts:signInWithPassword",Gt(n,e))}async function Py(n,e){return Kt(n,"POST","/v1/accounts:sendOobCode",Gt(n,e))}async function qz(n,e){return Py(n,e)}async function Hz(n,e){return Py(n,e)}async function $z(n,e){return Py(n,e)}async function Gz(n,e){return Py(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(n,e){return ra(n,"POST","/v1/accounts:signInWithEmailLink",Gt(n,e))}async function Wz(n,e){return ra(n,"POST","/v1/accounts:signInWithEmailLink",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends $c{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new ud(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ud(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ja(e,t,"signInWithPassword",jz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Kz(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ja(e,r,"signUpPassword",Bz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Wz(e,{idToken:t,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(n,e){return ra(n,"POST","/v1/accounts:signInWithIdp",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz="http://localhost";class ds extends $c{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const u=new ds(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ws(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ws(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ws(e,t)}buildRequest(){const e={requestUri:Qz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(n,e){return Kt(n,"POST","/v1/accounts:sendVerificationCode",Gt(n,e))}async function Yz(n,e){return ra(n,"POST","/v1/accounts:signInWithPhoneNumber",Gt(n,e))}async function Xz(n,e){const t=await ra(n,"POST","/v1/accounts:signInWithPhoneNumber",Gt(n,e));if(t.temporaryProof)throw Pf(n,"account-exists-with-different-credential",t);return t}const Jz={USER_NOT_FOUND:"user-not-found"};async function Zz(n,e){const t={...e,operation:"REAUTH"};return ra(n,"POST","/v1/accounts:signInWithPhoneNumber",Gt(n,t),Jz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends $c{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Sl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Sl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Yz(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Xz(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Zz(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o}=e;return!r&&!t&&!s&&!o?null:new Sl({verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tj(n){const e=Ju(xf(n)).link,t=e?Ju(xf(e)).deep_link_id:null,r=Ju(xf(n)).deep_link_id;return(r?Ju(xf(r)).link:null)||r||t||e||n}class Oy{constructor(e){const t=Ju(xf(e)),r=t.apiKey??null,s=t.oobCode??null,o=ej(t.mode??null);ge(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=tj(e);try{return new Oy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,t){return ud._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Oy.parseLink(t);return ge(r,"argument-error"),ud._fromEmailAndCode(e,r.code,r.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends ia{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rc extends Gc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ge("providerId"in t&&"signInMethod"in t,"argument-error"),ds._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ge(e.idToken||e.accessToken,"argument-error"),ds._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return rc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return rc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!s&&!t&&!o||!h)return null;try{return new rc(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Gc{constructor(){super("facebook.com")}static credential(e){return ds._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ds._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ts.credential(t,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Gc{constructor(){super("github.com")}static credential(e){return ds._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="http://localhost";class dc extends $c{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ws(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ws(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ws(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:o}=t;return!r||!s||!o||r!==s?null:new dc(r,o)}static _create(e,t){return new dc(e,t)}buildRequest(){return{requestUri:nj,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="saml.";class kg extends ia{constructor(e){ge(e.startsWith(rj),"argument-error"),super(e)}static credentialFromResult(e){return kg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return kg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=dc.fromJSON(e);return ge(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return dc._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Gc{constructor(){super("twitter.com")}static credential(e,t){return ds._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return rs.credential(t,r)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(n,e){return ra(n,"POST","/v1/accounts:signUp",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await bi._fromIdTokenResponse(e,r,s),u=C1(r);return new ii({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=C1(r);return new ii({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function C1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ij(n){if(Ot(n.app))return Promise.reject(Rn(n));const e=Ut(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ii({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await JO(e,{returnSecureToken:!0}),r=await ii._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends nr{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Mg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Mg(e,t,r,s)}}function ZO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(n,e){const t=Pe(n);await Dy(!0,t,e);const{providerUserInfo:r}=await az(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),s=eD(r||[]);return t.providerData=t.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function q0(n,e,t=!1){const r=await Zs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ii._forOperation(n,"link",r)}async function Dy(n,e,t){await ld(e);const r=eD(e.providerData),s=n===!1?"provider-already-linked":"no-such-provider";ge(r.has(t)===n,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(n,e,t=!1){const{auth:r}=n;if(Ot(r.app))return Promise.reject(Rn(r));const s="reauthenticate";try{const o=await Zs(n,ZO(r,s,e,n),t);ge(o.idToken,r,"internal-error");const u=xy(o.idToken);ge(u,r,"internal-error");const{sub:h}=u;return ge(n.uid===h,r,"user-mismatch"),ii._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Cn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(n,e,t=!1){if(Ot(n.app))return Promise.reject(Rn(n));const r="signIn",s=await ZO(n,r,e),o=await ii._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function Ny(n,e){return nD(Ut(n),e)}async function rD(n,e){const t=Pe(n);return await Dy(!1,t,e.providerId),q0(t,e)}async function iD(n,e){return tD(Pe(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(n,e){return ra(n,"POST","/v1/accounts:signInWithCustomToken",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(n,e){if(Ot(n.app))return Promise.reject(Rn(n));const t=Ut(n),r=await aj(t,{token:e,returnSecureToken:!0}),s=await ii._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?H0._fromServerResponse(e,t):"totpInfo"in t?$0._fromServerResponse(e,t):Cn(e,"internal-error")}}class H0 extends zd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new H0(t)}}class $0 extends zd{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new $0(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n,e,t){ge(t.url?.length>0,n,"invalid-continue-uri"),ge(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ge(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ge(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ge(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G0(n){const e=Ut(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lj(n,e,t){const r=Ut(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&ky(r,s,t),await Ja(r,s,"getOobCode",Hz,"EMAIL_PASSWORD_PROVIDER")}async function uj(n,e,t){await XO(Pe(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&G0(n),r})}async function cj(n,e){await zz(Pe(n),{oobCode:e})}async function sD(n,e){const t=Pe(n),r=await XO(t,{oobCode:e}),s=r.requestType;switch(ge(s,t,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(r.mfaInfo,t,"internal-error");default:ge(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=zd._fromServerResponse(Ut(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}}async function hj(n,e){const{data:t}=await sD(Pe(n),e);return t.email}async function aD(n,e,t){if(Ot(n.app))return Promise.reject(Rn(n));const r=Ut(n),u=await Ja(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JO,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&G0(n),d}),h=await ii._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function oD(n,e,t){return Ot(n.app)?Promise.reject(Rn(n)):Ny(Pe(n),Eo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&G0(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(n,e,t){const r=Ut(n),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){ge(h.handleCodeInApp,r,"argument-error"),h&&ky(r,u,h)}o(s,t),await Ja(r,s,"getOobCode",$z,"EMAIL_PASSWORD_PROVIDER")}function dj(n,e){return Oy.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function pj(n,e,t){if(Ot(n.app))return Promise.reject(Rn(n));const r=Pe(n),s=Eo.credentialWithLink(e,t||od());return ge(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ny(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(n,e){return Kt(n,"POST","/v1/accounts:createAuthUri",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(n,e){const t=B0()?od():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:s}=await mj(Pe(n),r);return s||[]}async function yj(n,e){const t=Pe(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&ky(t.auth,s,e);const{email:o}=await qz(t.auth,s);o!==n.email&&await n.reload()}async function _j(n,e,t){const r=Pe(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&ky(r.auth,o,t);const{email:u}=await Gz(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(n,e){return Kt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Pe(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Zs(r,vj(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function bj(n,e){const t=Pe(n);return Ot(t.auth.app)?Promise.reject(Rn(t.auth)):lD(t,e,null)}function Tj(n,e){return lD(Pe(n),null,e)}async function lD(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Zs(n,Fz(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(n){if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&n?.idToken){const s=xy(n.idToken)?.firebase?.sign_in_provider;if(s){const o=s!=="anonymous"&&s!=="custom"?s:null;return new ic(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new Sj(r,t);case"github.com":return new Aj(r,t);case"google.com":return new Ij(r,t);case"twitter.com":return new Rj(r,t,n.screenName||null);case"custom":case"anonymous":return new ic(r,null);default:return new ic(r,e,t)}}class ic{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class uD extends ic{constructor(e,t,r,s){super(e,t,r),this.username=s}}class Sj extends ic{constructor(e,t){super(e,"facebook.com",t)}}class Aj extends uD{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class Ij extends ic{constructor(e,t){super(e,"google.com",t)}}class Rj extends uD{constructor(e,t,r){super(e,"twitter.com",t,r)}}function Cj(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:wj(t)}function xj(n,e,t,r){return Pe(n).onIdTokenChanged(e,t,r)}function Pj(n,e,t){return Pe(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new yl("enroll",e,t)}static _fromMfaPendingCredential(e){return new yl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return yl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return yl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Ut(e),s=t.customData._serverResponse,o=(s.mfaInfo||[]).map(h=>zd._fromServerResponse(r,h));ge(s.mfaPendingCredential,r,"internal-error");const u=yl._fromMfaPendingCredential(s.mfaPendingCredential);return new K0(u,o,async h=>{const d=await h._process(r,u);delete s.mfaInfo,delete s.mfaPendingCredential;const f={...s,idToken:d.idToken,refreshToken:d.refreshToken};switch(t.operationType){case"signIn":const g=await ii._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return ge(t.user,r,"internal-error"),ii._forOperation(t.user,t.operationType,f);default:Cn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function Oj(n,e){const t=Pe(n),r=e;return ge(e.customData.operationType,t,"argument-error"),ge(r.customData._serverResponse?.mfaPendingCredential,t,"argument-error"),K0._fromError(t,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:start",Gt(n,e))}function Dj(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(n,e))}function Nj(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Gt(n,e))}class W0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>zd._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new W0(e)}async getSession(){return yl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,s=await this.getSession(),o=await Zs(this.user,r._process(this.user.auth,s,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await Zs(this.user,Nj(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const LE=new WeakMap;function kj(n){const e=Pe(n);return LE.has(e)||LE.set(e,W0._fromUser(e)),LE.get(e)}const Vg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vg,"1"),this.storage.removeItem(Vg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=1e3,Vj=10;class hD extends cD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$O(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);gz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Vj):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Mj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hD.type="LOCAL";const My=hD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD extends cD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fD.type="SESSION";const oo=fD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Vy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async f=>f(t.origin,o)),d=await Lj(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const f=jd("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return window}function Fj(n){pn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}async function Bj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zj(){return navigator?.serviceWorker?.controller||null}function jj(){return Q0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="firebaseLocalStorageDb",qj=1,Lg="firebaseLocalStorage",pD="fbase_key";class qd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ly(n,e){return n.transaction([Lg],e?"readwrite":"readonly").objectStore(Lg)}function Hj(){const n=indexedDB.deleteDatabase(dD);return new qd(n).toPromise()}function vb(){const n=indexedDB.open(dD,qj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Lg,{keyPath:pD})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Lg)?e(r):(r.close(),await Hj(),e(await vb()))})})}async function P1(n,e,t){const r=Ly(n,!0).put({[pD]:e,value:t});return new qd(r).toPromise()}async function $j(n,e){const t=Ly(n,!1).get(e),r=await new qd(t).toPromise();return r===void 0?null:r.value}function O1(n,e){const t=Ly(n,!0).delete(e);return new qd(t).toPromise()}const Gj=800,Kj=3;class mD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Kj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vy._getInstance(jj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Bj(),!this.activeServiceWorker)return;this.sender=new Uj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vb();return await P1(e,Vg,"1"),await O1(e,Vg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>P1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>$j(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>O1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Ly(s,!1).getAll();return new qd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mD.type="LOCAL";const pc=mD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(n,e){return Kt(n,"POST","/v2/accounts/mfaSignIn:start",Gt(n,e))}function Wj(n,e){return Kt(n,"POST","/v2/accounts/mfaSignIn:finalize",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=KO("rcb"),Qj=new Ld(3e4,6e4);class Yj{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!pn().grecaptcha?.render}load(e,t=""){return ge(Xj(t),e,"argument-error"),this.shouldResolveImmediately(t)&&E1(pn().grecaptcha)?Promise.resolve(pn().grecaptcha):new Promise((r,s)=>{const o=pn().setTimeout(()=>{s(En(e,"network-request-failed"))},Qj.get());pn()[UE]=()=>{pn().clearTimeout(o),delete pn()[UE];const h=pn().grecaptcha;if(!h||!E1(h)){s(En(e,"internal-error"));return}const d=h.render;h.render=(f,g)=>{const _=d(f,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${wz()}?${jc({onload:UE,render:"explicit",hl:t})}`;j0(u).catch(()=>{clearTimeout(o),s(En(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!pn().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Xj(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class Jj{async load(e){return new Cz(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="recaptcha",Zj={theme:"light",type:"image"};let e8=class{constructor(e,t,r={...Zj}){this.parameters=r,this.type=zf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ut(e),this.isInvisible=this.parameters.size==="invisible",ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof t=="string"?document.getElementById(t):t;ge(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jj:new Yj,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(s=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),s(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=pn()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ge(B0()&&!Q0(),this.auth,"internal-error"),await t8(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await iz(this.auth);ge(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function t8(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Sl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function n8(n,e,t){if(Ot(n.app))return Promise.reject(Rn(n));const r=Ut(n),s=await Uy(r,e,Pe(t));return new Y0(s,o=>Ny(r,o))}async function r8(n,e,t){const r=Pe(n);await Dy(!1,r,"phone");const s=await Uy(r.auth,e,Pe(t));return new Y0(s,o=>rD(r,o))}async function i8(n,e,t){const r=Pe(n);if(Ot(r.auth.app))return Promise.reject(Rn(r.auth));const s=await Uy(r.auth,e,Pe(t));return new Y0(s,o=>iD(r,o))}async function Uy(n,e,t){if(!n._getRecaptchaConfig())try{await kz(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const s=r.session;if("phoneNumber"in r){ge(s.type==="enroll",n,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ja(n,o,"mfaSmsEnrollment",async(f,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===Bf){ge(t?.type===zf,f,"argument-error");const _=await FE(f,g,t);return x1(f,_)}return x1(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneSessionInfo.sessionInfo}else{ge(s.type==="signin",n,"internal-error");const o=r.multiFactorHint?.uid||r.multiFactorUid;ge(o,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ja(n,u,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===Bf){ge(t?.type===zf,g,"argument-error");const v=await FE(g,_,t);return D1(g,v)}return D1(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ja(n,s,"sendVerificationCode",async(d,f)=>{if(f.captchaResponse===Bf){ge(t?.type===zf,d,"argument-error");const g=await FE(d,f,t);return R1(d,g)}return R1(d,f)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{t?._reset()}}async function s8(n,e){const t=Pe(n);if(Ot(t.auth.app))return Promise.reject(Rn(t.auth));await q0(t,e)}async function FE(n,e,t){ge(t.type===zf,n,"argument-error");const r=await t.verify();ge(typeof r=="string",n,"argument-error");const s={...e};if("phoneEnrollmentInfo"in s){const o=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.captchaResponse,h=s.phoneEnrollmentInfo.clientType,d=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:d}}),s}else if("phoneSignInInfo"in s){const o=s.phoneSignInInfo.captchaResponse,u=s.phoneSignInInfo.clientType,h=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl=class og{constructor(e){this.providerId=og.PROVIDER_ID,this.auth=Ut(e)}verifyPhoneNumber(e,t){return Uy(this.auth,e,Pe(t))}static credential(e,t){return Sl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return og.credentialFromTaggedObject(t)}static credentialFromError(e){return og.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Sl._fromTokenResponse(t,r):null}};Cl.PROVIDER_ID="phone";Cl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n,e){return e?kr(e):(ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends $c{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ws(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ws(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function a8(n){return nD(n.auth,new X0(n),n.bypassAuthState)}function o8(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),tD(t,new X0(n),n.bypassAuthState)}async function l8(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),q0(t,new X0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a8;case"linkViaPopup":case"linkViaRedirect":return l8;case"reauthViaPopup":case"reauthViaRedirect":return o8;default:Cn(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=new Ld(2e3,1e4);async function c8(n,e,t){if(Ot(n.app))return Promise.reject(En(n,"operation-not-supported-in-this-environment"));const r=Ut(n);Hc(n,e,ia);const s=zl(r,t);return new Hs(r,"signInViaPopup",e,s).executeNotNull()}async function h8(n,e,t){const r=Pe(n);if(Ot(r.auth.app))return Promise.reject(En(r.auth,"operation-not-supported-in-this-environment"));Hc(r.auth,e,ia);const s=zl(r.auth,t);return new Hs(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function f8(n,e,t){const r=Pe(n);Hc(r.auth,e,ia);const s=zl(r.auth,t);return new Hs(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class Hs extends gD{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Hs.currentPopupAction&&Hs.currentPopupAction.cancel(),Hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=jd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(En(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u8.get())};e()}}Hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8="pendingRedirect",jf=new Map;class p8 extends gD{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=jf.get(this.auth._key());if(!e){try{const r=await m8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}jf.set(this.auth._key(),e)}return this.bypassAuthState||jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m8(n,e){const t=_D(e),r=yD(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function J0(n,e){return yD(n)._set(_D(e),"true")}function g8(){jf.clear()}function Z0(n,e){jf.set(n._key(),e)}function yD(n){return kr(n._redirectPersistence)}function _D(n){return wl(d8,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(n,e,t){return _8(n,e,t)}async function _8(n,e,t){if(Ot(n.app))return Promise.reject(Rn(n));const r=Ut(n);Hc(n,e,ia),await r._initializationPromise;const s=zl(r,t);return await J0(s,r),s._openRedirect(r,e,"signInViaRedirect")}function v8(n,e,t){return E8(n,e,t)}async function E8(n,e,t){const r=Pe(n);if(Hc(r.auth,e,ia),Ot(r.auth.app))return Promise.reject(Rn(r.auth));await r.auth._initializationPromise;const s=zl(r.auth,t);await J0(s,r.auth);const o=await vD(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",o)}function b8(n,e,t){return T8(n,e,t)}async function T8(n,e,t){const r=Pe(n);Hc(r.auth,e,ia),await r.auth._initializationPromise;const s=zl(r.auth,t);await Dy(!1,r,e.providerId),await J0(s,r.auth);const o=await vD(r);return s._openRedirect(r.auth,e,"linkViaRedirect",o)}async function w8(n,e){return await Ut(n)._initializationPromise,Fy(n,e,!1)}async function Fy(n,e,t=!1){if(Ot(n.app))return Promise.reject(Rn(n));const r=Ut(n),s=zl(r,e),u=await new p8(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function vD(n){const e=jd(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=600*1e3;class ED{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A8(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!bD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(En(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S8&&this.cachedEventUids.clear(),this.cachedEventUids.has(N1(e))}saveEventToCache(e){this.cachedEventUids.add(N1(e)),this.lastProcessedEventTime=Date.now()}}function N1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bD({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function A8(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bD(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(n,e={}){return Kt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R8=/^https?/;async function C8(n){if(n.config.emulator)return;const{authorizedDomains:e}=await TD(n);for(const t of e)try{if(x8(t))return}catch{}Cn(n,"unauthorized-domain")}function x8(n){const e=od(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!R8.test(t))return!1;if(I8.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=new Ld(3e4,6e4);function k1(){const n=pn().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function O8(n){return new Promise((e,t)=>{function r(){k1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k1(),t(En(n,"network-request-failed"))},timeout:P8.get()})}if(pn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(pn().gapi?.load)r();else{const s=KO("iframefcb");return pn()[s]=()=>{gapi.load?r():t(En(n,"network-request-failed"))},j0(`${Az()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw lg=null,e})}let lg=null;function D8(n){return lg=lg||O8(n),lg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=new Ld(5e3,15e3),k8="__/auth/iframe",M8="emulator/auth/iframe",V8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U8(n){const e=n.config;ge(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?z0(e,M8):`https://${n.config.authDomain}/${k8}`,r={apiKey:e.apiKey,appName:n.name,v:vo},s=L8.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${jc(r).slice(1)}`}async function F8(n){const e=await D8(n),t=pn().gapi;return ge(t,n,"internal-error"),e.open({where:document.body,url:U8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V8,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=En(n,"network-request-failed"),h=pn().setTimeout(()=>{o(u)},N8.get());function d(){pn().clearTimeout(h),s(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z8=500,j8=600,q8="_blank",H8="http://localhost";class M1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $8(n,e,t,r=z8,s=j8){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...B8,width:r.toString(),height:s.toString(),top:o,left:u},f=Lt().toLowerCase();t&&(h=zO(f)?q8:t),FO(f)&&(e=e||H8,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[S,w])=>`${v}${S}=${w},`,"");if(mz(f)&&h!=="_self")return G8(e||"",h),new M1(null);const _=window.open(e||"",h,g);ge(_,n,"popup-blocked");try{_.focus()}catch{}return new M1(_)}function G8(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8="__/auth/handler",W8="emulator/auth/handler",Q8=encodeURIComponent("fac");async function Eb(n,e,t,r,s,o){ge(n.config.authDomain,n,"auth-domain-config-required"),ge(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vo,eventId:s};if(e instanceof ia){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",wB(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof Gc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await n._getAppCheckToken(),f=d?`#${Q8}=${encodeURIComponent(d)}`:"";return`${Y8(n)}?${jc(h).slice(1)}${f}`}function Y8({config:n}){return n.emulator?z0(n,W8):`https://${n.authDomain}/${K8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="webStorageSupport";class X8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oo,this._completeRedirectFn=Fy,this._overrideRedirectResult=Z0}async _openPopup(e,t,r,s){Ai(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Eb(e,t,r,od(),s);return $8(e,o,jd())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await Eb(e,t,r,od(),s);return Fj(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Ai(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await F8(e),r=new ED(e);return t.register("authEvent",s=>(ge(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(BE,{type:BE},s=>{const o=s?.[0]?.[BE];o!==void 0&&t(!!o),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=C8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $O()||BO()||Fd()}}const wD=X8;class J8{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return is("unexpected MultiFactorSessionType")}}}class eT extends J8{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new eT(e)}_finalizeEnroll(e,t,r){return Dj(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Wj(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class SD{constructor(){}static assertion(e){return eT._fromCredential(e)}}SD.FACTOR_ID="phone";var V1="@firebase/auth",L1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tq(n){ao(new fs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ge(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GO(n)},f=new bz(r,s,o,d);return Vz(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ao(new fs("auth-internal",e=>{const t=Ut(e.getProvider("auth").getImmediate());return(r=>new Z8(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(V1,L1,eq(n)),Ti(V1,L1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=300,rq=lO("authIdTokenMaxAge")||nq;let U1=null;const iq=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>rq)return;const s=t?.token;U1!==s&&(U1=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function sq(n=SO()){const e=Cy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Mz(n,{popupRedirectResolver:wD,persistence:[pc,My,oo]}),r=lO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=iq(o.toString());Pj(t,u,()=>u(t.currentUser)),xj(t,h=>u(h))}}const s=hB("auth");return s&&QO(t,`http://${s}`),t}function aq(){return document.getElementsByTagName("head")?.[0]??document}Tz({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=En("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",aq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tq("Browser");var F1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,AD;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function x(){}x.prototype=C.prototype,N.F=C.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(L,O,b){for(var R=Array(arguments.length-2),G=2;G<arguments.length;G++)R[G-2]=arguments[G];return C.prototype[O].apply(L,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,C,x){x||(x=0);const L=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)L[O]=C.charCodeAt(x++)|C.charCodeAt(x++)<<8|C.charCodeAt(x++)<<16|C.charCodeAt(x++)<<24;else for(O=0;O<16;++O)L[O]=C[x++]|C[x++]<<8|C[x++]<<16|C[x++]<<24;C=N.g[0],x=N.g[1],O=N.g[2];let b=N.g[3],R;R=C+(b^x&(O^b))+L[0]+3614090360&4294967295,C=x+(R<<7&4294967295|R>>>25),R=b+(O^C&(x^O))+L[1]+3905402710&4294967295,b=C+(R<<12&4294967295|R>>>20),R=O+(x^b&(C^x))+L[2]+606105819&4294967295,O=b+(R<<17&4294967295|R>>>15),R=x+(C^O&(b^C))+L[3]+3250441966&4294967295,x=O+(R<<22&4294967295|R>>>10),R=C+(b^x&(O^b))+L[4]+4118548399&4294967295,C=x+(R<<7&4294967295|R>>>25),R=b+(O^C&(x^O))+L[5]+1200080426&4294967295,b=C+(R<<12&4294967295|R>>>20),R=O+(x^b&(C^x))+L[6]+2821735955&4294967295,O=b+(R<<17&4294967295|R>>>15),R=x+(C^O&(b^C))+L[7]+4249261313&4294967295,x=O+(R<<22&4294967295|R>>>10),R=C+(b^x&(O^b))+L[8]+1770035416&4294967295,C=x+(R<<7&4294967295|R>>>25),R=b+(O^C&(x^O))+L[9]+2336552879&4294967295,b=C+(R<<12&4294967295|R>>>20),R=O+(x^b&(C^x))+L[10]+4294925233&4294967295,O=b+(R<<17&4294967295|R>>>15),R=x+(C^O&(b^C))+L[11]+2304563134&4294967295,x=O+(R<<22&4294967295|R>>>10),R=C+(b^x&(O^b))+L[12]+1804603682&4294967295,C=x+(R<<7&4294967295|R>>>25),R=b+(O^C&(x^O))+L[13]+4254626195&4294967295,b=C+(R<<12&4294967295|R>>>20),R=O+(x^b&(C^x))+L[14]+2792965006&4294967295,O=b+(R<<17&4294967295|R>>>15),R=x+(C^O&(b^C))+L[15]+1236535329&4294967295,x=O+(R<<22&4294967295|R>>>10),R=C+(O^b&(x^O))+L[1]+4129170786&4294967295,C=x+(R<<5&4294967295|R>>>27),R=b+(x^O&(C^x))+L[6]+3225465664&4294967295,b=C+(R<<9&4294967295|R>>>23),R=O+(C^x&(b^C))+L[11]+643717713&4294967295,O=b+(R<<14&4294967295|R>>>18),R=x+(b^C&(O^b))+L[0]+3921069994&4294967295,x=O+(R<<20&4294967295|R>>>12),R=C+(O^b&(x^O))+L[5]+3593408605&4294967295,C=x+(R<<5&4294967295|R>>>27),R=b+(x^O&(C^x))+L[10]+38016083&4294967295,b=C+(R<<9&4294967295|R>>>23),R=O+(C^x&(b^C))+L[15]+3634488961&4294967295,O=b+(R<<14&4294967295|R>>>18),R=x+(b^C&(O^b))+L[4]+3889429448&4294967295,x=O+(R<<20&4294967295|R>>>12),R=C+(O^b&(x^O))+L[9]+568446438&4294967295,C=x+(R<<5&4294967295|R>>>27),R=b+(x^O&(C^x))+L[14]+3275163606&4294967295,b=C+(R<<9&4294967295|R>>>23),R=O+(C^x&(b^C))+L[3]+4107603335&4294967295,O=b+(R<<14&4294967295|R>>>18),R=x+(b^C&(O^b))+L[8]+1163531501&4294967295,x=O+(R<<20&4294967295|R>>>12),R=C+(O^b&(x^O))+L[13]+2850285829&4294967295,C=x+(R<<5&4294967295|R>>>27),R=b+(x^O&(C^x))+L[2]+4243563512&4294967295,b=C+(R<<9&4294967295|R>>>23),R=O+(C^x&(b^C))+L[7]+1735328473&4294967295,O=b+(R<<14&4294967295|R>>>18),R=x+(b^C&(O^b))+L[12]+2368359562&4294967295,x=O+(R<<20&4294967295|R>>>12),R=C+(x^O^b)+L[5]+4294588738&4294967295,C=x+(R<<4&4294967295|R>>>28),R=b+(C^x^O)+L[8]+2272392833&4294967295,b=C+(R<<11&4294967295|R>>>21),R=O+(b^C^x)+L[11]+1839030562&4294967295,O=b+(R<<16&4294967295|R>>>16),R=x+(O^b^C)+L[14]+4259657740&4294967295,x=O+(R<<23&4294967295|R>>>9),R=C+(x^O^b)+L[1]+2763975236&4294967295,C=x+(R<<4&4294967295|R>>>28),R=b+(C^x^O)+L[4]+1272893353&4294967295,b=C+(R<<11&4294967295|R>>>21),R=O+(b^C^x)+L[7]+4139469664&4294967295,O=b+(R<<16&4294967295|R>>>16),R=x+(O^b^C)+L[10]+3200236656&4294967295,x=O+(R<<23&4294967295|R>>>9),R=C+(x^O^b)+L[13]+681279174&4294967295,C=x+(R<<4&4294967295|R>>>28),R=b+(C^x^O)+L[0]+3936430074&4294967295,b=C+(R<<11&4294967295|R>>>21),R=O+(b^C^x)+L[3]+3572445317&4294967295,O=b+(R<<16&4294967295|R>>>16),R=x+(O^b^C)+L[6]+76029189&4294967295,x=O+(R<<23&4294967295|R>>>9),R=C+(x^O^b)+L[9]+3654602809&4294967295,C=x+(R<<4&4294967295|R>>>28),R=b+(C^x^O)+L[12]+3873151461&4294967295,b=C+(R<<11&4294967295|R>>>21),R=O+(b^C^x)+L[15]+530742520&4294967295,O=b+(R<<16&4294967295|R>>>16),R=x+(O^b^C)+L[2]+3299628645&4294967295,x=O+(R<<23&4294967295|R>>>9),R=C+(O^(x|~b))+L[0]+4096336452&4294967295,C=x+(R<<6&4294967295|R>>>26),R=b+(x^(C|~O))+L[7]+1126891415&4294967295,b=C+(R<<10&4294967295|R>>>22),R=O+(C^(b|~x))+L[14]+2878612391&4294967295,O=b+(R<<15&4294967295|R>>>17),R=x+(b^(O|~C))+L[5]+4237533241&4294967295,x=O+(R<<21&4294967295|R>>>11),R=C+(O^(x|~b))+L[12]+1700485571&4294967295,C=x+(R<<6&4294967295|R>>>26),R=b+(x^(C|~O))+L[3]+2399980690&4294967295,b=C+(R<<10&4294967295|R>>>22),R=O+(C^(b|~x))+L[10]+4293915773&4294967295,O=b+(R<<15&4294967295|R>>>17),R=x+(b^(O|~C))+L[1]+2240044497&4294967295,x=O+(R<<21&4294967295|R>>>11),R=C+(O^(x|~b))+L[8]+1873313359&4294967295,C=x+(R<<6&4294967295|R>>>26),R=b+(x^(C|~O))+L[15]+4264355552&4294967295,b=C+(R<<10&4294967295|R>>>22),R=O+(C^(b|~x))+L[6]+2734768916&4294967295,O=b+(R<<15&4294967295|R>>>17),R=x+(b^(O|~C))+L[13]+1309151649&4294967295,x=O+(R<<21&4294967295|R>>>11),R=C+(O^(x|~b))+L[4]+4149444226&4294967295,C=x+(R<<6&4294967295|R>>>26),R=b+(x^(C|~O))+L[11]+3174756917&4294967295,b=C+(R<<10&4294967295|R>>>22),R=O+(C^(b|~x))+L[2]+718787259&4294967295,O=b+(R<<15&4294967295|R>>>17),R=x+(b^(O|~C))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+b&4294967295}r.prototype.v=function(N,C){C===void 0&&(C=N.length);const x=C-this.blockSize,L=this.C;let O=this.h,b=0;for(;b<C;){if(O==0)for(;b<=x;)s(this,N,b),b+=this.blockSize;if(typeof N=="string"){for(;b<C;)if(L[O++]=N.charCodeAt(b++),O==this.blockSize){s(this,L),O=0;break}}else for(;b<C;)if(L[O++]=N[b++],O==this.blockSize){s(this,L),O=0;break}}this.h=O,this.o+=C},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,x=0;x<4;++x)for(let L=0;L<32;L+=8)N[C++]=this.g[x]>>>L&255;return N};function o(N,C){var x=h;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=C(N)}function u(N,C){this.h=C;const x=[];let L=!0;for(let O=N.length-1;O>=0;O--){const b=N[O]|0;L&&b==C||(x[O]=b,L=!1)}this.g=x}var h={};function d(N){return-128<=N&&N<128?o(N,function(C){return new u([C|0],C<0?-1:0)}):new u([N|0],N<0?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return P(f(-N));const C=[];let x=1;for(let L=0;N>=x;L++)C[L]=N/x|0,x*=4294967296;return new u(C,0)}function g(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return P(g(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=f(Math.pow(C,8));let L=_;for(let b=0;b<N.length;b+=8){var O=Math.min(8,N.length-b);const R=parseInt(N.substring(b,b+O),C);O<8?(O=f(Math.pow(C,O)),L=L.j(O).add(f(R))):(L=L.j(x),L=L.add(f(R)))}return L}var _=d(0),v=d(1),S=d(16777216);n=u.prototype,n.m=function(){if(I(this))return-P(this).m();let N=0,C=1;for(let x=0;x<this.g.length;x++){const L=this.i(x);N+=(L>=0?L:4294967296+L)*C,C*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(w(this))return"0";if(I(this))return"-"+P(this).toString(N);const C=f(Math.pow(N,6));var x=this;let L="";for(;;){const O=W(x,C).g;x=F(x,O.j(C));let b=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=O,w(x))return b+L;for(;b.length<6;)b="0"+b;L=b+L}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function w(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function I(N){return N.h==-1}n.l=function(N){return N=F(this,N),I(N)?-1:w(N)?0:1};function P(N){const C=N.g.length,x=[];for(let L=0;L<C;L++)x[L]=~N.g[L];return new u(x,~N.h).add(v)}n.abs=function(){return I(this)?P(this):this},n.add=function(N){const C=Math.max(this.g.length,N.g.length),x=[];let L=0;for(let O=0;O<=C;O++){let b=L+(this.i(O)&65535)+(N.i(O)&65535),R=(b>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);L=R>>>16,b&=65535,R&=65535,x[O]=R<<16|b}return new u(x,x[x.length-1]&-2147483648?-1:0)};function F(N,C){return N.add(P(C))}n.j=function(N){if(w(this)||w(N))return _;if(I(this))return I(N)?P(this).j(P(N)):P(P(this).j(N));if(I(N))return P(this.j(P(N)));if(this.l(S)<0&&N.l(S)<0)return f(this.m()*N.m());const C=this.g.length+N.g.length,x=[];for(var L=0;L<2*C;L++)x[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<N.g.length;O++){const b=this.i(L)>>>16,R=this.i(L)&65535,G=N.i(O)>>>16,M=N.i(O)&65535;x[2*L+2*O]+=R*M,V(x,2*L+2*O),x[2*L+2*O+1]+=b*M,V(x,2*L+2*O+1),x[2*L+2*O+1]+=R*G,V(x,2*L+2*O+1),x[2*L+2*O+2]+=b*G,V(x,2*L+2*O+2)}for(N=0;N<C;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=C;N<2*C;N++)x[N]=0;return new u(x,0)};function V(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function z(N,C){this.g=N,this.h=C}function W(N,C){if(w(C))throw Error("division by zero");if(w(N))return new z(_,_);if(I(N))return C=W(P(N),C),new z(P(C.g),P(C.h));if(I(C))return C=W(N,P(C)),new z(P(C.g),C.h);if(N.g.length>30){if(I(N)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var x=v,L=C;L.l(N)<=0;)x=$(x),L=$(L);var O=H(x,1),b=H(L,1);for(L=H(L,2),x=H(x,2);!w(L);){var R=b.add(L);R.l(N)<=0&&(O=O.add(x),b=R),L=H(L,1),x=H(x,1)}return C=F(N,O.j(C)),new z(O,C)}for(O=_;N.l(C)>=0;){for(x=Math.max(1,Math.floor(N.m()/C.m())),L=Math.ceil(Math.log(x)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),b=f(x),R=b.j(C);I(R)||R.l(N)>0;)x-=L,b=f(x),R=b.j(C);w(b)&&(b=v),O=O.add(b),N=F(N,R)}return new z(O,N)}n.B=function(N){return W(this,N).h},n.and=function(N){const C=Math.max(this.g.length,N.g.length),x=[];for(let L=0;L<C;L++)x[L]=this.i(L)&N.i(L);return new u(x,this.h&N.h)},n.or=function(N){const C=Math.max(this.g.length,N.g.length),x=[];for(let L=0;L<C;L++)x[L]=this.i(L)|N.i(L);return new u(x,this.h|N.h)},n.xor=function(N){const C=Math.max(this.g.length,N.g.length),x=[];for(let L=0;L<C;L++)x[L]=this.i(L)^N.i(L);return new u(x,this.h^N.h)};function $(N){const C=N.g.length+1,x=[];for(let L=0;L<C;L++)x[L]=N.i(L)<<1|N.i(L-1)>>>31;return new u(x,N.h)}function H(N,C){const x=C>>5;C%=32;const L=N.g.length-x,O=[];for(let b=0;b<L;b++)O[b]=C>0?N.i(b+x)>>>C|N.i(b+x+1)<<32-C:N.i(b+x);return new u(O,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AD=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=g,Za=u}).apply(typeof F1<"u"?F1:typeof self<"u"?self:typeof window<"u"?window:{});var Bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ID,Of,RD,ug,bb,CD,xD,PD;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bm=="object"&&Bm];for(var E=0;E<p.length;++E){var A=p[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=t(this);function s(p,E){if(E)e:{var A=r;p=p.split(".");for(var k=0;k<p.length-1;k++){var Z=p[k];if(!(Z in A))break e;A=A[Z]}p=p[p.length-1],k=A[p],E=E(k),E!=k&&E!=null&&e(A,p,{configurable:!0,writable:!0,value:E})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(E){var A=[],k;for(k in E)Object.prototype.hasOwnProperty.call(E,k)&&A.push([k,E[k]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function h(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function d(p,E,A){return p.call.apply(p.bind,arguments)}function f(p,E,A){return f=d,f.apply(null,arguments)}function g(p,E){var A=Array.prototype.slice.call(arguments,1);return function(){var k=A.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function _(p,E){function A(){}A.prototype=E.prototype,p.Z=E.prototype,p.prototype=new A,p.prototype.constructor=p,p.Ob=function(k,Z,ae){for(var _e=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)_e[Ve-2]=arguments[Ve];return E.prototype[Z].apply(k,_e)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function S(p){const E=p.length;if(E>0){const A=Array(E);for(let k=0;k<E;k++)A[k]=p[k];return A}return[]}function w(p,E){for(let k=1;k<arguments.length;k++){const Z=arguments[k];var A=typeof Z;if(A=A!="object"?A:Z?Array.isArray(Z)?"array":A:"null",A=="array"||A=="object"&&typeof Z.length=="number"){A=p.length||0;const ae=Z.length||0;p.length=A+ae;for(let _e=0;_e<ae;_e++)p[A+_e]=Z[_e]}else p.push(Z)}}class I{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function P(p){u.setTimeout(()=>{throw p},0)}function F(){var p=N;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class V{constructor(){this.h=this.g=null}add(E,A){const k=z.get();k.set(E,A),this.h?this.h.next=k:this.g=k,this.h=k}}var z=new I(()=>new W,p=>p.reset());class W{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let $,H=!1,N=new V,C=()=>{const p=Promise.resolve(void 0);$=()=>{p.then(x)}};function x(){for(var p;p=F();){try{p.h.call(p.g)}catch(A){P(A)}var E=z;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}H=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const A=()=>{};u.addEventListener("test",A,E),u.removeEventListener("test",A,E)}catch{}return p})();function R(p){return/^[\s\xa0]*$/.test(p)}function G(p,E){O.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}_(G,O),G.prototype.init=function(p,E){const A=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(A=="mouseover"?E=p.fromElement:A=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var M="closure_listenable_"+(Math.random()*1e6|0),j=0;function X(p,E,A,k,Z){this.listener=p,this.proxy=null,this.src=E,this.type=A,this.capture=!!k,this.ha=Z,this.key=++j,this.da=this.fa=!1}function ne(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function be(p,E,A){for(const k in p)E.call(A,p[k],k,p)}function we(p,E){for(const A in p)E.call(void 0,p[A],A,p)}function B(p){const E={};for(const A in p)E[A]=p[A];return E}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(p,E){let A,k;for(let Z=1;Z<arguments.length;Z++){k=arguments[Z];for(A in k)p[A]=k[A];for(let ae=0;ae<se.length;ae++)A=se[ae],Object.prototype.hasOwnProperty.call(k,A)&&(p[A]=k[A])}}function pe(p){this.src=p,this.g={},this.h=0}pe.prototype.add=function(p,E,A,k,Z){const ae=p.toString();p=this.g[ae],p||(p=this.g[ae]=[],this.h++);const _e=De(p,E,k,Z);return _e>-1?(E=p[_e],A||(E.fa=!1)):(E=new X(E,this.src,ae,!!k,Z),E.fa=A,p.push(E)),E};function Ce(p,E){const A=E.type;if(A in p.g){var k=p.g[A],Z=Array.prototype.indexOf.call(k,E,void 0),ae;(ae=Z>=0)&&Array.prototype.splice.call(k,Z,1),ae&&(ne(E),p.g[A].length==0&&(delete p.g[A],p.h--))}}function De(p,E,A,k){for(let Z=0;Z<p.length;++Z){const ae=p[Z];if(!ae.da&&ae.listener==E&&ae.capture==!!A&&ae.ha==k)return Z}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Mt={};function Et(p,E,A,k,Z){if(Array.isArray(E)){for(let ae=0;ae<E.length;ae++)Et(p,E[ae],A,k,Z);return null}return A=Co(A),p&&p[M]?p.J(E,A,h(k)?!!k.capture:!1,Z):_s(p,E,A,!1,k,Z)}function _s(p,E,A,k,Z,ae){if(!E)throw Error("Invalid event type");const _e=h(Z)?!!Z.capture:!!Z;let Ve=Es(p);if(Ve||(p[ze]=Ve=new pe(p)),A=Ve.add(E,A,k,_e,ae),A.proxy)return A;if(k=vs(),A.proxy=k,k.src=p,k.listener=A,p.addEventListener)b||(Z=_e),Z===void 0&&(Z=!1),p.addEventListener(E.toString(),k,Z);else if(p.attachEvent)p.attachEvent(sr(E.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return A}function vs(){function p(A){return E.call(p.src,p.listener,A)}const E=Io;return p}function Fr(p,E,A,k,Z){if(Array.isArray(E))for(var ae=0;ae<E.length;ae++)Fr(p,E[ae],A,k,Z);else k=h(k)?!!k.capture:!!k,A=Co(A),p&&p[M]?(p=p.i,ae=String(E).toString(),ae in p.g&&(E=p.g[ae],A=De(E,A,k,Z),A>-1&&(ne(E[A]),Array.prototype.splice.call(E,A,1),E.length==0&&(delete p.g[ae],p.h--)))):p&&(p=Es(p))&&(E=p.g[E.toString()],p=-1,E&&(p=De(E,A,k,Z)),(A=p>-1?E[p]:null)&&Qn(A))}function Qn(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[M])Ce(E.i,p);else{var A=p.type,k=p.proxy;E.removeEventListener?E.removeEventListener(A,k,p.capture):E.detachEvent?E.detachEvent(sr(A),k):E.addListener&&E.removeListener&&E.removeListener(k),(A=Es(E))?(Ce(A,p),A.h==0&&(A.src=null,E[ze]=null)):ne(p)}}}function sr(p){return p in Mt?Mt[p]:Mt[p]="on"+p}function Io(p,E){if(p.da)p=!0;else{E=new G(E,this);const A=p.listener,k=p.ha||p.src;p.fa&&Qn(p),p=A.call(k,E)}return p}function Es(p){return p=p[ze],p instanceof pe?p:null}var Ro="__closure_events_fn_"+(Math.random()*1e9>>>0);function Co(p){return typeof p=="function"?p:(p[Ro]||(p[Ro]=function(E){return p.handleEvent(E)}),p[Ro])}function Ft(){L.call(this),this.i=new pe(this),this.M=this,this.G=null}_(Ft,L),Ft.prototype[M]=!0,Ft.prototype.removeEventListener=function(p,E,A,k){Fr(this,p,E,A,k)};function Bt(p,E){var A,k=p.G;if(k)for(A=[];k;k=k.G)A.push(k);if(p=p.M,k=E.type||E,typeof E=="string")E=new O(E,p);else if(E instanceof O)E.target=E.target||p;else{var Z=E;E=new O(k,p),ye(E,Z)}Z=!0;let ae,_e;if(A)for(_e=A.length-1;_e>=0;_e--)ae=E.g=A[_e],Z=Qe(ae,k,!0,E)&&Z;if(ae=E.g=p,Z=Qe(ae,k,!0,E)&&Z,Z=Qe(ae,k,!1,E)&&Z,A)for(_e=0;_e<A.length;_e++)ae=E.g=A[_e],Z=Qe(ae,k,!1,E)&&Z}Ft.prototype.N=function(){if(Ft.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const A=p.g[E];for(let k=0;k<A.length;k++)ne(A[k]);delete p.g[E],p.h--}}this.G=null},Ft.prototype.J=function(p,E,A,k){return this.i.add(String(p),E,!1,A,k)},Ft.prototype.K=function(p,E,A,k){return this.i.add(String(p),E,!0,A,k)};function Qe(p,E,A,k){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let Z=!0;for(let ae=0;ae<E.length;++ae){const _e=E[ae];if(_e&&!_e.da&&_e.capture==A){const Ve=_e.listener,Qt=_e.ha||_e.src;_e.fa&&Ce(p.i,_e),Z=Ve.call(Qt,k)!==!1&&Z}}return Z&&!k.defaultPrevented}function bt(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:u.setTimeout(p,E||0)}function Fn(p){p.g=bt(()=>{p.g=null,p.i&&(p.i=!1,Fn(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class nn extends L{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Fn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(p){L.call(this),this.h=p,this.g={}}_(ar,L);var Br=[];function Yn(p){be(p.g,function(E,A){this.g.hasOwnProperty(A)&&Qn(E)},p),p.g={}}ar.prototype.N=function(){ar.Z.N.call(this),Yn(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=u.JSON.stringify,xo=u.JSON.parse,sp=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function ap(){}function op(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xn(){O.call(this,"d")}_(xn,O);function zr(){O.call(this,"c")}_(zr,O);var Wt={},lp=null;function Kl(){return lp=lp||new Ft}Wt.Ia="serverreachability";function up(p){O.call(this,Wt.Ia,p)}_(up,O);function Ri(p){const E=Kl();Bt(E,new up(E))}Wt.STAT_EVENT="statevent";function Po(p,E){O.call(this,Wt.STAT_EVENT,p),this.stat=E}_(Po,O);function rn(p){const E=Kl();Bt(E,new Po(E,p))}Wt.Ja="timingevent";function Ci(p,E){O.call(this,Wt.Ja,p),this.size=E}_(Ci,O);function xi(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},E)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function d_(p,E,A,k,Z,ae){p.info(function(){if(p.g)if(ae){var _e="",Ve=ae.split("&");for(let nt=0;nt<Ve.length;nt++){var Qt=Ve[nt].split("=");if(Qt.length>1){const Rt=Qt[0];Qt=Qt[1];const $r=Rt.split("_");_e=$r.length>=2&&$r[1]=="type"?_e+(Rt+"="+Qt+"&"):_e+(Rt+"=redacted&")}}}else _e=null;else _e=ae;return"XMLHTTP REQ ("+k+") [attempt "+Z+"]: "+E+`
`+A+`
`+_e})}function cp(p,E,A,k,Z,ae,_e){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Z+"]: "+E+`
`+A+`
`+ae+" "+_e})}function Pi(p,E,A,k){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+p_(p,A)+(k?" "+k:"")})}function Oo(p,E){p.info(function(){return"TIMEOUT: "+E})}oi.prototype.info=function(){};function p_(p,E){if(!p.g)return E;if(!E)return null;try{const ae=JSON.parse(E);if(ae){for(p=0;p<ae.length;p++)if(Array.isArray(ae[p])){var A=ae[p];if(!(A.length<2)){var k=A[1];if(Array.isArray(k)&&!(k.length<1)){var Z=k[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let _e=1;_e<k.length;_e++)k[_e]=""}}}}return Bn(ae)}catch{return E}}var Do={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},th={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nh;function No(){}_(No,ap),No.prototype.g=function(){return new XMLHttpRequest},nh=new No;function bs(p){return encodeURIComponent(String(p))}function hp(p){var E=1;p=p.split(":");const A=[];for(;E>0&&p.length;)A.push(p.shift()),E--;return p.length&&A.push(p.join(":")),A}function li(p,E,A,k){this.j=p,this.i=E,this.l=A,this.S=k||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var sn={},Tn={};function Oi(p,E,A){p.M=1,p.A=ko(on(E)),p.u=A,p.R=!0,Wl(p,null)}function Wl(p,E){p.F=Date.now(),Di(p),p.B=on(p.A);var A=p.B,k=p.S;Array.isArray(k)||(k=[String(k)]),Jl(A.i,"t",k),p.C=0,A=p.j.L,p.h=new ui,p.g=Ip(p.j,A?E:null,!p.u),p.P>0&&(p.O=new nn(f(p.Y,p,p.g),p.P)),E=p.V,A=p.g,k=p.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(Br[0]=Z.toString()),Z=Br);for(let ae=0;ae<Z.length;ae++){const _e=Et(A,Z[ae],k||E.handleEvent,!1,E.h||E);if(!_e)break;E.g[_e.key]=_e}E=p.J?B(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Ri(),d_(p.i,p.v,p.B,p.l,p.S,p.u)}li.prototype.ba=function(p){p=p.target;const E=this.O;E&&fi(p)==3?E.j():this.Y(p)},li.prototype.Y=function(p){try{if(p==this.g)e:{const Ve=fi(this.g),Qt=this.g.ya(),nt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||Pn(this.g)))){this.K||Ve!=4||Qt==7||(Qt==8||nt<=0?Ri(3):Ri(2)),Ni(this);var E=this.g.ca();this.X=E;var A=m_(this);if(this.o=E==200,cp(this.i,this.v,this.B,this.l,this.S,Ve,E),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Z=this.g;if((k=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(k)){var ae=k;break t}}ae=null}if(p=ae)Pi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ki(this,p);else{this.o=!1,this.m=3,rn(12),br(this),jr(this);break e}}if(this.R){p=!0;let Rt;for(;!this.K&&this.C<A.length;)if(Rt=dp(this,A),Rt==Tn){Ve==4&&(this.m=4,rn(14),p=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==sn){this.m=4,rn(15),Pi(this.i,this.l,A,"[Invalid Chunk]"),p=!1;break}else Pi(this.i,this.l,Rt,null),ki(this,Rt);if(fp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||A.length!=0||this.h.h||(this.m=1,rn(16),p=!1),this.o=this.o&&p,!p)Pi(this.i,this.l,A,"[Invalid Chunked Response]"),br(this),jr(this);else if(A.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),yh(_e),_e.P=!0,rn(11))}}else Pi(this.i,this.l,A,null),ki(this,A);Ve==4&&br(this),this.o&&!this.K&&(Ve==4?Tp(this.j,this):(this.o=!1,Di(this)))}else ws(this.g),E==400&&A.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),br(this),jr(this)}}}catch{}finally{}};function m_(p){if(!fp(p))return p.g.la();const E=Pn(p.g);if(E==="")return"";let A="";const k=E.length,Z=fi(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return br(p),jr(p),"";p.h.i=new u.TextDecoder}for(let ae=0;ae<k;ae++)p.h.h=!0,A+=p.h.i.decode(E[ae],{stream:!(Z&&ae==k-1)});return E.length=0,p.h.g+=A,p.C=0,p.h.g}function fp(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function dp(p,E){var A=p.C,k=E.indexOf(`
`,A);return k==-1?Tn:(A=Number(E.substring(A,k)),isNaN(A)?sn:(k+=1,k+A>E.length?Tn:(E=E.slice(k,k+A),p.C=k+A,E)))}li.prototype.cancel=function(){this.K=!0,br(this)};function Di(p){p.T=Date.now()+p.H,Ql(p,p.H)}function Ql(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=xi(f(p.aa,p),E)}function Ni(p){p.D&&(u.clearTimeout(p.D),p.D=null)}li.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Oo(this.i,this.B),this.M!=2&&(Ri(),rn(17)),br(this),this.m=2,jr(this)):Ql(this,this.T-p)};function jr(p){p.j.I==0||p.K||Tp(p.j,p)}function br(p){Ni(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,Yn(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function ki(p,E){try{var A=p.j;if(A.I!=0&&(A.g==p||Vi(A.h,p))){if(!p.L&&Vi(A.h,p)&&A.I==3){try{var k=A.Ba.g.parse(E)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Z=k;if(Z[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<p.F)ru(A),ga(A);else break e;zo(A),rn(18)}}else A.xa=Z[1],0<A.xa-A.K&&Z[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=xi(f(A.Va,A),6e3));Mi(A.h)<=1&&A.ta&&(A.ta=void 0)}else ji(A,11)}else if((p.L||A.g==p)&&ru(A),!R(E))for(Z=A.Ba.g.parse(E),E=0;E<Z.length;E++){let nt=Z[E];const Rt=nt[0];if(!(Rt<=A.K))if(A.K=Rt,nt=nt[1],A.I==2)if(nt[0]=="c"){A.M=nt[1],A.ba=nt[2];const $r=nt[3];$r!=null&&(A.ka=$r,A.j.info("VER="+A.ka));const qi=nt[4];qi!=null&&(A.za=qi,A.j.info("SVER="+A.za));const di=nt[5];di!=null&&typeof di=="number"&&di>0&&(k=1.5*di,A.O=k,A.j.info("backChannelRequestTimeoutMs_="+k)),k=A;const pi=p.g;if(pi){const jo=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jo){var ae=k.h;ae.g||jo.indexOf("spdy")==-1&&jo.indexOf("quic")==-1&&jo.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(sh(ae,ae.h),ae.h=null))}if(k.G){const iu=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(k.wa=iu,ot(k.J,k.G,iu))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-p.F,A.j.info("Handshake RTT: "+A.T+"ms")),k=A;var _e=p;if(k.na=Ap(k,k.L?k.ba:null,k.W),_e.L){ah(k.h,_e);var Ve=_e,Qt=k.O;Qt&&(Ve.H=Qt),Ve.D&&(Ni(Ve),Di(Ve)),k.g=_e}else Ep(k);A.i.length>0&&zi(A)}else nt[0]!="stop"&&nt[0]!="close"||ji(A,7);else A.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ji(A,7):mh(A):nt[0]!="noop"&&A.l&&A.l.qa(nt),A.A=0)}}Ri(4)}catch{}}var an=class{constructor(p,E){this.g=p,this.map=E}};function rh(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ih(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Mi(p){return p.h?1:p.g?p.g.size:0}function Vi(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function sh(p,E){p.g?p.g.add(E):p.h=E}function ah(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}rh.prototype.cancel=function(){if(this.i=oh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function oh(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const A of p.g.values())E=E.concat(A.G);return E}return S(p.i)}var pp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yl(p,E){if(p){p=p.split("&");for(let A=0;A<p.length;A++){const k=p[A].indexOf("=");let Z,ae=null;k>=0?(Z=p[A].substring(0,k),ae=p[A].substring(k+1)):Z=p[A],E(Z,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Tr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof Tr?(this.l=p.l,wn(this,p.j),this.o=p.o,this.g=p.g,ua(this,p.u),this.h=p.h,lh(this,_p(p.i)),this.m=p.m):p&&(E=String(p).match(pp))?(this.l=!1,wn(this,E[1]||"",!0),this.o=Li(E[2]||""),this.g=Li(E[3]||"",!0),ua(this,E[4]),this.h=Li(E[5]||"",!0),lh(this,E[6]||"",!0),this.m=Li(E[7]||"")):(this.l=!1,this.i=new ha(null,this.l))}Tr.prototype.toString=function(){const p=[];var E=this.j;E&&p.push(Mo(E,Xl,!0),":");var A=this.g;return(A||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Mo(E,Xl,!0),"@"),p.push(bs(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&p.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&p.push("/"),p.push(Mo(A,A.charAt(0)=="/"?uh:mp,!0))),(A=this.i.toString())&&p.push("?",A),(A=this.m)&&p.push("#",Mo(A,gp)),p.join("")},Tr.prototype.resolve=function(p){const E=on(this);let A=!!p.j;A?wn(E,p.j):A=!!p.o,A?E.o=p.o:A=!!p.g,A?E.g=p.g:A=p.u!=null;var k=p.h;if(A)ua(E,p.u);else if(A=!!p.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Z=E.h.lastIndexOf("/");Z!=-1&&(k=E.h.slice(0,Z+1)+k)}if(Z=k,Z==".."||Z==".")k="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){k=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const ae=[];for(let _e=0;_e<Z.length;){const Ve=Z[_e++];Ve=="."?k&&_e==Z.length&&ae.push(""):Ve==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),k&&_e==Z.length&&ae.push("")):(ae.push(Ve),k=!0)}k=ae.join("/")}else k=Z}return A?E.h=k:A=p.i.toString()!=="",A?lh(E,_p(p.i)):A=!!p.m,A&&(E.m=p.m),E};function on(p){return new Tr(p)}function wn(p,E,A){p.j=A?Li(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function ua(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function lh(p,E,A){E instanceof ha?(p.i=E,Zl(p.i,p.l)):(A||(E=Mo(E,ca)),p.i=new ha(E,p.l))}function ot(p,E,A){p.i.set(E,A)}function ko(p){return ot(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Li(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Mo(p,E,A){return typeof p=="string"?(p=encodeURI(p).replace(E,or),A&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function or(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Xl=/[#\/\?@]/g,mp=/[#\?:]/g,uh=/[#\?]/g,ca=/[#\?@]/g,gp=/#/g;function ha(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function lr(p){p.g||(p.g=new Map,p.h=0,p.i&&Yl(p.i,function(E,A){p.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}n=ha.prototype,n.add=function(p,E){lr(this),this.i=null,p=fa(this,p);let A=this.g.get(p);return A||this.g.set(p,A=[]),A.push(E),this.h+=1,this};function yp(p,E){lr(p),E=fa(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function ch(p,E){return lr(p),E=fa(p,E),p.g.has(E)}n.forEach=function(p,E){lr(this),this.g.forEach(function(A,k){A.forEach(function(Z){p.call(E,Z,k,this)},this)},this)};function hh(p,E){lr(p);let A=[];if(typeof E=="string")ch(p,E)&&(A=A.concat(p.g.get(fa(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)A=A.concat(p[E]);return A}n.set=function(p,E){return lr(this),this.i=null,p=fa(this,p),ch(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=hh(this,p),p.length>0?String(p[0]):E):E};function Jl(p,E,A){yp(p,E),A.length>0&&(p.i=null,p.g.set(fa(p,E),S(A)),p.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let k=0;k<E.length;k++){var A=E[k];const Z=bs(A);A=hh(this,A);for(let ae=0;ae<A.length;ae++){let _e=Z;A[ae]!==""&&(_e+="="+bs(A[ae])),p.push(_e)}}return this.i=p.join("&")};function _p(p){const E=new ha;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function fa(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Zl(p,E){E&&!p.j&&(lr(p),p.i=null,p.g.forEach(function(A,k){const Z=k.toLowerCase();k!=Z&&(yp(this,k),Jl(this,Z,A))},p)),p.j=E}function ci(p,E){const A=new oi;if(u.Image){const k=new Image;k.onload=g(qr,A,"TestLoadImage: loaded",!0,E,k),k.onerror=g(qr,A,"TestLoadImage: error",!1,E,k),k.onabort=g(qr,A,"TestLoadImage: abort",!1,E,k),k.ontimeout=g(qr,A,"TestLoadImage: timeout",!1,E,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else E(!1)}function fh(p,E){const A=new oi,k=new AbortController,Z=setTimeout(()=>{k.abort(),qr(A,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:k.signal}).then(ae=>{clearTimeout(Z),ae.ok?qr(A,"TestPingServer: ok",!0,E):qr(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Z),qr(A,"TestPingServer: error",!1,E)})}function qr(p,E,A,k,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),k(A)}catch{}}function da(){this.g=new sp}function Ui(p){this.i=p.Sb||null,this.h=p.ab||!1}_(Ui,ap),Ui.prototype.g=function(){return new Vo(this.i,this.h)};function Vo(p,E){Ft.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Vo,Ft),n=Vo.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,hi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||u).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eu(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function eu(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?pa(this):hi(this),this.readyState==3&&eu(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,pa(this))},n.Na=function(p){this.g&&(this.response=p,pa(this))},n.ga=function(){this.g&&pa(this)};function pa(p){p.readyState=4,p.l=null,p.j=null,p.B=null,hi(p)}n.setRequestHeader=function(p,E){this.A.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,p.push(A[0]+": "+A[1]),A=E.next();return p.join(`\r
`)};function hi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Hr(p){let E="";return be(p,function(A,k){E+=k,E+=":",E+=A,E+=`\r
`}),E}function Lo(p,E,A){e:{for(k in A){var k=!1;break e}k=!0}k||(A=Hr(A),typeof p=="string"?A!=null&&bs(A):ot(p,E,A))}function pt(p){Ft.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(pt,Ft);var Fi=/^https?$/i,dh=["POST","PUT"];n=pt.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,E,A,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nh.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(ae){Uo(this,ae);return}if(p=A||"",A=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Z in k)A.set(Z,k[Z]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ae of k.keys())A.set(ae,k.get(ae));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(A.keys()).find(ae=>ae.toLowerCase()=="content-type"),Z=u.FormData&&p instanceof u.FormData,!(Array.prototype.indexOf.call(dh,E,void 0)>=0)||k||Z||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,_e]of A)this.g.setRequestHeader(ae,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ae){Uo(this,ae)}};function Uo(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,ph(p),Ts(p)}function ph(p){p.A||(p.A=!0,Bt(p,"complete"),Bt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Bt(this,"complete"),Bt(this,"abort"),Ts(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),pt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Fo(this):this.Xa())},n.Xa=function(){Fo(this)};function Fo(p){if(p.h&&typeof o<"u"){if(p.v&&fi(p)==4)setTimeout(p.Ca.bind(p),0);else if(Bt(p,"readystatechange"),fi(p)==4){p.h=!1;try{const ae=p.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var A;if(!(A=E)){var k;if(k=ae===0){let _e=String(p.D).match(pp)[1]||null;!_e&&u.self&&u.self.location&&(_e=u.self.location.protocol.slice(0,-1)),k=!Fi.test(_e?_e.toLowerCase():"")}A=k}if(A)Bt(p,"complete"),Bt(p,"success");else{p.o=6;try{var Z=fi(p)>2?p.g.statusText:""}catch{Z=""}p.l=Z+" ["+p.ca()+"]",ph(p)}}finally{Ts(p)}}}}function Ts(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const A=p.g;p.g=null,E||Bt(p,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function fi(p){return p.g?p.g.readyState:0}n.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),xo(E)}};function Pn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(p){const E={};p=(p.g&&fi(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(R(p[k]))continue;var A=hp(p[k]);const Z=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ae=E[Z]||[];E[Z]=ae,ae.push(A)}we(E,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(p,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[p]||E}function ma(p){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bi("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bi("baseRetryDelayMs",5e3,p),this.Za=Bi("retryDelaySeedMs",1e4,p),this.Ta=Bi("forwardChannelMaxRetries",2,p),this.va=Bi("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new rh(p&&p.concurrentRequestLimit),this.Ba=new da,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ma.prototype,n.ka=8,n.I=1,n.connect=function(p,E,A,k){rn(0),this.W=p,this.H=E||{},A&&k!==void 0&&(this.H.OSID=A,this.H.OAID=k),this.F=this.X,this.J=Ap(this,null,this.W),zi(this)};function mh(p){if(tu(p),p.I==3){var E=p.V++,A=on(p.J);if(ot(A,"SID",p.M),ot(A,"RID",E),ot(A,"TYPE","terminate"),Bo(p,A),E=new li(p,p.j,E),E.M=2,E.A=ko(on(A)),A=!1,u.navigator&&u.navigator.sendBeacon)try{A=u.navigator.sendBeacon(E.A.toString(),"")}catch{}!A&&u.Image&&(new Image().src=E.A,A=!0),A||(E.g=Ip(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Di(E)}Sp(p)}function ga(p){p.g&&(yh(p),p.g.cancel(),p.g=null)}function tu(p){ga(p),p.v&&(u.clearTimeout(p.v),p.v=null),ru(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&u.clearTimeout(p.m),p.m=null)}function zi(p){if(!ih(p.h)&&!p.m){p.m=!0;var E=p.Ea;$||C(),H||($(),H=!0),N.add(E,p),p.D=0}}function nu(p,E){return Mi(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=xi(f(p.Ea,p,E),wp(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Z=new li(this,this.j,p);let ae=this.o;if(this.U&&(ae?(ae=B(ae),ye(ae,this.U)):ae=this.U),this.u!==null||this.R||(Z.J=ae,ae=null),this.S)e:{for(var E=0,A=0;A<this.i.length;A++){t:{var k=this.i[A];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(E+=k,E>4096){E=A;break e}if(E===4096||A===this.i.length-1){E=A+1;break e}}E=1e3}else E=1e3;E=vp(this,Z,E),A=on(this.J),ot(A,"RID",p),ot(A,"CVER",22),this.G&&ot(A,"X-HTTP-Session-Id",this.G),Bo(this,A),ae&&(this.R?E="headers="+bs(Hr(ae))+"&"+E:this.u&&Lo(A,this.u,ae)),sh(this.h,Z),this.Ra&&ot(A,"TYPE","init"),this.S?(ot(A,"$req",E),ot(A,"SID","null"),Z.U=!0,Oi(Z,A,null)):Oi(Z,A,E),this.I=2}}else this.I==3&&(p?gh(this,p):this.i.length==0||ih(this.h)||gh(this))};function gh(p,E){var A;E?A=E.l:A=p.V++;const k=on(p.J);ot(k,"SID",p.M),ot(k,"RID",A),ot(k,"AID",p.K),Bo(p,k),p.u&&p.o&&Lo(k,p.u,p.o),A=new li(p,p.j,A,p.D+1),p.u===null&&(A.J=p.o),E&&(p.i=E.G.concat(p.i)),E=vp(p,A,1e3),A.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),sh(p.h,A),Oi(A,k,E)}function Bo(p,E){p.H&&be(p.H,function(A,k){ot(E,k,A)}),p.l&&be({},function(A,k){ot(E,k,A)})}function vp(p,E,A){A=Math.min(p.i.length,A);const k=p.l?f(p.l.Ka,p.l,p):null;e:{var Z=p.i;let Ve=-1;for(;;){const Qt=["count="+A];Ve==-1?A>0?(Ve=Z[0].g,Qt.push("ofs="+Ve)):Ve=0:Qt.push("ofs="+Ve);let nt=!0;for(let Rt=0;Rt<A;Rt++){var ae=Z[Rt].g;const $r=Z[Rt].map;if(ae-=Ve,ae<0)Ve=Math.max(0,Z[Rt].g-100),nt=!1;else try{ae="req"+ae+"_"||"";try{var _e=$r instanceof Map?$r:Object.entries($r);for(const[qi,di]of _e){let pi=di;h(di)&&(pi=Bn(di)),Qt.push(ae+qi+"="+encodeURIComponent(pi))}}catch(qi){throw Qt.push(ae+"type="+encodeURIComponent("_badmap")),qi}}catch{k&&k($r)}}if(nt){_e=Qt.join("&");break e}}_e=void 0}return p=p.i.splice(0,A),E.G=p,_e}function Ep(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;$||C(),H||($(),H=!0),N.add(E,p),p.A=0}}function zo(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=xi(f(p.Da,p),wp(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,bp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=xi(f(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),ga(this),bp(this))};function yh(p){p.B!=null&&(u.clearTimeout(p.B),p.B=null)}function bp(p){p.g=new li(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=on(p.na);ot(E,"RID","rpc"),ot(E,"SID",p.M),ot(E,"AID",p.K),ot(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&ot(E,"TO",p.ia),ot(E,"TYPE","xmlhttp"),Bo(p,E),p.u&&p.o&&Lo(E,p.u,p.o),p.O&&(p.g.H=p.O);var A=p.g;p=p.ba,A.M=1,A.A=ko(on(E)),A.u=null,A.R=!0,Wl(A,p)}n.Va=function(){this.C!=null&&(this.C=null,ga(this),zo(this),rn(19))};function ru(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Tp(p,E){var A=null;if(p.g==E){ru(p),yh(p),p.g=null;var k=2}else if(Vi(p.h,E))A=E.G,ah(p.h,E),k=1;else return;if(p.I!=0){if(E.o)if(k==1){A=E.u?E.u.length:0,E=Date.now()-E.F;var Z=p.D;k=Kl(),Bt(k,new Ci(k,A)),zi(p)}else Ep(p);else if(Z=E.m,Z==3||Z==0&&E.X>0||!(k==1&&nu(p,E)||k==2&&zo(p)))switch(A&&A.length>0&&(E=p.h,E.i=E.i.concat(A)),Z){case 1:ji(p,5);break;case 4:ji(p,10);break;case 3:ji(p,6);break;default:ji(p,2)}}}function wp(p,E){let A=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(A*=2),A*E}function ji(p,E){if(p.j.info("Error code "+E),E==2){var A=f(p.bb,p),k=p.Ua;const Z=!k;k=new Tr(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||wn(k,"https"),ko(k),Z?ci(k.toString(),A):fh(k.toString(),A)}else rn(2);p.I=0,p.l&&p.l.pa(E),Sp(p),tu(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Sp(p){if(p.I=0,p.ja=[],p.l){const E=oh(p.h);(E.length!=0||p.i.length!=0)&&(w(p.ja,E),w(p.ja,p.i),p.h.i.length=0,S(p.i),p.i.length=0),p.l.oa()}}function Ap(p,E,A){var k=A instanceof Tr?on(A):new Tr(A);if(k.g!="")E&&(k.g=E+"."+k.g),ua(k,k.u);else{var Z=u.location;k=Z.protocol,E=E?E+"."+Z.hostname:Z.hostname,Z=+Z.port;const ae=new Tr(null);k&&wn(ae,k),E&&(ae.g=E),Z&&ua(ae,Z),A&&(ae.h=A),k=ae}return A=p.G,E=p.wa,A&&E&&ot(k,A,E),ot(k,"VER",p.ka),Bo(p,k),k}function Ip(p,E,A){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new pt(new Ui({ab:A})):new pt(p.ma),E.Fa(p.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rp(){}n=Rp.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ya(){}ya.prototype.g=function(p,E){return new Xn(p,E)};function Xn(p,E){Ft.call(this),this.g=new ma(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!R(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!R(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new Ss(this)}_(Xn,Ft),Xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){mh(this.g)},Xn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var A={};A.__data__=p,p=A}else this.v&&(A={},A.__data__=Bn(p),p=A);E.i.push(new an(E.Ya++,p)),E.I==3&&zi(E)},Xn.prototype.N=function(){this.g.l=null,delete this.j,mh(this.g),delete this.g,Xn.Z.N.call(this)};function Cp(p){xn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const A in E){p=A;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}_(Cp,xn);function xp(){zr.call(this),this.status=1}_(xp,zr);function Ss(p){this.g=p}_(Ss,Rp),Ss.prototype.ra=function(){Bt(this.g,"a")},Ss.prototype.qa=function(p){Bt(this.g,new Cp(p))},Ss.prototype.pa=function(p){Bt(this.g,new xp)},Ss.prototype.oa=function(){Bt(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,PD=function(){return new ya},xD=function(){return Kl()},CD=Wt,bb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Do.NO_ERROR=0,Do.TIMEOUT=8,Do.HTTP_ERROR=6,ug=Do,th.COMPLETE="complete",RD=th,op.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",Ft.prototype.listen=Ft.prototype.J,Of=op,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,ID=pt}).apply(typeof Bm<"u"?Bm:typeof self<"u"?self:typeof window<"u"?window:{});const B1="@firebase/firestore",z1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let In=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Ry("@firebase/firestore");function Gu(){return lo.logLevel}function oq(n){lo.setLogLevel(n)}function me(n,...e){if(lo.logLevel<=He.DEBUG){const t=e.map(tT);lo.debug(`Firestore (${Kc}): ${n}`,...t)}}function Jt(n,...e){if(lo.logLevel<=He.ERROR){const t=e.map(tT);lo.error(`Firestore (${Kc}): ${n}`,...t)}}function ps(n,...e){if(lo.logLevel<=He.WARN){const t=e.map(tT);lo.warn(`Firestore (${Kc}): ${n}`,...t)}}function tT(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,OD(n,r,t)}function OD(n,e,t){let r=`FIRESTORE (${Kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Jt(r),new Error(r)}function Ae(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||OD(e,s,r)}function lq(n,e){n||Te(57014,e)}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(In.UNAUTHENTICATED)))}shutdown(){}}class cq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hq{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Un,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},h=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Un)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new DD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class fq{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dq{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new fq(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pq{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ot(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);const r=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new j1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mq(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function Tb(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return zE(s)===zE(o)?ke(s,o):zE(s)?1:-1}return ke(n.length,e.length)}const gq=55296,yq=57343;function zE(n){const e=n.charCodeAt(0);return e>=gq&&e<=yq}function mc(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function ND(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="__name__";class Yi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Yi.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return ke(e.length,t.length)}static compareSegments(e,t){const r=Yi.isNumericId(e),s=Yi.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Yi.extractNumericId(e).compare(Yi.extractNumericId(t)):Tb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Za.fromString(e.substring(4,e.length-2))}}class $e extends Yi{construct(e,t,r){return new $e(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new $e(t)}static emptyPath(){return new $e([])}}const _q=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Yi{construct(e,t,r){return new Dt(e,t,r)}static isValidIdentifier(e){return _q.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q1}static keyField(){return new Dt([q1])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new de(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(o(),s++)}if(o(),u)throw new de(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve($e.fromString(e))}static fromName(e){return new ve($e.fromString(e).popFirst(5))}static empty(){return new ve($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new $e(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n,e,t){if(!t)throw new de(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kD(n,e,t,r){if(e===!0&&r===!0)throw new de(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function H1(n){if(!ve.isDocumentKey(n))throw new de(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $1(n){if(ve.isDocumentKey(n))throw new de(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function MD(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function By(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function tt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=By(n);throw new de(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function VD(n,e){if(e<=0)throw new de(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Hd(n,e){if(!MD(n))throw new de(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new de(ie.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=-62135596800,K1=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*K1);return new at(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<G1)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K1}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hd(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:gn("string",at._jsonSchemaVersion),seconds:gn("number"),nanoseconds:gn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new at(0,0))}static max(){return new Re(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=-1;class Ug{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function wb(n){return n.fields.find((e=>e.kind===2))}function ll(n){return n.fields.filter((e=>e.kind!==2))}Ug.UNKNOWN_ID=-1;class cg{constructor(e,t){this.fieldPath=e,this.kind=t}}class cd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cd(0,Ur.min())}}function LD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(r===1e9?new at(t+1,0):new at(t,r));return new Ur(s,ve.empty(),e)}function UD(n){return new Ur(n.readTime,n.key,gc)}class Ur{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ur(Re.min(),ve.empty(),gc)}static max(){return new Ur(Re.max(),ve.empty(),gc)}}function iT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==FD)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,r)=>{t(e)}))}static reject(e){return new J(((t,r)=>{r(e)}))}static waitFor(e){return new J(((t,r)=>{let s=0,o=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&t()}),(d=>r(d)))})),u=!0,o===s&&t()}))}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next((s=>s?J.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new J(((r,s)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next((g=>{u[f]=g,++h,h===o&&r(u)}),(g=>s(g)))}}))}static doWhile(e,t){return new J(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="SimpleDb";class zy{static open(e,t,r,s){try{return new zy(t,e.transaction(s,r))}catch(o){throw new qf(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Un,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new qf(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=sT(r.target.error);this.S.reject(new qf(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(me(Or,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Eq(t)}}class ls{static delete(e){return me(Or,"Removing database:",e),cl(P0().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!id())return!1;if(ls.F())return!0;const e=Lt(),t=ls.M(e),r=0<t&&t<10,s=zD(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,ls.M(Lt())===12.2&&Jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(me(Or,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const u=o.target.result;t(u)},s.onblocked=()=>{r(new qf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new de(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new de(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new qf(e,u))},s.onupgradeneeded=o=>{me(Or,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,s.transaction,o.oldVersion,this.version).next((()=>{me(Or,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=zy.open(this.db,e,o?"readonly":"readwrite",r),d=s(h).next((f=>(h.C(),f))).catch((f=>(h.abort(f),J.reject(f)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,f=d.name!=="FirebaseError"&&u<3;if(me(Or,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function zD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class vq{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return cl(this.U.delete())}}class qf extends de{constructor(e,t){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function To(n){return n.name==="IndexedDbTransactionError"}class Eq{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(me(Or,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(me(Or,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),cl(r)}add(e){return me(Or,"ADD",this.store.name,e,e),cl(this.store.add(e))}get(e){return cl(this.store.get(e)).next((t=>(t===void 0&&(t=null),me(Or,"GET",this.store.name,e,t),t)))}delete(e){return me(Or,"DELETE",this.store.name,e),cl(this.store.delete(e))}count(){return me(Or,"COUNT",this.store.name),cl(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(r.range);return new J(((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}}))}{const o=this.cursor(r),u=[];return this.H(o,((h,d)=>{u.push(d)})).next((()=>u))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new J(((s,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{s(u.target.result)}}))}Z(e,t){me(Or,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,((o,u,h)=>h.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}te(e){const t=this.cursor({});return new J(((r,s)=>{t.onerror=o=>{const u=sT(o.target.error);s(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():r()})):r()}}))}H(e,t){const r=[];return new J(((s,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void s();const d=new vq(h),f=t(h.primaryKey,h.value,d);if(f instanceof J){const g=f.catch((_=>(d.done(),J.reject(_))));r.push(g)}d.isDone?s():d.G===null?h.continue():h.continue(d.G)}})).next((()=>J.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function cl(n){return new J(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=sT(r.target.error);t(s)}}))}let W1=!1;function sT(n){const e=ls.M(Lt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return W1||(W1=!0,setTimeout((()=>{throw r}),0)),r}}return n}const Hf="IndexBackfiller";class bq{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){me(Hf,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();me(Hf,`Documents written: ${t}`)}catch(t){To(t)?me(Hf,"Ignoring IndexedDB error during index backfill: ",t):await bo(t)}await this.re(6e4)}))}}class Tq{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,o=!0;return J.doWhile((()=>o===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!r.has(u))return me(Hf,`Processing collection: ${u}`),this.oe(e,u,s).next((h=>{s-=h,r.add(u)}));o=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(s,o))).next((h=>(me(Hf,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>u.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,o)=>{const u=UD(o);iT(u,r)>0&&(r=u)})),new Ur(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=-1;function $d(n){return n==null}function hd(n){return n===0&&1/n==-1/0}function jD(n){return typeof n=="number"&&Number.isInteger(n)&&!hd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="";function Kn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Q1(e)),e=wq(n.get(t),e);return Q1(e)}function wq(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Fg:t+="";break;default:t+=o}}return t}function Q1(n){return n+Fg+""}function ss(n){const e=n.length;if(Ae(e>=2,64408,{path:n}),e===2)return Ae(n.charAt(0)===Fg&&n.charAt(1)==="",56145,{path:n}),$e.emptyPath();const t=e-2,r=[];let s="";for(let o=0;o<e;){const u=n.indexOf(Fg,o);switch((u<0||u>t)&&Te(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let d;s.length===0?d=h:(s+=h,d=s,s=""),r.push(d);break;case"":s+=n.substring(o,u),s+="\0";break;case"":s+=n.substring(o,u+1);break;default:Te(61167,{path:n})}o=u+2}return new $e(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="remoteDocuments",Gd="owner",Bu="owner",fd="mutationQueues",Sq="userId",vi="mutations",Y1="batchId",_l="userMutationsIndex",X1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(n,e){return[n,Kn(e)]}function qD(n,e,t){return[n,Kn(e),t]}const Aq={},yc="documentMutations",Bg="remoteDocumentsV14",Iq=["prefixPath","collectionGroup","readTime","documentId"],fg="documentKeyIndex",Rq=["prefixPath","collectionGroup","documentId"],HD="collectionGroupIndex",Cq=["collectionGroup","readTime","prefixPath","documentId"],dd="remoteDocumentGlobal",Sb="remoteDocumentGlobalKey",_c="targets",$D="queryTargetsIndex",xq=["canonicalId","targetId"],vc="targetDocuments",Pq=["targetId","path"],aT="documentTargetsIndex",Oq=["path","targetId"],zg="targetGlobalKey",Al="targetGlobal",pd="collectionParents",Dq=["collectionId","parent"],Ec="clientMetadata",Nq="clientId",jy="bundles",kq="bundleId",qy="namedQueries",Mq="name",oT="indexConfiguration",Vq="indexId",Ab="collectionGroupIndex",Lq="collectionGroup",$f="indexState",Uq=["indexId","uid"],GD="sequenceNumberIndex",Fq=["uid","sequenceNumber"],Gf="indexEntries",Bq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],KD="documentKeyIndex",zq=["indexId","uid","orderedDocumentKey"],Hy="documentOverlays",jq=["userId","collectionPath","documentId"],Ib="collectionPathOverlayIndex",qq=["userId","collectionPath","largestBatchId"],WD="collectionGroupOverlayIndex",Hq=["userId","collectionGroup","largestBatchId"],lT="globals",$q="name",QD=[fd,vi,yc,ul,_c,Gd,Al,vc,Ec,dd,pd,jy,qy],Gq=[...QD,Hy],YD=[fd,vi,yc,Bg,_c,Gd,Al,vc,Ec,dd,pd,jy,qy,Hy],XD=YD,uT=[...XD,oT,$f,Gf],Kq=uT,JD=[...uT,lT],Wq=JD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb extends BD{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function bn(n,e){const t=Ee(n);return ls.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||Mn.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zm(this.root,e,this.comparator,!1)}getReverseIterator(){return new zm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zm(this.root,e,this.comparator,!0)}}class zm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mn{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Mn.RED,this.left=s??Mn.EMPTY,this.right=o??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Mn(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Mn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new Mn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Z1(this.data.getIterator())}getIteratorFrom(e){return new Z1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dt(this.comparator);return t.data=e,t}}class Z1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new gr([])}unionWith(e){let t=new dt(Dt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new gr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new e2("Invalid base64 string: "+o):o}})(e);return new $t(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const Yq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(n){if(Ae(!!n,39018),typeof n=="string"){let e=0;const t=Yq.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(n.seconds),nanos:Pt(n.nanos)}}function Pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ta(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="server_timestamp",n2="__type__",r2="__previous_value__",i2="__local_write_time__";function $y(n){return(n?.mapValue?.fields||{})[n2]?.stringValue===t2}function Gy(n){const e=n.mapValue.fields[r2];return $y(e)?Gy(e):e}function md(n){const e=ea(n.mapValue.fields[i2].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,t,r,s,o,u,h,d,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g}}const Cb="(default)";class uo{constructor(e,t){this.projectId=e,this.database=t||Cb}static empty(){return new uo("","")}get isDefaultDatabase(){return this.database===Cb}isEqual(e){return e instanceof uo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="__type__",s2="__max__",Ka={mapValue:{fields:{__type__:{stringValue:s2}}}},hT="__vector__",bc="value",dg={nullValue:"NULL_VALUE"};function co(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$y(n)?4:a2(n)?9007199254740991:Ky(n)?10:11:Te(28295,{value:n})}function ms(n,e){if(n===e)return!0;const t=co(n);if(t!==co(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return md(n).isEqual(md(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=ea(s.timestampValue),h=ea(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return ta(s.bytesValue).isEqual(ta(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Pt(s.geoPointValue.latitude)===Pt(o.geoPointValue.latitude)&&Pt(s.geoPointValue.longitude)===Pt(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Pt(s.integerValue)===Pt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Pt(s.doubleValue),h=Pt(o.doubleValue);return u===h?hd(u)===hd(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return mc(n.arrayValue.values||[],e.arrayValue.values||[],ms);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(J1(u)!==J1(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!ms(u[d],h[d])))return!1;return!0})(n,e);default:return Te(52216,{left:n})}}function gd(n,e){return(n.values||[]).find((t=>ms(t,e)))!==void 0}function ho(n,e){if(n===e)return 0;const t=co(n),r=co(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=Pt(o.integerValue||o.doubleValue),d=Pt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return eC(n.timestampValue,e.timestampValue);case 4:return eC(md(n),md(e));case 5:return Tb(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=ta(o),d=ta(u);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let f=0;f<h.length&&f<d.length;f++){const g=ke(h[f],d[f]);if(g!==0)return g}return ke(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=ke(Pt(o.latitude),Pt(u.latitude));return h!==0?h:ke(Pt(o.longitude),Pt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return tC(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},d=u.fields||{},f=h[bc]?.arrayValue,g=d[bc]?.arrayValue,_=ke(f?.values?.length||0,g?.values?.length||0);return _!==0?_:tC(f,g)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Ka.mapValue&&u===Ka.mapValue)return 0;if(o===Ka.mapValue)return 1;if(u===Ka.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),f=u.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const v=Tb(d[_],g[_]);if(v!==0)return v;const S=ho(h[d[_]],f[g[_]]);if(S!==0)return S}return ke(d.length,g.length)})(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function eC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=ea(n),r=ea(e),s=ke(t.seconds,r.seconds);return s!==0?s:ke(t.nanos,r.nanos)}function tC(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=ho(t[s],r[s]);if(o)return o}return ke(t.length,r.length)}function Tc(n){return xb(n)}function xb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ea(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ta(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ve.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=xb(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${xb(t.fields[u])}`;return s+"}"})(n.mapValue):Te(61005,{value:n})}function pg(n){switch(co(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gy(n);return e?16+pg(e):16;case 5:return 2*n.stringValue.length;case 6:return ta(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+pg(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return wo(r.fields,((o,u)=>{s+=o.length+pg(u)})),s})(n.mapValue);default:throw Te(13486,{value:n})}}function xl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Pb(n){return!!n&&"integerValue"in n}function yd(n){return!!n&&"arrayValue"in n}function nC(n){return!!n&&"nullValue"in n}function rC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mg(n){return!!n&&"mapValue"in n}function Ky(n){return(n?.mapValue?.fields||{})[cT]?.stringValue===hT}function Kf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return wo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Kf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kf(n.arrayValue.values[t]);return e}return{...n}}function a2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===s2}const o2={mapValue:{fields:{[cT]:{stringValue:hT},[bc]:{arrayValue:{}}}}};function Jq(n){return"nullValue"in n?dg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?xl(uo.empty(),ve.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Ky(n)?o2:{mapValue:{}}:Te(35942,{value:n})}function Zq(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?xl(uo.empty(),ve.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?o2:"mapValue"in n?Ky(n)?{mapValue:{}}:Ka:Te(61959,{value:n})}function iC(n,e){const t=ho(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function sC(n,e){const t=ho(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kf(t)}setAll(e){let t=Dt.emptyPath(),r={},s=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Kf(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());mg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ms(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];mg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){wo(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Ln(Kf(this.value))}}function l2(n){const e=[];return wo(n.fields,((t,r)=>{const s=new Dt([t]);if(mg(r)){const o=l2(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t,r,s,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new It(e,0,Re.min(),Re.min(),Re.min(),Ln.empty(),0)}static newFoundDocument(e,t,r,s){return new It(e,1,t,Re.min(),r,s,0)}static newNoDocument(e,t){return new It(e,2,t,Re.min(),Re.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new It(e,3,t,Re.min(),Re.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t){this.position=e,this.inclusive=t}}function aC(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(u.referenceValue),t.key):r=ho(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function oC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ms(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t="asc"){this.field=e,this.dir=t}}function e7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{}class We extends u2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new t7(e,t,r):t==="array-contains"?new i7(e,r):t==="in"?new m2(e,r):t==="not-in"?new s7(e,r):t==="array-contains-any"?new a7(e,r):new We(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new n7(e,r):new r7(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ho(t,this.value)):t!==null&&co(this.value)===co(t)&&this.matchesComparison(ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ft extends u2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ft(e,t)}matches(e){return wc(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wc(n){return n.op==="and"}function Ob(n){return n.op==="or"}function fT(n){return c2(n)&&wc(n)}function c2(n){for(const e of n.filters)if(e instanceof ft)return!1;return!0}function Db(n){if(n instanceof We)return n.field.canonicalString()+n.op.toString()+Tc(n.value);if(fT(n))return n.filters.map((e=>Db(e))).join(",");{const e=n.filters.map((t=>Db(t))).join(",");return`${n.op}(${e})`}}function h2(n,e){return n instanceof We?(function(r,s){return s instanceof We&&r.op===s.op&&r.field.isEqual(s.field)&&ms(r.value,s.value)})(n,e):n instanceof ft?(function(r,s){return s instanceof ft&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,h)=>o&&h2(u,s.filters[h])),!0):!1})(n,e):void Te(19439)}function f2(n,e){const t=n.filters.concat(e);return ft.create(t,n.op)}function d2(n){return n instanceof We?(function(t){return`${t.field.canonicalString()} ${t.op} ${Tc(t.value)}`})(n):n instanceof ft?(function(t){return t.op.toString()+" {"+t.getFilters().map(d2).join(" ,")+"}"})(n):"Filter"}class t7 extends We{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class n7 extends We{constructor(e,t){super(e,"in",t),this.keys=p2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class r7 extends We{constructor(e,t){super(e,"not-in",t),this.keys=p2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function p2(n,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class i7 extends We{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yd(t)&&gd(t.arrayValue,this.value)}}class m2 extends We{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gd(this.value.arrayValue,t)}}class s7 extends We{constructor(e,t){super(e,"not-in",t)}matches(e){if(gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gd(this.value.arrayValue,t)}}class a7 extends We{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>gd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,t=null,r=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function Nb(n,e=null,t=[],r=[],s=null,o=null,u=null){return new o7(n,e,t,r,s,o,u)}function Pl(n){const e=Ee(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Db(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),$d(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Tc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Tc(r))).join(",")),e.Te=t}return e.Te}function Kd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!e7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!h2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oC(n.startAt,e.startAt)&&oC(n.endAt,e.endAt)}function jg(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function qg(n,e){return n.filters.filter((t=>t instanceof We&&t.field.isEqual(e)))}function lC(n,e,t){let r=dg,s=!0;for(const o of qg(n,e)){let u=dg,h=!0;switch(o.op){case"<":case"<=":u=Jq(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=dg}iC({value:r,inclusive:s},{value:u,inclusive:h})<0&&(r=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];iC({value:r,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}function uC(n,e,t){let r=Ka,s=!0;for(const o of qg(n,e)){let u=Ka,h=!0;switch(o.op){case">=":case">":u=Zq(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Ka}sC({value:r,inclusive:s},{value:u,inclusive:h})>0&&(r=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];sC({value:r,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t=null,r=[],s=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function g2(n,e,t,r,s,o,u,h){return new sa(n,e,t,r,s,o,u,h)}function Wc(n){return new sa(n)}function cC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dT(n){return n.collectionGroup!==null}function sc(n){const e=Ee(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new dt(Dt.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new _d(o,r))})),t.has(Dt.keyField().canonicalString())||e.Ie.push(new _d(Dt.keyField(),r))}return e.Ie}function rr(n){const e=Ee(n);return e.Ee||(e.Ee=l7(e,sc(n))),e.Ee}function l7(n,e){if(n.limitType==="F")return Nb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new _d(s.field,o)}));const t=n.endAt?new fo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fo(n.startAt.position,n.startAt.inclusive):null;return Nb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function kb(n,e){const t=n.filters.concat([e]);return new sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hg(n,e,t){return new sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wd(n,e){return Kd(rr(n),rr(e))&&n.limitType===e.limitType}function y2(n){return`${Pl(rr(n))}|lt:${n.limitType}`}function Ku(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>d2(s))).join(", ")}]`),$d(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Tc(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Tc(s))).join(",")),`Target(${r})`})(rr(n))}; limitType=${n.limitType})`}function Qd(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of sc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,h,d){const f=aC(u,h,d);return u.inclusive?f<=0:f<0})(r.startAt,sc(r),s)||r.endAt&&!(function(u,h,d){const f=aC(u,h,d);return u.inclusive?f>=0:f>0})(r.endAt,sc(r),s))})(n,e)}function _2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function v2(n){return(e,t)=>{let r=!1;for(const s of sc(n)){const o=u7(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function u7(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):(function(o,u,h){const d=u.data.field(o),f=h.data.field(o);return d!==null&&f!==null?ho(d,f):Te(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return ZD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=new wt(ve.comparator);function yr(){return c7}const E2=new wt(ve.comparator);function Df(...n){let e=E2;for(const t of n)e=e.insert(t.key,t);return e}function b2(n){let e=E2;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function as(){return Wf()}function T2(){return Wf()}function Wf(){return new aa((n=>n.toString()),((n,e)=>n.isEqual(e)))}const h7=new wt(ve.comparator),f7=new dt(ve.comparator);function Fe(...n){let e=f7;for(const t of n)e=e.add(t);return e}const d7=new dt(ke);function pT(){return d7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function w2(n){return{integerValue:""+n}}function S2(n,e){return jD(e)?w2(e):mT(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this._=void 0}}function p7(n,e,t){return n instanceof Sc?(function(s,o){const u={fields:{[n2]:{stringValue:t2},[i2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&$y(o)&&(o=Gy(o)),o&&(u.fields[r2]=o),{mapValue:u}})(t,e):n instanceof Ol?I2(n,e):n instanceof Dl?R2(n,e):(function(s,o){const u=A2(s,o),h=hC(u)+hC(s.Ae);return Pb(u)&&Pb(s.Ae)?w2(h):mT(s.serializer,h)})(n,e)}function m7(n,e,t){return n instanceof Ol?I2(n,e):n instanceof Dl?R2(n,e):t}function A2(n,e){return n instanceof Ac?(function(r){return Pb(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Sc extends Wy{}class Ol extends Wy{constructor(e){super(),this.elements=e}}function I2(n,e){const t=C2(e);for(const r of n.elements)t.some((s=>ms(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Dl extends Wy{constructor(e){super(),this.elements=e}}function R2(n,e){let t=C2(e);for(const r of n.elements)t=t.filter((s=>!ms(s,r)));return{arrayValue:{values:t}}}class Ac extends Wy{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function hC(n){return Pt(n.integerValue||n.doubleValue)}function C2(n){return yd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t){this.field=e,this.transform=t}}function g7(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Ol&&s instanceof Ol||r instanceof Dl&&s instanceof Dl?mc(r.elements,s.elements,ms):r instanceof Ac&&s instanceof Ac?ms(r.Ae,s.Ae):r instanceof Sc&&s instanceof Sc})(n.transform,e.transform)}class y7{constructor(e,t){this.version=e,this.transformResults=t}}class Nt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nt}static exists(e){return new Nt(void 0,e)}static updateTime(e){return new Nt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Qy{}function x2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Yc(n.key,Nt.none()):new Qc(n.key,n.data,Nt.none());{const t=n.data,r=Ln.empty();let s=new dt(Dt.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new oa(n.key,r,new gr(s.toArray()),Nt.none())}}function _7(n,e,t){n instanceof Qc?(function(s,o,u){const h=s.value.clone(),d=dC(s.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof oa?(function(s,o,u){if(!gg(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=dC(s.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(P2(s)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Qf(n,e,t,r){return n instanceof Qc?(function(o,u,h,d){if(!gg(o.precondition,u))return h;const f=o.value.clone(),g=pC(o.fieldTransforms,d,u);return f.setAll(g),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof oa?(function(o,u,h,d){if(!gg(o.precondition,u))return h;const f=pC(o.fieldTransforms,d,u),g=u.data;return g.setAll(P2(o)),g.setAll(f),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(o,u,h){return gg(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function v7(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=A2(r.transform,s||null);o!=null&&(t===null&&(t=Ln.empty()),t.set(r.field,o))}return t||null}function fC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&mc(r,s,((o,u)=>g7(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qc extends Qy{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class oa extends Qy{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function P2(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function dC(n,e,t){const r=new Map;Ae(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,h=e.data.field(o.field);r.set(o.field,m7(u,h,t[s]))}return r}function pC(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,p7(o,u,e))}return r}class Yc extends Qy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gT extends Qy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&_7(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Qf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=T2();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(s.key)?null:h;const d=x2(u,h);d!==null&&r.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,((t,r)=>fC(t,r)))&&mc(this.baseMutations,e.baseMutations,((t,r)=>fC(t,r)))}}class _T{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return h7})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new _T(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,Xe;function O2(n){switch(n){case ie.OK:return Te(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function D2(n){if(n===void 0)return Jt("GRPC error has no .code"),ie.UNKNOWN;switch(n){case dn.OK:return ie.OK;case dn.CANCELLED:return ie.CANCELLED;case dn.UNKNOWN:return ie.UNKNOWN;case dn.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case dn.INTERNAL:return ie.INTERNAL;case dn.UNAVAILABLE:return ie.UNAVAILABLE;case dn.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case dn.NOT_FOUND:return ie.NOT_FOUND;case dn.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case dn.ABORTED:return ie.ABORTED;case dn.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case dn.DATA_LOSS:return ie.DATA_LOSS;default:return Te(39323,{code:n})}}(Xe=dn||(dn={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=new Za([4294967295,4294967295],0);function mC(n){const e=N2().encode(n),t=new AD;return t.update(e),new Uint8Array(t.digest())}function gC(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Za([t,r],0),new Za([s,o],0)]}class ET{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nf(`Invalid padding: ${t}`);if(r<0)throw new Nf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Nf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Za.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Za.fromNumber(r)));return s.compare(b7)===1&&(s=new Za([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=mC(e),[r,s]=gC(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new ET(o,s,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=mC(e),[r,s]=gC(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Nf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Jd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Xd(Re.min(),s,new wt(ke),yr(),Fe())}}class Jd{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Jd(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class k2{constructor(e,t){this.targetId=e,this.Ce=t}}class M2{constructor(e,t,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class yC{constructor(){this.ve=0,this.Fe=_C(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),r=Fe();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Te(38017,{changeType:o})}})),new Jd(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=_C()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class T7{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.Je=jm(),this.He=jm(),this.Ye=new wt(ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(jg(o))if(r===0){const u=new ve(o.path);this.et(t,u,It.newNoDocument(u,Re.min()))}else Ae(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,h;try{u=ta(r).toUint8Array()}catch(d){if(d instanceof e2)return ps("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new ET(u,s,o)}catch(d){return ps(d instanceof Nf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&jg(h.target)){const d=new ve(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,It.newNoDocument(d,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let r=Fe();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new Xd(e,t,this.Ye,this.je,r);return this.je=yr(),this.Je=jm(),this.He=jm(),this.Ye=new wt(ke),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new yC,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new dt(ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new dt(ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yC),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function jm(){return new wt(ve.comparator)}function _C(){return new wt(ve.comparator)}const w7={asc:"ASCENDING",desc:"DESCENDING"},S7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A7={and:"AND",or:"OR"};class I7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mb(n,e){return n.useProto3Json||$d(e)?e:{value:e}}function Ic(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function R7(n,e){return Ic(n,e.toTimestamp())}function Zt(n){return Ae(!!n,49232),Re.fromTimestamp((function(t){const r=ea(t);return new at(r.seconds,r.nanos)})(n))}function bT(n,e){return Vb(n,e).canonicalString()}function Vb(n,e){const t=(function(s){return new $e(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function L2(n){const e=$e.fromString(n);return Ae(K2(e),10190,{key:e.toString()}),e}function vd(n,e){return bT(n.databaseId,e.path)}function us(n,e){const t=L2(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(B2(t))}function U2(n,e){return bT(n.databaseId,e)}function F2(n){const e=L2(n);return e.length===4?$e.emptyPath():B2(e)}function Lb(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B2(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vC(n,e,t){return{name:vd(n,e),fields:t.value.mapValue.fields}}function z2(n,e,t){const r=us(n,e.name),s=Zt(e.updateTime),o=e.createTime?Zt(e.createTime):Re.min(),u=new Ln({mapValue:{fields:e.fields}}),h=It.newFoundDocument(r,s,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function C7(n,e){return"found"in e?(function(r,s){Ae(!!s.found,43571),s.found.name,s.found.updateTime;const o=us(r,s.found.name),u=Zt(s.found.updateTime),h=s.found.createTime?Zt(s.found.createTime):Re.min(),d=new Ln({mapValue:{fields:s.found.fields}});return It.newFoundDocument(o,u,h,d)})(n,e):"missing"in e?(function(r,s){Ae(!!s.missing,3894),Ae(!!s.readTime,22933);const o=us(r,s.missing),u=Zt(s.readTime);return It.newNoDocument(o,u)})(n,e):Te(7234,{result:e})}function x7(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Te(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(Ae(g===void 0||typeof g=="string",58123),$t.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$t.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(f){const g=f.code===void 0?ie.UNKNOWN:D2(f.code);return new de(g,f.message||"")})(u);t=new M2(r,s,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=us(n,r.document.name),o=Zt(r.document.updateTime),u=r.document.createTime?Zt(r.document.createTime):Re.min(),h=new Ln({mapValue:{fields:r.document.fields}}),d=It.newFoundDocument(s,o,u,h),f=r.targetIds||[],g=r.removedTargetIds||[];t=new yg(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=us(n,r.document),o=r.readTime?Zt(r.readTime):Re.min(),u=It.newNoDocument(s,o),h=r.removedTargetIds||[];t=new yg([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=us(n,r.document),o=r.removedTargetIds||[];t=new yg([],o,s,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new E7(s,o),h=r.targetId;t=new k2(h,u)}}return t}function Ed(n,e){let t;if(e instanceof Qc)t={update:vC(n,e.key,e.value)};else if(e instanceof Yc)t={delete:vd(n,e.key)};else if(e instanceof oa)t={update:vC(n,e.key,e.data),updateMask:M7(e.fieldMask)};else{if(!(e instanceof gT))return Te(16599,{Vt:e.type});t={verify:vd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof Sc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ol)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Dl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ac)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:R7(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te(27497)})(n,e.precondition)),t}function Ub(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?Nt.updateTime(Zt(o.updateTime)):o.exists!==void 0?Nt.exists(o.exists):Nt.none()})(e.currentDocument):Nt.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(u,h){let d=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Sc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];d=new Ol(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];d=new Dl(g)}else"increment"in h?d=new Ac(u,h.increment):Te(16584,{proto:h});const f=Dt.fromServerFormat(h.fieldPath);return new Yd(f,d)})(n,s))):[];if(e.update){e.update.name;const s=us(n,e.update.name),o=new Ln({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(d){const f=d.fieldPaths||[];return new gr(f.map((g=>Dt.fromServerFormat(g))))})(e.updateMask);return new oa(s,o,u,t,r)}return new Qc(s,o,t,r)}if(e.delete){const s=us(n,e.delete);return new Yc(s,t)}if(e.verify){const s=us(n,e.verify);return new gT(s,t)}return Te(1463,{proto:e})}function P7(n,e){return n&&n.length>0?(Ae(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?Zt(s.updateTime):Zt(o);return u.isEqual(Re.min())&&(u=Zt(o)),new y7(u,s.transformResults||[])})(t,e)))):[]}function j2(n,e){return{documents:[U2(n,e.path)]}}function q2(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=U2(n,s);const o=(function(f){if(f.length!==0)return G2(ft.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(f){if(f.length!==0)return f.map((g=>(function(v){return{field:Wu(v.field),direction:D7(v.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Mb(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:s}}function H2(n){let e=F2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ae(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(_){const v=$2(_);return v instanceof ft&&fT(v)?v.getFilters():[v]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((v=>(function(w){return new _d(Qu(w.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(v)))})(t.orderBy));let h=null;t.limit&&(h=(function(_){let v;return v=typeof _=="object"?_.value:_,$d(v)?null:v})(t.limit));let d=null;t.startAt&&(d=(function(_){const v=!!_.before,S=_.values||[];return new fo(S,v)})(t.startAt));let f=null;return t.endAt&&(f=(function(_){const v=!_.before,S=_.values||[];return new fo(S,v)})(t.endAt)),g2(e,s,u,o,h,"F",d,f)}function O7(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $2(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Qu(t.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Qu(t.unaryFilter.field);return We.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Qu(t.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Qu(t.unaryFilter.field);return We.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(n):n.fieldFilter!==void 0?(function(t){return We.create(Qu(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ft.create(t.compositeFilter.filters.map((r=>$2(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(n):Te(30097,{filter:n})}function D7(n){return w7[n]}function N7(n){return S7[n]}function k7(n){return A7[n]}function Wu(n){return{fieldPath:n.canonicalString()}}function Qu(n){return Dt.fromServerFormat(n.fieldPath)}function G2(n){return n instanceof We?(function(t){if(t.op==="=="){if(rC(t.value))return{unaryFilter:{field:Wu(t.field),op:"IS_NAN"}};if(nC(t.value))return{unaryFilter:{field:Wu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rC(t.value))return{unaryFilter:{field:Wu(t.field),op:"IS_NOT_NAN"}};if(nC(t.value))return{unaryFilter:{field:Wu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(t.field),op:N7(t.op),value:t.value}}})(n):n instanceof ft?(function(t){const r=t.getFilters().map((s=>G2(s)));return r.length===1?r[0]:{compositeFilter:{op:k7(t.op),filters:r}}})(n):Te(54877,{filter:n})}function M7(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function K2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t,r,s,o=Re.min(),u=Re.min(),h=$t.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.yt=e}}function V7(n,e){let t;if(e.document)t=z2(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),s=kl(e.noDocument.readTime);t=It.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Te(56709);{const r=ve.fromSegments(e.unknownDocument.path),s=kl(e.unknownDocument.version);t=It.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const o=new at(s[0],s[1]);return Re.fromTimestamp(o)})(e.readTime)),t}function EC(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:$g(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,u){return{name:vd(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Ic(o,u.version.toTimestamp()),createTime:Ic(o,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Nl(e.version)};else{if(!e.isUnknownDocument())return Te(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Nl(e.version)}}return r}function $g(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Nl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function kl(n){const e=new at(n.seconds,n.nanoseconds);return Re.fromTimestamp(e)}function hl(n,e){const t=(e.baseMutations||[]).map((o=>Ub(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>Ub(n.yt,o))),s=at.fromMillis(e.localWriteTimeMs);return new yT(e.batchId,s,t,r)}function kf(n){const e=kl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?kl(n.lastLimboFreeSnapshotVersion):Re.min();let r;return r=(function(o){return o.documents!==void 0})(n.query)?(function(o){const u=o.documents.length;return Ae(u===1,1966,{count:u}),rr(Wc(F2(o.documents[0])))})(n.query):(function(o){return rr(H2(o))})(n.query),new $s(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,$t.fromBase64String(n.resumeToken))}function Q2(n,e){const t=Nl(e.snapshotVersion),r=Nl(e.lastLimboFreeSnapshotVersion);let s;s=jg(e.target)?j2(n.yt,e.target):q2(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function TT(n){const e=H2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hg(e,e.limit,"L"):e}function jE(n,e){return new vT(e.largestBatchId,Ub(n.yt,e.overlayMutation))}function bC(n,e){const t=e.path.lastSegment();return[n,Kn(e.path.popLast()),t]}function TC(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Nl(r.readTime),documentKey:Kn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{getBundleMetadata(e,t){return wC(e).get(t).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:kl(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,t){return wC(e).put((function(s){return{bundleId:s.id,createTime:Nl(Zt(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return SC(e).get(t).next((r=>{if(r)return(function(o){return{name:o.name,query:TT(o.bundledQuery),readTime:kl(o.readTime)}})(r)}))}saveNamedQuery(e,t){return SC(e).put((function(s){return{name:s.name,readTime:Nl(Zt(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function wC(n){return bn(n,jy)}function SC(n){return bn(n,qy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new Yy(e,r)}getOverlay(e,t){return yf(e).get(bC(this.userId,t)).next((r=>r?jE(this.serializer,r):null))}getOverlays(e,t){const r=as();return J.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((o,u)=>{const h=new vT(t,u);s.push(this.St(e,h))})),J.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((u=>s.add(Kn(u.getCollectionPath()))));const o=[];return s.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(yf(e).Z(Ib,h))})),J.waitFor(o)}getOverlaysForCollection(e,t,r){const s=as(),o=Kn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return yf(e).J(Ib,u).next((h=>{for(const d of h){const f=jE(this.serializer,d);s.set(f.getKey(),f)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const o=as();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yf(e).ee({index:WD,range:h},((d,f,g)=>{const _=jE(this.serializer,f);o.size()<s||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()})).next((()=>o))}St(e,t){return yf(e).put((function(s,o,u){const[h,d,f]=bC(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Ed(s.yt,u.mutation)}})(this.serializer,this.userId,t))}}function yf(n){return bn(n,Hy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{bt(e){return bn(e,lT)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?$t.fromUint8Array(r):$t.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Pt(e.integerValue));else if("doubleValue"in e){const r=Pt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),hd(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=ea(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ta(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?a2(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Ky(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Te(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=bc,o=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Pt(o)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),ve.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}fl.Kt=new fl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=255;function F7(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function AC(n){const e=64-(function(r){let s=0;for(let o=0;o<8;++o){const u=F7(255&r[o]);if(s+=u,u!==8)break}return s})(n);return Math.ceil(e/8)}class B7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),r=AC(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=AC(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(ju),this.sn(255)}_n(){this.an(ju),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===ju?(this.sn(ju),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===ju?(this.an(ju),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class z7{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class j7{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class _f{constructor(){this.cn=new B7,this.ln=new z7(this.cn),this.hn=new j7(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t,r,s){this.Tn=e,this.In=t,this.En=r,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new dl(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:_g(this.En),directionalValue:_g(this.dn),orderedDocumentKey:_g(t),documentKey:r.path.toArray()}}Vn(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function za(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=IC(n.En,e.En),t!==0?t:(t=IC(n.dn,e.dn),t!==0?t:ve.comparator(n.In,e.In)))}function IC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function _g(n){return mO()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function RC(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class CC{constructor(e){this.mn=new dt(((t,r)=>Dt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ae(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=wb(e);if(t!==void 0&&!this.wn(t))return!1;const r=ll(e);let s=new Set,o=0,u=0;for(;o<r.length&&this.wn(r[o]);++o)s=s.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!s.has(h.field.canonicalString())){const d=r[o];if(!this.Sn(h,d)||!this.bn(this.fn[u++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.fn.length||!this.bn(this.fn[u++],h))return!1}return!0}Dn(){if(this.pn)return null;let e=new dt(Dt.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new cg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new cg(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new cg(r.field,r.dir==="asc"?0:1)));return new Ug(Ug.UNKNOWN_ID,this.collectionId,t,cd.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(n){if(Ae(n instanceof We||n instanceof ft,20012),n instanceof We){if(n instanceof m2){const t=n.value.arrayValue?.values?.map((r=>We.create(n.field,"==",r)))||[];return ft.create(t,"or")}return n}const e=n.filters.map((t=>Y2(t)));return ft.create(e,n.op)}function q7(n){if(n.getFilters().length===0)return[];const e=zb(Y2(n));return Ae(X2(e),7391),Fb(e)||Bb(e)?[e]:e.getFilters()}function Fb(n){return n instanceof We}function Bb(n){return n instanceof ft&&fT(n)}function X2(n){return Fb(n)||Bb(n)||(function(t){if(t instanceof ft&&Ob(t)){for(const r of t.getFilters())if(!Fb(r)&&!Bb(r))return!1;return!0}return!1})(n)}function zb(n){if(Ae(n instanceof We||n instanceof ft,34018),n instanceof We)return n;if(n.filters.length===1)return zb(n.filters[0]);const e=n.filters.map((r=>zb(r)));let t=ft.create(e,n.op);return t=Gg(t),X2(t)?t:(Ae(t instanceof ft,64498),Ae(wc(t),40251),Ae(t.filters.length>1,57927),t.filters.reduce(((r,s)=>wT(r,s))))}function wT(n,e){let t;return Ae(n instanceof We||n instanceof ft,38388),Ae(e instanceof We||e instanceof ft,25473),t=n instanceof We?e instanceof We?(function(s,o){return ft.create([s,o],"and")})(n,e):xC(n,e):e instanceof We?xC(e,n):(function(s,o){if(Ae(s.filters.length>0&&o.filters.length>0,48005),wc(s)&&wc(o))return f2(s,o.getFilters());const u=Ob(s)?s:o,h=Ob(s)?o:s,d=u.filters.map((f=>wT(f,h)));return ft.create(d,"or")})(n,e),Gg(t)}function xC(n,e){if(wc(e))return f2(e,n.getFilters());{const t=e.filters.map((r=>wT(n,r)));return ft.create(t,"or")}}function Gg(n){if(Ae(n instanceof We||n instanceof ft,11850),n instanceof We)return n;const e=n.getFilters();if(e.length===1)return Gg(e[0]);if(c2(n))return n;const t=e.map((s=>Gg(s))),r=[];return t.forEach((s=>{s instanceof We?r.push(s):s instanceof ft&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:ft.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(){this.Cn=new ST}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Ur.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class ST{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new dt($e.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new dt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="IndexedDbIndexManager",qm=new Uint8Array(0);class $7{constructor(e,t){this.databaseId=t,this.vn=new ST,this.Fn=new aa((r=>Pl(r)),((r,s)=>Kd(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const o={collectionId:r,parent:Kn(s)};return OC(e).put(o)}return J.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[ND(t),""],!1,!0);return OC(e).J(s).next((o=>{for(const u of o){if(u.collectionId!==t)break;r.push(ss(u.parent))}return r}))}addFieldIndex(e,t){const r=vf(e),s=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(t);delete s.indexId;const o=r.add(s);if(t.indexState){const u=Hu(e);return o.next((h=>{u.put(TC(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const r=vf(e),s=Hu(e),o=qu(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=vf(e),r=qu(e),s=Hu(e);return t.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return J.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const o=new CC(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const r=qu(e);let s=!0;const o=new Map;return J.forEach(this.Mn(t),(u=>this.xn(e,u).next((h=>{s&&(s=!!h),o.set(u,h)})))).next((()=>{if(s){let u=Fe();const h=[];return J.forEach(o,((d,f)=>{me(PC,`Using index ${(function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map((W=>`${W.fieldPath}:${W.kind}`)).join(",")}`})(d)} to execute ${Pl(t)}`);const g=(function(z,W){const $=wb(W);if($===void 0)return null;for(const H of qg(z,$.fieldPath))switch(H.op){case"array-contains-any":return H.value.arrayValue.values||[];case"array-contains":return[H.value]}return null})(f,d),_=(function(z,W){const $=new Map;for(const H of ll(W))for(const N of qg(z,H.fieldPath))switch(N.op){case"==":case"in":$.set(H.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return $.set(H.fieldPath.canonicalString(),N.value),Array.from($.values())}return null})(f,d),v=(function(z,W){const $=[];let H=!0;for(const N of ll(W)){const C=N.kind===0?lC(z,N.fieldPath,z.startAt):uC(z,N.fieldPath,z.startAt);$.push(C.value),H&&(H=C.inclusive)}return new fo($,H)})(f,d),S=(function(z,W){const $=[];let H=!0;for(const N of ll(W)){const C=N.kind===0?uC(z,N.fieldPath,z.endAt):lC(z,N.fieldPath,z.endAt);$.push(C.value),H&&(H=C.inclusive)}return new fo($,H)})(f,d),w=this.On(d,f,v),I=this.On(d,f,S),P=this.Nn(d,f,_),F=this.Bn(d.indexId,g,w,v.inclusive,I,S.inclusive,P);return J.forEach(F,(V=>r.Y(V,t.limit).next((z=>{z.forEach((W=>{const $=ve.fromSegments(W.documentKey);u.has($)||(u=u.add($),h.push($))}))}))))})).next((()=>h))}return J.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=q7(ft.create(e.filters,"and")).map((r=>Nb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,s,o,u,h){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),f=d/(t!=null?t.length:1),g=[];for(let _=0;_<d;++_){const v=t?this.Ln(t[_/f]):qm,S=this.kn(e,v,r[_%f],s),w=this.qn(e,v,o[_%f],u),I=h.map((P=>this.kn(e,v,P,!0)));g.push(...this.createRange(S,w,I))}return g}kn(e,t,r,s){const o=new dl(e,ve.empty(),t,r);return s?o:o.An()}qn(e,t,r,s){const o=new dl(e,ve.empty(),t,r);return s?o.An():o}xn(e,t){const r=new CC(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((o=>{let u=null;for(const h of o)r.yn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,t){let r=2;const s=this.Mn(t);return J.forEach(s,(o=>this.xn(e,o).next((u=>{u?r!==0&&u.fields.length<(function(d){let f=new dt(Dt.comparator),g=!1;for(const _ of d.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:f=f.add(v.field));for(const _ of d.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(g?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(u){return u.limit!==null})(t)&&s.length>1&&r===2?1:r))}Qn(e,t){const r=new _f;for(const s of ll(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const u=r.Pn(s.kind);fl.Kt.Dt(o,u)}return r.un()}Ln(e){const t=new _f;return fl.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new _f;return fl.Kt.Dt(xl(this.databaseId,t),r.Pn((function(o){const u=ll(o);return u.length===0?0:u[u.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let s=[];s.push(new _f);let o=0;for(const u of ll(e)){const h=r[o++];for(const d of s)if(this.Un(t,u.fieldPath)&&yd(h))s=this.Kn(s,u,h);else{const f=d.Pn(u.kind);fl.Kt.Dt(h,f)}}return this.Wn(s)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const s=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of s){const d=new _f;d.seed(h.un()),fl.Kt.Dt(u,d.Pn(t.kind)),o.push(d)}return o}Un(e,t){return!!e.filters.find((r=>r instanceof We&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=vf(e),s=Hu(e);return(t?r.J(Ab,IDBKeyRange.bound(t,t)):r.J()).next((o=>{const u=[];return J.forEach(o,(h=>s.get([h.indexId,this.uid]).next((d=>{u.push((function(g,_){const v=_?new cd(_.sequenceNumber,new Ur(kl(_.readTime),new ve(ss(_.documentKey)),_.largestBatchId)):cd.empty(),S=g.fields.map((([w,I])=>new cg(Dt.fromServerFormat(w),I)));return new Ug(g.indexId,g.collectionGroup,S,v)})(h,d))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const o=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:ke(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=vf(e),o=Hu(e);return this.Gn(e).next((u=>s.J(Ab,IDBKeyRange.bound(t,t)).next((h=>J.forEach(h,(d=>o.put(TC(d.indexId,this.uid,u,r))))))))}updateIndexEntries(e,t){const r=new Map;return J.forEach(t,((s,o)=>{const u=r.get(s.collectionGroup);return(u?J.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next((h=>(r.set(s.collectionGroup,h),J.forEach(h,(d=>this.zn(e,s,d).next((f=>{const g=this.jn(o,d);return f.isEqual(g)?J.resolve():this.Jn(e,o,d,f,g)})))))))}))}Hn(e,t,r,s){return qu(e).put(s.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,s){return qu(e).delete(s.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const s=qu(e);let o=new dt(za);return s.ee({index:KD,range:IDBKeyRange.only([r.indexId,this.uid,_g(this.$n(r,t))])},((u,h)=>{o=o.add(new dl(r.indexId,t,RC(h.arrayValue),RC(h.directionalValue)))})).next((()=>o))}jn(e,t){let r=new dt(za);const s=this.Qn(t,e);if(s==null)return r;const o=wb(t);if(o!=null){const u=e.data.field(o.fieldPath);if(yd(u))for(const h of u.arrayValue.values||[])r=r.add(new dl(t.indexId,e.key,this.Ln(h),s))}else r=r.add(new dl(t.indexId,e.key,qm,s));return r}Jn(e,t,r,s,o){me(PC,"Updating index entries for document '%s'",t.key);const u=[];return(function(d,f,g,_,v){const S=d.getIterator(),w=f.getIterator();let I=zu(S),P=zu(w);for(;I||P;){let F=!1,V=!1;if(I&&P){const z=g(I,P);z<0?V=!0:z>0&&(F=!0)}else I!=null?V=!0:F=!0;F?(_(P),P=zu(w)):V?(v(I),I=zu(S)):(I=zu(S),P=zu(w))}})(s,o,za,(h=>{u.push(this.Hn(e,t,r,h))}),(h=>{u.push(this.Yn(e,t,r,h))})),J.waitFor(u)}Gn(e){let t=1;return Hu(e).ee({index:GD,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,o)=>{o.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((u,h)=>za(u,h))).filter(((u,h,d)=>!h||za(u,d[h-1])!==0));const s=[];s.push(e);for(const u of r){const h=za(u,e),d=za(u,t);if(h===0)s[0]=e.An();else if(h>0&&d<0)s.push(u),s.push(u.An());else if(d>0)break}s.push(t);const o=[];for(let u=0;u<s.length;u+=2){if(this.Zn(s[u],s[u+1]))return[];const h=s[u].Vn(this.uid,qm,ve.empty()),d=s[u+1].Vn(this.uid,qm,ve.empty());o.push(IDBKeyRange.bound(h,d))}return o}Zn(e,t){return za(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(DC)}getMinOffset(e,t){return J.mapArray(this.Mn(t),(r=>this.xn(e,r).next((s=>s||Te(44426))))).next(DC)}}function OC(n){return bn(n,pd)}function qu(n){return bn(n,Gf)}function vf(n){return bn(n,oT)}function Hu(n){return bn(n,$f)}function DC(n){Ae(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;iT(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Ur(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J2=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(n,e,t){const r=n.store(vi),s=n.store(yc),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=r.ee({range:u},((g,_,v)=>(h++,v.delete())));o.push(d.next((()=>{Ae(h===1,47070,{batchId:t.batchId})})));const f=[];for(const g of t.mutations){const _=qD(e,g.key.path,t.batchId);o.push(s.delete(_)),f.push(g.key)}return J.waitFor(o).next((()=>f))}function Kg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Te(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(J2,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);class Xy{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,t,r,s){Ae(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Xy(o,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ja(e).ee({index:_l,range:r},((s,o,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const o=Yu(e),u=ja(e);return u.add({}).next((h=>{Ae(typeof h=="number",49019);const d=new yT(h,t,r,s),f=(function(S,w,I){const P=I.baseMutations.map((V=>Ed(S.yt,V))),F=I.mutations.map((V=>Ed(S.yt,V)));return{userId:w,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:P,mutations:F}})(this.serializer,this.userId,d),g=[];let _=new dt(((v,S)=>ke(v.canonicalString(),S.canonicalString())));for(const v of s){const S=qD(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(f)),g.push(o.put(S,Aq))}return _.forEach((v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[h]=d.keys()})),J.waitFor(g).next((()=>d))}))}lookupMutationBatch(e,t){return ja(e).get(t).next((r=>r?(Ae(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),hl(this.serializer,r)):null))}er(e,t){return this.Xn[t]?J.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return ja(e).ee({index:_l,range:s},((u,h,d)=>{h.userId===this.userId&&(Ae(h.batchId>=r,47524,{tr:r}),o=hl(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=eo;return ja(e).ee({index:_l,range:t,reverse:!0},((s,o,u)=>{r=o.batchId,u.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,eo],[this.userId,Number.POSITIVE_INFINITY]);return ja(e).J(_l,t).next((r=>r.map((s=>hl(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=hg(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=[];return Yu(e).ee({range:s},((u,h,d)=>{const[f,g,_]=u,v=ss(g);if(f===this.userId&&t.path.isEqual(v))return ja(e).get(_).next((S=>{if(!S)throw Te(61480,{nr:u,batchId:_});Ae(S.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:S.userId,batchId:_}),o.push(hl(this.serializer,S))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dt(ke);const s=[];return t.forEach((o=>{const u=hg(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=Yu(e).ee({range:h},((f,g,_)=>{const[v,S,w]=f,I=ss(S);v===this.userId&&o.path.isEqual(I)?r=r.add(w):_.done()}));s.push(d)})),J.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,o=hg(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new dt(ke);return Yu(e).ee({range:u},((d,f,g)=>{const[_,v,S]=d,w=ss(v);_===this.userId&&r.isPrefixOf(w)?w.length===s&&(h=h.add(S)):g.done()})).next((()=>this.rr(e,h)))}rr(e,t){const r=[],s=[];return t.forEach((o=>{s.push(ja(e).get(o).next((u=>{if(u===null)throw Te(35274,{batchId:o});Ae(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(hl(this.serializer,u))})))})),J.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return Z2(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),J.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return J.resolve();const r=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),s=[];return Yu(e).ee({range:r},((o,u,h)=>{if(o[0]===this.userId){const d=ss(o[1]);s.push(d)}else h.done()})).next((()=>{Ae(s.length===0,56720,{sr:s.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return eN(e,this.userId,t)}_r(e){return tN(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:eo,lastStreamToken:""}))}}function eN(n,e,t){const r=hg(e,t.path),s=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Yu(n).ee({range:o,X:!0},((h,d,f)=>{const[g,_,v]=h;g===e&&_===s&&(u=!0),f.done()})).next((()=>u))}function ja(n){return bn(n,vi)}function Yu(n){return bn(n,yc)}function tN(n){return bn(n,fd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ml(0)}static cr(){return new Ml(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Ml(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Re.fromTimestamp(new at(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>$u(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Ae(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let s=0;const o=[];return $u(e).ee(((u,h)=>{const d=kf(h);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(s++,o.push(this.removeTargetData(e,d)))})).next((()=>J.waitFor(o))).next((()=>s))}forEachTarget(e,t){return $u(e).ee(((r,s)=>{const o=kf(s);t(o)}))}lr(e){return kC(e).get(zg).next((t=>(Ae(t!==null,2888),t)))}hr(e,t){return kC(e).put(zg,t)}Pr(e,t){return $u(e).put(Q2(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Pl(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return $u(e).ee({range:s,index:$D},((u,h,d)=>{const f=kf(h);Kd(t,f.target)&&(o=f,d.done())})).next((()=>o))}addMatchingKeys(e,t,r){const s=[],o=Ga(e);return t.forEach((u=>{const h=Kn(u.path);s.push(o.put({targetId:r,path:h})),s.push(this.referenceDelegate.addReference(e,r,u))})),J.waitFor(s)}removeMatchingKeys(e,t,r){const s=Ga(e);return J.forEach(t,(o=>{const u=Kn(o.path);return J.waitFor([s.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,t){const r=Ga(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Ga(e);let o=Fe();return s.ee({range:r,X:!0},((u,h,d)=>{const f=ss(u[1]),g=new ve(f);o=o.add(g)})).next((()=>o))}containsKey(e,t){const r=Kn(t.path),s=IDBKeyRange.bound([r],[ND(r)],!1,!0);let o=0;return Ga(e).ee({index:aT,X:!0,range:s},(([u,h],d,f)=>{u!==0&&(o++,f.done())})).next((()=>o>0))}At(e,t){return $u(e).get(t).next((r=>r?kf(r):null))}}function $u(n){return bn(n,_c)}function kC(n){return bn(n,Al)}function Ga(n){return bn(n,vc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="LruGarbageCollector",K7=1048576;function VC([n,e],[t,r]){const s=ke(n,t);return s===0?ke(e,r):s}class W7{constructor(e){this.Ir=e,this.buffer=new dt(VC),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();VC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(MC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){To(t)?me(MC,"Ignoring IndexedDB error during garbage collection: ",t):await bo(t)}await this.Vr(3e5)}))}}class Q7{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(mr.ce);const r=new W7(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(NC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NC):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,o,u,h,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,t)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(f=Date.now(),Gu()<=He.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_}))))}}function rN(n,e){return new Q7(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e,t){this.db=e,this.garbageCollector=rN(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,s)=>t(s)))}addReference(e,t,r){return Hm(e,r)}removeReference(e,t,r){return Hm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Hm(e,t)}br(e,t){return(function(s,o){let u=!1;return tN(s).te((h=>eN(s,h,o).next((d=>(d&&(u=!0),J.resolve(!d)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.Sr(e,((u,h)=>{if(h<=t){const d=this.br(e,u).next((f=>{if(!f)return o++,r.getEntry(e,u).next((()=>(r.removeEntry(u,Re.min()),Ga(e).delete((function(_){return[0,Kn(_.path)]})(u)))))}));s.push(d)}})).next((()=>J.waitFor(s))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Hm(e,t)}Sr(e,t){const r=Ga(e);let s,o=mr.ce;return r.ee({index:aT},(([u,h],{path:d,sequenceNumber:f})=>{u===0?(o!==mr.ce&&t(new ve(ss(s)),o),o=f,s=d):o=mr.ce})).next((()=>{o!==mr.ce&&t(new ve(ss(s)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hm(n,e){return Ga(n).put((function(r,s){return{targetId:0,path:Kn(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.changes=new aa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sl(e).put(r)}removeEntry(e,t,r){return sl(e).delete((function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],$g(u),h[h.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=It.newInvalidDocument(t);return sl(e).ee({index:fg,range:IDBKeyRange.only(Ef(t))},((s,o)=>{r=this.Cr(t,o)})).next((()=>r))}vr(e,t){let r={size:0,document:It.newInvalidDocument(t)};return sl(e).ee({index:fg,range:IDBKeyRange.only(Ef(t))},((s,o)=>{r={document:this.Cr(t,o),size:Kg(o)}})).next((()=>r))}getEntries(e,t){let r=yr();return this.Fr(e,t,((s,o)=>{const u=this.Cr(s,o);r=r.insert(s,u)})).next((()=>r))}Mr(e,t){let r=yr(),s=new wt(ve.comparator);return this.Fr(e,t,((o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h),s=s.insert(o,Kg(u))})).next((()=>({documents:r,Or:s})))}Fr(e,t,r){if(t.isEmpty())return J.resolve();let s=new dt(FC);t.forEach((d=>s=s.add(d)));const o=IDBKeyRange.bound(Ef(s.first()),Ef(s.last())),u=s.getIterator();let h=u.getNext();return sl(e).ee({index:fg,range:o},((d,f,g)=>{const _=ve.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;h&&FC(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,f),h=u.hasNext()?u.getNext():null),h?g.j(Ef(h)):g.done()})).next((()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),$g(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sl(e).J(IDBKeyRange.bound(h,d,!0)).next((f=>{o?.incrementDocumentReadCount(f.length);let g=yr();for(const _ of f){const v=this.Cr(ve.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Qd(t,v)||s.has(v.key))&&(g=g.insert(v.key,v))}return g}))}getAllFromCollectionGroup(e,t,r,s){let o=yr();const u=UC(t,r),h=UC(t,Ur.max());return sl(e).ee({index:HD,range:IDBKeyRange.bound(u,h,!0)},((d,f,g)=>{const _=this.Cr(ve.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(_.key,_),o.size===s&&g.done()})).next((()=>o))}newChangeBuffer(e){return new J7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return LC(e).get(Sb).next((t=>(Ae(!!t,20021),t)))}Dr(e,t){return LC(e).put(Sb,t)}Cr(e,t){if(t){const r=V7(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Re.min())))return r}return It.newInvalidDocument(e)}}function sN(n){return new X7(n)}class J7 extends iN{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new aa((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new dt(((o,u)=>ke(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const h=this.Br.get(o);if(t.push(this.Nr.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=EC(this.Nr.serializer,u);s=s.add(o.path.popLast());const f=Kg(d);r+=f-h.size,t.push(this.Nr.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=EC(this.Nr.serializer,u.convertToNoDocument(Re.min()));t.push(this.Nr.addEntry(e,o,d))}})),s.forEach((o=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Nr.updateMetadata(e,r)),J.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:s})=>(s.forEach(((o,u)=>{this.Br.set(o,{size:u,readTime:r.get(o).readTime})})),r)))}}function LC(n){return bn(n,dd)}function sl(n){return bn(n,Bg)}function Ef(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function UC(n,e){const t=e.documentKey.path.toArray();return[n,$g(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function FC(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(s=ke(t[o],r[o]),s)return s;return s=ke(t.length,r.length),s||(s=ke(t[t.length-2],r[r.length-2]),s||ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Qf(r.mutation,s,gr.empty(),at.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Fe()){const s=as();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let u=Df();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=as();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Fe())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,s){let o=yr();const u=Wf(),h=(function(){return Wf()})();return t.forEach(((d,f)=>{const g=r.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof oa)?o=o.insert(f.key,f):g!==void 0?(u.set(f.key,g.mutation.getFieldMask()),Qf(g.mutation,f,g.mutation.getFieldMask(),at.now())):u.set(f.key,gr.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((f,g)=>u.set(f,g))),t.forEach(((f,g)=>h.set(f,new Z7(g,u.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Wf();let s=new wt(((u,h)=>u-h)),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((d=>{const f=t.get(d);if(f===null)return;let g=r.get(d)||gr.empty();g=h.applyToLocalView(f,g),r.set(d,g);const _=(s.get(h.batchId)||Fe()).add(d);s=s.insert(h.batchId,_)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,g=d.value,_=T2();g.forEach((v=>{if(!o.has(v)){const S=x2(t.get(v),r.get(v));S!==null&&_.set(v,S),o=o.add(v)}})),u.push(this.documentOverlayCache.saveOverlays(e,f,_))}return J.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):J.resolve(as());let h=gc,d=o;return u.next((f=>J.forEach(f,((g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next((v=>{d=d.insert(g,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,d,f,Fe()))).next((g=>({batchId:h,changes:b2(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((r=>{let s=Df();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=Df();return this.indexManager.getCollectionParents(e,o).next((h=>J.forEach(h,(d=>{const f=(function(_,v){return new sa(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((g=>{g.forEach(((_,v)=>{u=u.insert(_,v)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((u=>{o.forEach(((d,f)=>{const g=f.getKey();u.get(g)===null&&(u=u.insert(g,It.newInvalidDocument(g)))}));let h=Df();return u.forEach(((d,f)=>{const g=o.get(d);g!==void 0&&Qf(g.mutation,f,gr.empty(),at.now()),Qd(t,f)&&(h=h.insert(d,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Zt(s.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:TT(s.bundledQuery),readTime:Zt(s.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(){this.overlays=new wt(ve.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=as();return J.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.St(e,t,o)})),J.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const s=as(),o=t.length+1,u=new ve(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return J.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new wt(((f,g)=>f-g));const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=as(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=as(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,g)=>h.set(f,g))),!(h.size()>=s)););return J.resolve(h)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new vT(t,r));let o=this.qr.get(t);o===void 0&&(o=Fe(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.Qr=new dt(An.$r),this.Ur=new dt(An.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new An(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new An(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ve(new $e([])),r=new An(t,e),s=new An(t,e+1),o=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new $e([])),r=new An(t,e),s=new An(t,e+1);let o=Fe();return this.Ur.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new An(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class An{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||ke(e.Yr,t.Yr)}static Kr(e,t){return ke(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new dt(An.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new yT(o,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new An(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return J.resolve(u)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),o=s<0?0:s;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?eo:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new An(t,0),s=new An(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(u=>{const h=this.Xr(u.Yr);o.push(h)})),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dt(ke);return t.forEach((s=>{const o=new An(s,0),u=new An(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{r=r.add(h.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const u=new An(new ve(o),0);let h=new dt(ke);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(h=h.add(d.Yr)),!0)}),u),J.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ae(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(t.mutations,(s=>{const o=new An(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new An(t,0),s=this.Zr.firstAfterOrEqual(r);return J.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e){this.ri=e,this.docs=(function(){return new wt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():It.newInvalidDocument(t))}getEntries(e,t){let r=yr();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():It.newInvalidDocument(s))})),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=yr();const u=t.path,h=new ve(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||iT(UD(g),r)<=0||(s.has(g.key)||Qd(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Te(9500)}ii(e,t){return J.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new sH(this)}getSize(e){return J.resolve(this.size)}}class sH extends iN{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e){this.persistence=e,this.si=new aa((t=>Pl(t)),Kd),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new AT,this.targetCount=0,this.ai=Ml.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ml(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),J.waitFor(o).next((()=>s))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),J.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,t){this.ui={},this.overlays={},this.ci=new mr(0),this.li=!1,this.li=!0,this.hi=new nH,this.referenceDelegate=e(this),this.Pi=new aH(this),this.indexManager=new H7,this.remoteDocumentCache=(function(s){return new iH(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new W2(t),this.Ii=new eH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tH,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new rH(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const s=new oH(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class oH extends BD{constructor(e){super(),this.currentSequenceNumber=e}}class Jy{constructor(e){this.persistence=e,this.Ri=new AT,this.Vi=null}static mi(e){return new Jy(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const s=ve.fromPath(r);return this.gi(e,s).next((o=>{o||t.removeEntry(s,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Wg{constructor(e,t){this.persistence=e,this.pi=new aa((r=>Kn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=rN(this,t)}static mi(e,t){return new Wg(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?J.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((h=>{h||(r++,o.removeEntry(u,Re.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pg(e.data.value)),t}br(e,t,r){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e){this.serializer=e}k(e,t,r,s){const o=new zy("createOrUpgrade",t);r<1&&s>=1&&((function(d){d.createObjectStore(Gd)})(e),(function(d){d.createObjectStore(fd,{keyPath:Sq}),d.createObjectStore(vi,{keyPath:Y1,autoIncrement:!0}).createIndex(_l,X1,{unique:!0}),d.createObjectStore(yc)})(e),BC(e),(function(d){d.createObjectStore(ul)})(e));let u=J.resolve();return r<3&&s>=3&&(r!==0&&((function(d){d.deleteObjectStore(vc),d.deleteObjectStore(_c),d.deleteObjectStore(Al)})(e),BC(e)),u=u.next((()=>(function(d){const f=d.store(Al),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Re.min().toTimestamp(),targetCount:0};return f.put(zg,g)})(o)))),r<4&&s>=4&&(r!==0&&(u=u.next((()=>(function(d,f){return f.store(vi).J().next((_=>{d.deleteObjectStore(vi),d.createObjectStore(vi,{keyPath:Y1,autoIncrement:!0}).createIndex(_l,X1,{unique:!0});const v=f.store(vi),S=_.map((w=>v.put(w)));return J.waitFor(S)}))})(e,o)))),u=u.next((()=>{(function(d){d.createObjectStore(Ec,{keyPath:Nq})})(e)}))),r<5&&s>=5&&(u=u.next((()=>this.yi(o)))),r<6&&s>=6&&(u=u.next((()=>((function(d){d.createObjectStore(dd)})(e),this.wi(o))))),r<7&&s>=7&&(u=u.next((()=>this.Si(o)))),r<8&&s>=8&&(u=u.next((()=>this.bi(e,o)))),r<9&&s>=9&&(u=u.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(u=u.next((()=>this.Di(o)))),r<11&&s>=11&&(u=u.next((()=>{(function(d){d.createObjectStore(jy,{keyPath:kq})})(e),(function(d){d.createObjectStore(qy,{keyPath:Mq})})(e)}))),r<12&&s>=12&&(u=u.next((()=>{(function(d){const f=d.createObjectStore(Hy,{keyPath:jq});f.createIndex(Ib,qq,{unique:!1}),f.createIndex(WD,Hq,{unique:!1})})(e)}))),r<13&&s>=13&&(u=u.next((()=>(function(d){const f=d.createObjectStore(Bg,{keyPath:Iq});f.createIndex(fg,Rq),f.createIndex(HD,Cq)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(ul)))),r<14&&s>=14&&(u=u.next((()=>this.Fi(e,o)))),r<15&&s>=15&&(u=u.next((()=>(function(d){d.createObjectStore(oT,{keyPath:Vq,autoIncrement:!0}).createIndex(Ab,Lq,{unique:!1}),d.createObjectStore($f,{keyPath:Uq}).createIndex(GD,Fq,{unique:!1}),d.createObjectStore(Gf,{keyPath:Bq}).createIndex(KD,zq,{unique:!1})})(e)))),r<16&&s>=16&&(u=u.next((()=>{t.objectStore($f).clear()})).next((()=>{t.objectStore(Gf).clear()}))),r<17&&s>=17&&(u=u.next((()=>{(function(d){d.createObjectStore(lT,{keyPath:$q})})(e)}))),r<18&&s>=18&&mO()&&(u=u.next((()=>{t.objectStore($f).clear()})).next((()=>{t.objectStore(Gf).clear()}))),u}wi(e){let t=0;return e.store(ul).ee(((r,s)=>{t+=Kg(s)})).next((()=>{const r={byteSize:t};return e.store(dd).put(Sb,r)}))}yi(e){const t=e.store(fd),r=e.store(vi);return t.J().next((s=>J.forEach(s,(o=>{const u=IDBKeyRange.bound([o.userId,eo],[o.userId,o.lastAcknowledgedBatchId]);return r.J(_l,u).next((h=>J.forEach(h,(d=>{Ae(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=hl(this.serializer,d);return Z2(e,o.userId,f).next((()=>{}))}))))}))))}Si(e){const t=e.store(vc),r=e.store(ul);return e.store(Al).get(zg).next((s=>{const o=[];return r.ee(((u,h)=>{const d=new $e(u),f=(function(_){return[0,Kn(_)]})(d);o.push(t.get(f).next((g=>g?J.resolve():(_=>t.put({targetId:0,path:Kn(_),sequenceNumber:s.highestListenSequenceNumber}))(d))))})).next((()=>J.waitFor(o)))}))}bi(e,t){e.createObjectStore(pd,{keyPath:Dq});const r=t.store(pd),s=new ST,o=u=>{if(s.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:Kn(d)})}};return t.store(ul).ee({X:!0},((u,h)=>{const d=new $e(u);return o(d.popLast())})).next((()=>t.store(yc).ee({X:!0},(([u,h,d],f)=>{const g=ss(h);return o(g.popLast())}))))}Di(e){const t=e.store(_c);return t.ee(((r,s)=>{const o=kf(s),u=Q2(this.serializer,o);return t.put(u)}))}Ci(e,t){const r=t.store(ul),s=[];return r.ee(((o,u)=>{const h=t.store(Bg),d=(function(_){return _.document?new ve($e.fromString(_.document.name).popFirst(5)):_.noDocument?ve.fromSegments(_.noDocument.path):_.unknownDocument?ve.fromSegments(_.unknownDocument.path):Te(36783)})(u).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(h.put(f))})).next((()=>J.waitFor(s)))}Fi(e,t){const r=t.store(vi),s=sN(this.serializer),o=new IT(Jy.mi,this.serializer.yt);return r.J().next((u=>{const h=new Map;return u.forEach((d=>{let f=h.get(d.userId)??Fe();hl(this.serializer,d).keys().forEach((g=>f=f.add(g))),h.set(d.userId,f)})),J.forEach(h,((d,f)=>{const g=new In(f),_=Yy.wt(this.serializer,g),v=o.getIndexManager(g),S=Xy.wt(g,this.serializer,v,o.referenceDelegate);return new aN(s,S,_,v).recalculateAndSaveOverlaysForDocumentKeys(new Rb(t,mr.ce),d).next()}))}))}}function BC(n){n.createObjectStore(vc,{keyPath:Pq}).createIndex(aT,Oq,{unique:!0}),n.createObjectStore(_c,{keyPath:"targetId"}).createIndex($D,xq,{unique:!0}),n.createObjectStore(Al)}const qa="IndexedDbPersistence",qE=18e5,HE=5e3,$E="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",oN="main";class RT{constructor(e,t,r,s,o,u,h,d,f,g,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=o,this.window=u,this.document=h,this.xi=f,this.Oi=g,this.Ni=_,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!RT.v())throw new de(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Y7(this,s),this.$i=t+oN,this.serializer=new W2(d),this.Ui=new ls(this.$i,this.Ni,new lH(this.serializer)),this.hi=new U7,this.Pi=new G7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=sN(this.serializer),this.Ii=new L7,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&Jt(qa,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ie.FAILED_PRECONDITION,$E);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new mr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>$m(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(To(e))return me(qa,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return me(qa,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return bf(e).get(Bu).next((t=>J.resolve(this.es(t))))}ts(e){return $m(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,qE)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=bn(t,Ec);return r.J().next((s=>{const o=this.ss(s,qE),u=s.filter((h=>o.indexOf(h)===-1));return J.forEach(u,(h=>r.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?J.resolve(!0):bf(e).get(Bu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,HE)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new de(ie.FAILED_PRECONDITION,$E);return!1}}return!(!this.networkEnabled||!this.inForeground)||$m(e).J().next((r=>this.ss(r,HE).find((s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,h=this.networkEnabled===s.networkEnabled;if(o||u&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&me(qa,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Gd,Ec],(e=>{const t=new Rb(e,mr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>$m(e).J().next((t=>this.ss(t,qE).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Xy.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $7(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Yy.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){me(qa,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?Wq:d===17?JD:d===16?Kq:d===15?uT:d===14?XD:d===13?YD:d===12?Gq:d===11?QD:void Te(60245)})(this.Ni);let u;return this.Ui.runTransaction(e,s,o,(h=>(u=new Rb(h,this.ci?this.ci.next():mr.ce),t==="readwrite-primary"?this.Hi(u).next((d=>!!d||this.Yi(u))).next((d=>{if(!d)throw Jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new de(ie.FAILED_PRECONDITION,FD);return r(u)})).next((d=>this.Xi(u).next((()=>d)))):this.Is(u).next((()=>r(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Is(e){return bf(e).get(Bu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,HE)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new de(ie.FAILED_PRECONDITION,$E)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bf(e).put(Bu,t)}static v(){return ls.v()}Zi(e){const t=bf(e);return t.get(Bu).next((r=>this.es(r)?(me(qa,"Releasing primary lease."),t.delete(Bu)):J.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Jt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;pO()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return me(qa,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Jt(qa,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Jt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bf(n){return bn(n,Gd)}function $m(n){return bn(n,Ec)}function CT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=Fe(),s=Fe();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new xT(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pO()?8:zD(Lt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new uH;return this.Ss(e,t,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>o.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Gu()<=He.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ku(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Gu()<=He.DEBUG&&me("QueryEngine","Query:",Ku(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Gu()<=He.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ku(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(t))):J.resolve())}ys(e,t){if(cC(t))return J.resolve(null);let r=rr(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Hg(t,null,"F"),r=rr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=Fe(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(t,h);return this.Cs(t,f,u,d.readTime)?this.ys(e,Hg(t,null,"F")):this.vs(e,f,t,d)}))))})))))}ws(e,t,r,s){return cC(t)||s.isEqual(Re.min())?J.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,r,s)?J.resolve(null):(Gu()<=He.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ku(t)),this.vs(e,u,t,LD(s,gc)).next((h=>h)))}))}Ds(e,t){let r=new dt(v2(e));return t.forEach(((s,o)=>{Qd(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,r){return Gu()<=He.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ku(t)),this.ps.getDocumentsMatchingQuery(e,t,Ur.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="LocalStore",cH=3e8;class hH{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new wt(ke),this.xs=new aa((o=>Pl(o)),Kd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function uN(n,e,t,r){return new hH(n,e,t,r)}async function cN(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let d=Fe();for(const f of s){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:u,addedBatchIds:h})))}))}))}function fH(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,f,g){const _=f.batch,v=_.keys();let S=J.resolve();return v.forEach((w=>{S=S.next((()=>g.getEntry(d,w))).next((I=>{const P=f.docVersions.get(w);Ae(P!==null,48541),I.version.compareTo(P)<0&&(_.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),g.addEntry(I)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=Fe();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function hN(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function dH(n,e){const t=Ee(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const h=[];e.targetChanges.forEach(((g,_)=>{const v=s.get(_);if(!v)return;h.push(t.Pi.removeMatchingKeys(o,g.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(o,g.addedDocuments,_))));let S=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken($t.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(_,S),(function(I,P,F){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=cH?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(v,S,g)&&h.push(t.Pi.updateTargetData(o,S))}));let d=yr(),f=Fe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(fN(o,u,e.documentUpdates).next((g=>{d=g.ks,f=g.qs}))),!r.isEqual(Re.min())){const g=t.Pi.getLastRemoteSnapshotVersion(o).next((_=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(g)}return J.waitFor(h).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(t.Ms=s,o)))}function fN(n,e,t){let r=Fe(),s=Fe();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=yr();return t.forEach(((h,d)=>{const f=o.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):me(PT,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)})),{ks:u,qs:s}}))}function pH(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=eo),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Rc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((o=>o?(s=o,J.resolve(s)):t.Pi.allocateTargetId(r).next((u=>(s=new $s(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Cc(n,e,t){const r=Ee(n),s=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!To(u))throw u;me(PT,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Qg(n,e,t){const r=Ee(n);let s=Re.min(),o=Fe();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,f,g){const _=Ee(d),v=_.xs.get(g);return v!==void 0?J.resolve(_.Ms.get(v)):_.Pi.getTargetData(f,g)})(r,u,rr(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:Re.min(),t?o:Fe()))).next((h=>(mN(r,_2(e),h),{documents:h,Qs:o})))))}function dN(n,e){const t=Ee(n),r=Ee(t.Pi),s=t.Ms.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",(o=>r.At(o,e).next((u=>u?u.target:null))))}function pN(n,e){const t=Ee(n),r=t.Os.get(e)||Re.min();return t.persistence.runTransaction("Get new document changes","readonly",(s=>t.Ns.getAllFromCollectionGroup(s,e,LD(r,gc),Number.MAX_SAFE_INTEGER))).then((s=>(mN(t,e,s),s)))}function mN(n,e,t){let r=n.Os.get(e)||Re.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}async function mH(n,e,t,r){const s=Ee(n);let o=Fe(),u=yr();for(const f of t){const g=e.$s(f.metadata.name);f.document&&(o=o.add(g));const _=e.Us(f);_.setReadTime(e.Ks(f.metadata.readTime)),u=u.insert(g,_)}const h=s.Ns.newChangeBuffer({trackRemovals:!0}),d=await Rc(s,(function(g){return rr(Wc($e.fromString(`__bundle__/docs/${g}`)))})(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",(f=>fN(f,h,u).next((g=>(h.apply(f),g))).next((g=>s.Pi.removeMatchingKeysForTargetId(f,d.targetId).next((()=>s.Pi.addMatchingKeys(f,o,d.targetId))).next((()=>s.localDocuments.getLocalViewOfDocuments(f,g.ks,g.qs))).next((()=>g.ks))))))}async function gH(n,e,t=Fe()){const r=await Rc(n,rr(TT(e.bundledQuery))),s=Ee(n);return s.persistence.runTransaction("Save named query","readwrite",(o=>{const u=Zt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return s.Ii.saveNamedQuery(o,e);const h=r.withResumeToken($t.EMPTY_BYTE_STRING,u);return s.Ms=s.Ms.insert(h.targetId,h),s.Pi.updateTargetData(o,h).next((()=>s.Pi.removeMatchingKeysForTargetId(o,r.targetId))).next((()=>s.Pi.addMatchingKeys(o,t,r.targetId))).next((()=>s.Ii.saveNamedQuery(o,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="firestore_clients";function zC(n,e){return`${gN}_${n}_${e}`}const yN="firestore_mutations";function jC(n,e,t){let r=`${yN}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const _N="firestore_targets";function GE(n,e){return`${_N}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="SharedClientState";class Yg{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Ws(e,t,r){const s=JSON.parse(r);let o,u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string",u&&(o=new de(s.error.code,s.error.message))),u?new Yg(e,t,s.state,o):(Jt(Zi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yf{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let s,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new de(r.error.code,r.error.message))),o?new Yf(e,r.state,s):(Jt(Zi,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,o=pT();for(let u=0;s&&u<r.activeTargetIds.length;++u)s=jD(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return s?new Xg(e,o):(Jt(Zi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class OT{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new OT(t.clientId,t.onlineState):(Jt(Zi,`Failed to parse online state: ${e}`),null)}}class jb{constructor(){this.activeTargetIds=pT()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KE{constructor(e,t,r,s,o){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new wt(ke),this.started=!1,this.Xs=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.eo=zC(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new jb),this.ro=new RegExp(`^${gN}_${u}_([^_]*)$`),this.io=new RegExp(`^${yN}_${u}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${_N}_${u}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const s=this.getItem(zC(this.persistenceKey,r));if(s){const o=Xg.Ws(r,s);o&&(this.Zs=this.Zs.insert(o.clientId,o))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(GE(this.persistenceKey,e));if(s){const o=Yf.Ws(e,s);o&&(r=o.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(GE(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach((s=>{this.Po(s)})),this.currentUser=e,r.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return me(Zi,"READ",e,t),t}setItem(e,t){me(Zi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){me(Zi,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(me(Zi,"EVENT",t.key,t.newValue),t.key===this.eo)return void Jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=(function(o){let u=mr.ce;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number",30636,{So:o}),u=h}catch(h){Jt(Zi,"Failed to read sequence number from WebStorage",h)}return u})(t.newValue);r!==mr.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map((s=>this.syncEngine.Do(s))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const s=new Yg(this.currentUser,e,t,r),o=jC(this.persistenceKey,this.currentUser,e);this.setItem(o,s.Gs())}Po(e){const t=jC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const s=GE(this.persistenceKey,e),o=new Yf(e,t,r);this.setItem(s,o.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return Xg.Ws(r,t)}fo(e,t){const r=this.io.exec(e),s=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Yg.Ws(new In(o),s,t)}yo(e,t){const r=this.so.exec(e),s=Number(r[1]);return Yf.Ws(s,t)}uo(e){return OT.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);me(Zi,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),s=this.lo(this.Zs),o=this.lo(r),u=[],h=[];return o.forEach((d=>{s.has(d)||u.push(d)})),s.forEach((d=>{o.has(d)||h.push(d)})),this.syncEngine.Fo(u,h).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=pT();return e.forEach(((r,s)=>{t=t.unionWith(s.activeTargetIds)})),t}}class vN{constructor(){this.Mo=new jb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="ConnectivityMonitor";class HC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(qC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(qC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm=null;function qb(){return Gm===null?Gm=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gm++,"0x"+Gm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="RestConnection",_H={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Cb?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,o){const u=qb(),h=this.zo(e,t.toUriEncodedString());me(WE,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:f}=new URL(h),g=zc(f);return this.Jo(e,h,d,r,g).then((_=>(me(WE,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw ps(WE,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,t,r,s,o,u){return this.Go(e,t,r,s,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const r=_H[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class bH extends vH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=qb();return new Promise(((h,d)=>{const f=new ID;f.setWithCredentials(!0),f.listenOnce(RD.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case ug.NO_ERROR:const _=f.getResponseJson();me(jn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case ug.TIMEOUT:me(jn,`RPC '${e}' ${u} timed out`),d(new de(ie.DEADLINE_EXCEEDED,"Request time out"));break;case ug.HTTP_ERROR:const v=f.getStatus();if(me(jn,`RPC '${e}' ${u} failed with status:`,v,"response text:",f.getResponseText()),v>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const w=S?.error;if(w&&w.status&&w.message){const I=(function(F){const V=F.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(V)>=0?V:ie.UNKNOWN})(w.status);d(new de(I,w.message))}else d(new de(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new de(ie.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{me(jn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);me(jn,`RPC '${e}' ${u} sending request:`,s),f.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=qb(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=PD(),h=xD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=o.join("");me(jn,`Creating RPC '${e}' stream ${s}: ${g}`,d);const _=u.createWebChannel(g,d);this.I_(_);let v=!1,S=!1;const w=new EH({Yo:P=>{S?me(jn,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(v||(me(jn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),v=!0),me(jn,`RPC '${e}' stream ${s} sending:`,P),_.send(P))},Zo:()=>_.close()}),I=(P,F,V)=>{P.listen(F,(z=>{try{V(z)}catch(W){setTimeout((()=>{throw W}),0)}}))};return I(_,Of.EventType.OPEN,(()=>{S||(me(jn,`RPC '${e}' stream ${s} transport opened.`),w.o_())})),I(_,Of.EventType.CLOSE,(()=>{S||(S=!0,me(jn,`RPC '${e}' stream ${s} transport closed`),w.a_(),this.E_(_))})),I(_,Of.EventType.ERROR,(P=>{S||(S=!0,ps(jn,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),w.a_(new de(ie.UNAVAILABLE,"The operation could not be completed")))})),I(_,Of.EventType.MESSAGE,(P=>{if(!S){const F=P.data[0];Ae(!!F,16349);const V=F,z=V?.error||V[0]?.error;if(z){me(jn,`RPC '${e}' stream ${s} received error:`,z);const W=z.status;let $=(function(C){const x=dn[C];if(x!==void 0)return D2(x)})(W),H=z.message;$===void 0&&($=ie.INTERNAL,H="Unknown error status: "+W+" with message "+z.message),S=!0,w.a_(new de($,H)),_.close()}else me(jn,`RPC '${e}' stream ${s} received:`,F),w.u_(F)}})),I(h,CD.STAT_EVENT,(P=>{P.stat===bb.PROXY?me(jn,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===bb.NOPROXY&&me(jn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(){return typeof window<"u"?window:null}function vg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n){return new I7(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="PersistentStream";class bN{constructor(e,t,r,s,o,u,h,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Jt(t.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new de(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me($C,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(me($C,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TH extends bN{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=x7(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Re.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Zt(u.readTime):Re.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Lb(this.serializer),t.addTarget=(function(o,u){let h;const d=u.target;if(h=jg(d)?{documents:j2(o,d)}:{query:q2(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=V2(o,u.resumeToken);const f=Mb(o,u.expectedCount);f!==null&&(h.expectedCount=f)}else if(u.snapshotVersion.compareTo(Re.min())>0){h.readTime=Ic(o,u.snapshotVersion.toTimestamp());const f=Mb(o,u.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const r=O7(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Lb(this.serializer),t.removeTarget=e,this.q_(t)}}class wH extends bN{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=P7(e.writeResults,e.commitTime),r=Zt(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Lb(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Ed(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{}class AH extends SH{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,Vb(t,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ie.UNKNOWN,o.toString())}))}Ho(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Vb(t,r),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IH{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jt(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="RemoteStore";class RH{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{So(this)&&(me(Vl,"Restarting streams for network reachability change."),await(async function(d){const f=Ee(d);f.Ea.add(4),await Xc(f),f.Ra.set("Unknown"),f.Ea.delete(4),await ep(f)})(this))}))})),this.Ra=new IH(r,s)}}async function ep(n){if(So(n))for(const e of n.da)await e(!0)}async function Xc(n){for(const e of n.da)await e(!1)}function Zy(n,e){const t=Ee(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),MT(t)?kT(t):Zc(t).O_()&&NT(t,e))}function xc(n,e){const t=Ee(n),r=Zc(t);t.Ia.delete(e),r.O_()&&TN(t,e),t.Ia.size===0&&(r.O_()?r.L_():So(t)&&t.Ra.set("Unknown"))}function NT(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zc(n).Y_(e)}function TN(n,e){n.Va.Ue(e),Zc(n).Z_(e)}function kT(n){n.Va=new T7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Zc(n).start(),n.Ra.ua()}function MT(n){return So(n)&&!Zc(n).x_()&&n.Ia.size>0}function So(n){return Ee(n).Ea.size===0}function wN(n){n.Va=void 0}async function CH(n){n.Ra.set("Online")}async function xH(n){n.Ia.forEach(((e,t)=>{NT(n,e)}))}async function PH(n,e){wN(n),MT(n)?(n.Ra.ha(e),kT(n)):n.Ra.set("Unknown")}async function OH(n,e,t){if(n.Ra.set("Online"),e instanceof M2&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))})(n,e)}catch(r){me(Vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jg(n,r)}else if(e instanceof yg?n.Va.Ze(e):e instanceof k2?n.Va.st(e):n.Va.tt(e),!t.isEqual(Re.min()))try{const r=await hN(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,f)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken($t.EMPTY_BYTE_STRING,g.snapshotVersion)),TN(o,d);const _=new $s(g.target,d,f,g.sequenceNumber);NT(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){me(Vl,"Failed to raise snapshot:",r),await Jg(n,r)}}async function Jg(n,e,t){if(!To(e))throw e;n.Ea.add(1),await Xc(n),n.Ra.set("Offline"),t||(t=()=>hN(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{me(Vl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ep(n)}))}function SN(n,e){return e().catch((t=>Jg(n,t,e)))}async function Jc(n){const e=Ee(n),t=po(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:eo;for(;DH(e);)try{const s=await pH(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,NH(e,s)}catch(s){await Jg(e,s)}AN(e)&&IN(e)}function DH(n){return So(n)&&n.Ta.length<10}function NH(n,e){n.Ta.push(e);const t=po(n);t.O_()&&t.X_&&t.ea(e.mutations)}function AN(n){return So(n)&&!po(n).x_()&&n.Ta.length>0}function IN(n){po(n).start()}async function kH(n){po(n).ra()}async function MH(n){const e=po(n);for(const t of n.Ta)e.ea(t.mutations)}async function VH(n,e,t){const r=n.Ta.shift(),s=_T.from(r,e,t);await SN(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Jc(n)}async function LH(n,e){e&&po(n).X_&&await(async function(r,s){if((function(u){return O2(u)&&u!==ie.ABORTED})(s.code)){const o=r.Ta.shift();po(r).B_(),await SN(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Jc(r)}})(n,e),AN(n)&&IN(n)}async function GC(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),me(Vl,"RemoteStore received new credentials");const r=So(t);t.Ea.add(3),await Xc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ep(t)}async function Hb(n,e){const t=Ee(n);e?(t.Ea.delete(2),await ep(t)):e||(t.Ea.add(2),await Xc(t),t.Ra.set("Unknown"))}function Zc(n){return n.ma||(n.ma=(function(t,r,s){const o=Ee(t);return o.sa(),new TH(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:CH.bind(null,n),t_:xH.bind(null,n),r_:PH.bind(null,n),H_:OH.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),MT(n)?kT(n):n.Ra.set("Unknown")):(await n.ma.stop(),wN(n))}))),n.ma}function po(n){return n.fa||(n.fa=(function(t,r,s){const o=Ee(t);return o.sa(),new wH(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:kH.bind(null,n),r_:LH.bind(null,n),ta:MH.bind(null,n),na:VH.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Jc(n)):(await n.fa.stop(),n.Ta.length>0&&(me(Vl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,h=new VT(e,t,u,s,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eh(n,e){if(Jt("AsyncQueue",`${e}: ${n}`),To(n))return new de(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{static emptySet(e){return new ac(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Df(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ac)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ac;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.ga=new wt(ve.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Pc{constructor(e,t,r,s,o,u,h,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new Pc(e,t,ac.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FH{constructor(){this.queries=WC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Ee(t),o=s.queries;s.queries=WC(),o.forEach(((u,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new de(ie.ABORTED,"Firestore shutting down"))}}function WC(){return new aa((n=>y2(n)),Wd)}async function LT(n,e){const t=Ee(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new UH,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=eh(u,`Initialization of query '${Ku(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&FT(t)}async function UT(n,e){const t=Ee(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function BH(n,e){const t=Ee(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const h of u.Sa)h.Fa(s)&&(r=!0);u.wa=s}}r&&FT(t)}function zH(n,e,t){const r=Ee(n),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);r.queries.delete(e)}function FT(n){n.Ca.forEach((e=>{e.next()}))}var $b,QC;(QC=$b||($b={})).Ma="default",QC.Cache="cache";class BT{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$b.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.serializer=e}$s(e){return us(this.serializer,e)}Us(e){return e.metadata.exists?z2(this.serializer,e.document,!1):It.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Zt(e)}}class qH{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=RN(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const r=$e.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new YC(this.serializer);for(const s of e)if(s.metadata.queries){const o=r.$s(s.metadata.name);for(const u of s.metadata.queries){const h=(t.get(u)||Fe()).add(o);t.set(u,h)}}return t}async ja(e){const t=await mH(e,new YC(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const s of this.Ka)await gH(e,s,r.get(s.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function RN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.key=e}}class xN{constructor(e){this.key=e}}class PN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=v2(e),this.tu=new ac(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new KC,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,_)=>{const v=s.get(g),S=Qd(this.query,_)?_:null,w=!!v&&this.mutatedKeys.has(v.key),I=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;v&&S?v.data.isEqual(S.data)?w!==I&&(r.track({type:3,doc:S}),P=!0):this.su(v,S)||(r.track({type:2,doc:S}),P=!0,(d&&this.eu(S,d)>0||f&&this.eu(S,f)<0)&&(h=!0)):!v&&S?(r.track({type:0,doc:S}),P=!0):v&&!S&&(r.track({type:1,doc:v}),P=!0,(d||f)&&(h=!0)),P&&(S?(u=u.add(S),o=I?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,_)=>(function(S,w){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:P})}};return I(S)-I(w)})(g.type,_.type)||this.eu(g.doc,_.doc))),this.ou(r),s=s??!1;const h=t&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,f=d!==this.Za;return this.Za=d,u.length!==0||f?{snapshot:new Pc(this.query,e.tu,o,u,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new xN(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new CN(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Pc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ao="SyncEngine";class HH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $H{constructor(e){this.key=e,this.hu=!1}}class GH{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new aa((h=>y2(h)),Wd),this.Iu=new Map,this.Eu=new Set,this.du=new wt(ve.comparator),this.Au=new Map,this.Ru=new AT,this.Vu={},this.mu=new Map,this.fu=Ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KH(n,e,t=!0){const r=e_(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await ON(r,e,t,!0),s}async function WH(n,e){const t=e_(n);await ON(t,e,!0,!1)}async function ON(n,e,t,r){const s=await Rc(n.localStore,rr(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await zT(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&Zy(n.remoteStore,s),h}async function zT(n,e,t,r,s){n.pu=(_,v,S)=>(async function(I,P,F,V){let z=P.view.ru(F);z.Cs&&(z=await Qg(I.localStore,P.query,!1).then((({documents:N})=>P.view.ru(N,z))));const W=V&&V.targetChanges.get(P.targetId),$=V&&V.targetMismatches.get(P.targetId)!=null,H=P.view.applyChanges(z,I.isPrimaryClient,W,$);return Gb(I,P.targetId,H.au),H.snapshot})(n,_,v,S);const o=await Qg(n.localStore,e,!0),u=new PN(e,o.Qs),h=u.ru(o.documents),d=Jd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),f=u.applyChanges(h,n.isPrimaryClient,d);Gb(n,t,f.au);const g=new HH(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function QH(n,e,t){const r=Ee(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!Wd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Cc(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&xc(r.remoteStore,s.targetId),Oc(r,s.targetId)})).catch(bo)):(Oc(r,s.targetId),await Cc(r.localStore,s.targetId,!0))}async function YH(n,e){const t=Ee(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),xc(t.remoteStore,r.targetId))}async function XH(n,e,t){const r=$T(n);try{const s=await(function(u,h){const d=Ee(u),f=at.now(),g=h.reduce(((S,w)=>S.add(w.key)),Fe());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let w=yr(),I=Fe();return d.Ns.getEntries(S,g).next((P=>{w=P,w.forEach(((F,V)=>{V.isValidDocument()||(I=I.add(F))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,w))).next((P=>{_=P;const F=[];for(const V of h){const z=v7(V,_.get(V.key).overlayedDocument);z!=null&&F.push(new oa(V.key,z,l2(z.value.mapValue),Nt.exists(!0)))}return d.mutationQueue.addMutationBatch(S,f,F,h)})).next((P=>{v=P;const F=P.applyToLocalDocumentSet(_,I);return d.documentOverlayCache.saveOverlays(S,P.batchId,F)}))})).then((()=>({batchId:v.batchId,changes:b2(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,h,d){let f=u.Vu[u.currentUser.toKey()];f||(f=new wt(ke)),f=f.insert(h,d),u.Vu[u.currentUser.toKey()]=f})(r,s.batchId,t),await la(r,s.changes),await Jc(r.remoteStore)}catch(s){const o=eh(s,"Failed to persist write");t.reject(o)}}async function DN(n,e){const t=Ee(n);try{const r=await dH(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Ae(u.hu,14607):s.removedDocuments.size>0&&(Ae(u.hu,42227),u.hu=!1))})),await la(t,r,e)}catch(r){await bo(r)}}function XC(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const d=Ee(u);d.onlineState=h;let f=!1;d.queries.forEach(((g,_)=>{for(const v of _.Sa)v.va(h)&&(f=!0)})),f&&FT(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JH(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let u=new wt(ve.comparator);u=u.insert(o,It.newNoDocument(o,Re.min()));const h=Fe().add(o),d=new Xd(Re.min(),new Map,new wt(ke),u,h);await DN(r,d),r.du=r.du.remove(o),r.Au.delete(e),HT(r)}else await Cc(r.localStore,e,!1).then((()=>Oc(r,e,t))).catch(bo)}async function ZH(n,e){const t=Ee(n),r=e.batch.batchId;try{const s=await fH(t.localStore,e);qT(t,r,null),jT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await la(t,s)}catch(s){await bo(s)}}async function e$(n,e,t){const r=Ee(n);try{const s=await(function(u,h){const d=Ee(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return d.mutationQueue.lookupMutationBatch(f,h).next((_=>(Ae(_!==null,37113),g=_.keys(),d.mutationQueue.removeMutationBatch(f,_)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>d.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);qT(r,e,t),jT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await la(r,s)}catch(s){await bo(s)}}async function t$(n,e){const t=Ee(n);So(t.remoteStore)||me(Ao,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(d=>h.mutationQueue.getHighestUnacknowledgedBatchId(d)))})(t.localStore);if(r===eo)return void e.resolve();const s=t.mu.get(r)||[];s.push(e),t.mu.set(r,s)}catch(r){const s=eh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function jT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function qT(n,e,t){const r=Ee(n);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Oc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||NN(n,r)}))}function NN(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(xc(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),HT(n))}function Gb(n,e,t){for(const r of t)r instanceof CN?(n.Ru.addReference(r.key,e),n$(n,r)):r instanceof xN?(me(Ao,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||NN(n,r.key)):Te(19791,{wu:r})}function n$(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(me(Ao,"New document in limbo: "+t),n.Eu.add(r),HT(n))}function HT(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ve($e.fromString(e)),r=n.fu.next();n.Au.set(r,new $H(t)),n.du=n.du.insert(t,r),Zy(n.remoteStore,new $s(rr(Wc(t.path)),r,"TargetPurposeLimboResolution",mr.ce))}}async function la(n,e,t){const r=Ee(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const g=f?!f.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){s.push(f);const g=xT.As(d.targetId,f);o.push(g)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(d,f){const g=Ee(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>J.forEach(f,(v=>J.forEach(v.Es,(S=>g.persistence.referenceDelegate.addReference(_,v.targetId,S))).next((()=>J.forEach(v.ds,(S=>g.persistence.referenceDelegate.removeReference(_,v.targetId,S)))))))))}catch(_){if(!To(_))throw _;me(PT,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const S=g.Ms.get(v),w=S.snapshotVersion,I=S.withLastLimboFreeSnapshotVersion(w);g.Ms=g.Ms.insert(v,I)}}})(r.localStore,o))}async function r$(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){me(Ao,"User change. New user:",e.toKey());const r=await cN(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new de(ie.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await la(t,r.Ls)}}function i$(n,e){const t=Ee(n),r=t.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let s=Fe();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const h=t.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}async function s$(n,e){const t=Ee(n),r=await Qg(t.localStore,e.query,!0),s=e.view.cu(r);return t.isPrimaryClient&&Gb(t,e.targetId,s.au),s}async function a$(n,e){const t=Ee(n);return pN(t.localStore,e).then((r=>la(t,r)))}async function o$(n,e,t,r){const s=Ee(n),o=await(function(h,d){const f=Ee(h),g=Ee(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(_=>g.er(_,d).next((v=>v?f.localDocuments.getDocuments(_,v):J.resolve(null)))))})(s.localStore,e);o!==null?(t==="pending"?await Jc(s.remoteStore):t==="acknowledged"||t==="rejected"?(qT(s,e,r||null),jT(s,e),(function(h,d){Ee(Ee(h).mutationQueue).ir(d)})(s.localStore,e)):Te(6720,"Unknown batchState",{Su:t}),await la(s,o)):me(Ao,"Cannot apply mutation batch with id: "+e)}async function l$(n,e){const t=Ee(n);if(e_(t),$T(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),s=await JC(t,r.toArray());t.gu=!0,await Hb(t.remoteStore,!0);for(const o of s)Zy(t.remoteStore,o)}else if(e===!1&&t.gu!==!1){const r=[];let s=Promise.resolve();t.Iu.forEach(((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):s=s.then((()=>(Oc(t,u),Cc(t.localStore,u,!0)))),xc(t.remoteStore,u)})),await s,await JC(t,r),(function(u){const h=Ee(u);h.Au.forEach(((d,f)=>{xc(h.remoteStore,f)})),h.Ru.Jr(),h.Au=new Map,h.du=new wt(ve.comparator)})(t),t.gu=!1,await Hb(t.remoteStore,!1)}}async function JC(n,e,t){const r=Ee(n),s=[],o=[];for(const u of e){let h;const d=r.Iu.get(u);if(d&&d.length!==0){h=await Rc(r.localStore,rr(d[0]));for(const f of d){const g=r.Tu.get(f),_=await s$(r,g);_.snapshot&&o.push(_.snapshot)}}else{const f=await dN(r.localStore,u);h=await Rc(r.localStore,f),await zT(r,kN(f),u,!1,h.resumeToken)}s.push(h)}return r.Pu.H_(o),s}function kN(n){return g2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function u$(n){return(function(t){return Ee(Ee(t).persistence).Ts()})(Ee(n).localStore)}async function c$(n,e,t,r){const s=Ee(n);if(s.gu)return void me(Ao,"Ignoring unexpected query state notification.");const o=s.Iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await pN(s.localStore,_2(o[0])),h=Xd.createSynthesizedRemoteEventForCurrentChange(e,t==="current",$t.EMPTY_BYTE_STRING);await la(s,u,h);break}case"rejected":await Cc(s.localStore,e,!0),Oc(s,e,r);break;default:Te(64155,t)}}async function h$(n,e,t){const r=e_(n);if(r.gu){for(const s of e){if(r.Iu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){me(Ao,"Adding an already active target "+s);continue}const o=await dN(r.localStore,s),u=await Rc(r.localStore,o);await zT(r,kN(o),u.targetId,!1,u.resumeToken),Zy(r.remoteStore,u)}for(const s of t)r.Iu.has(s)&&await Cc(r.localStore,s,!1).then((()=>{xc(r.remoteStore,s),Oc(r,s)})).catch(bo)}}function e_(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JH.bind(null,e),e.Pu.H_=BH.bind(null,e.eventManager),e.Pu.yu=zH.bind(null,e.eventManager),e}function $T(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e$.bind(null,e),e}function f$(n,e,t){const r=Ee(n);(async function(o,u,h){try{const d=await u.getMetadata();if(await(function(S,w){const I=Ee(S),P=Zt(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",(F=>I.Ii.getBundleMetadata(F,w.id))).then((F=>!!F&&F.createTime.compareTo(P)>=0))})(o.localStore,d))return await u.close(),h._completeWith((function(S){return{taskState:"Success",documentsLoaded:S.totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}})(d)),Promise.resolve(new Set);h._updateProgress(RN(d));const f=new qH(d,u.serializer);let g=await u.bu();for(;g;){const v=await f.Ga(g);v&&h._updateProgress(v),g=await u.bu()}const _=await f.ja(o.localStore);return await la(o,_.Ha,void 0),await(function(S,w){const I=Ee(S);return I.persistence.runTransaction("Save bundle","readwrite",(P=>I.Ii.saveBundleMetadata(P,w)))})(o.localStore,d),h._completeWith(_.progress),Promise.resolve(_.Ja)}catch(d){return ps(Ao,`Loading bundle failed with ${d}`),h._failWith(d),Promise.resolve(new Set)}})(r,e,t).then((s=>{r.sharedClientState.notifyBundleLoaded(s)}))}class bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return uN(this.persistence,new lN,e.initialUser,this.serializer)}Cu(e){return new IT(Jy.mi,this.serializer)}Du(e){return new vN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bd.provider={build:()=>new bd};class d$ extends bd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ae(this.persistence.referenceDelegate instanceof Wg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nN(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new IT((r=>Wg.mi(r,t)),this.serializer)}}class MN extends bd{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await $T(this.xu.syncEngine),await Jc(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return uN(this.persistence,new lN,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new nN(r,e.asyncQueue,t)}Mu(e,t){const r=new Tq(t,this.persistence);return new bq(e.asyncQueue,r)}Cu(e){const t=CT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new RT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,EN(),vg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new vN}}class p$ extends MN{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof KE&&(this.sharedClientState.syncEngine={Co:o$.bind(null,t),vo:c$.bind(null,t),Fo:h$.bind(null,t),Ts:u$.bind(null,t),Do:a$.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await l$(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=EN();if(!KE.v(t))throw new de(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=CT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new KE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Td{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r$.bind(null,this.syncEngine),await Hb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FH})()}createDatastore(e){const t=Zd(e.databaseInfo.databaseId),r=(function(o){return new bH(o)})(e.databaseInfo);return(function(o,u,h,d){return new AH(o,u,h,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,u,h){return new RH(r,s,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>XC(this.syncEngine,t,0)),(function(){return HC.v()?new HC:new yH})())}createSyncEngine(e,t){return(function(s,o,u,h,d,f,g){const _=new GH(s,o,u,h,d,f);return g&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ee(t);me(Vl,"RemoteStore shutting down."),r.Ea.add(5),await Xc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Td.provider={build:()=>new Td};function ZC(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new Un,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.Qu(`length string (${t}) is not valid number`);const s=await this.$u(r);return new jH(JSON.parse(s),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(s,o){const u=Ee(s),h={documents:o.map((_=>vd(u.serializer,_)))},d=await u.Ho("BatchGetDocuments",u.serializer.databaseId,$e.emptyPath(),h,o.length),f=new Map;d.forEach((_=>{const v=C7(u.serializer,_);f.set(v.key.toString(),v)}));const g=[];return o.forEach((_=>{const v=f.get(_.toString());Ae(!!v,55234,{key:_}),g.push(v)})),g})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const s=ve.fromPath(r);this.mutations.push(new gT(s,this.precondition(s)))})),await(async function(r,s){const o=Ee(r),u={writes:s.map((h=>Ed(o.serializer,h)))};await o.Go("Commit",o.serializer.databaseId,$e.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Te(50498,{Gu:e.constructor.name});t=Re.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new de(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Re.min())?Nt.exists(!1):Nt.updateTime(t):Nt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Re.min()))throw new de(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nt.updateTime(t)}return Nt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e,t,r,s,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=o,this.zu=r.maxAttempts,this.M_=new DT(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new g$(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Yu(s)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!$d(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!O2(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="FirestoreClient";class _${constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=In.UNAUTHENTICATED,this.clientId=nT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{me(mo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(me(mo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=eh(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function QE(n,e){n.asyncQueue.verifyOperationInProgress(),me(mo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await cN(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function ex(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GT(n);me(mo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>GC(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>GC(e.remoteStore,s))),n._onlineComponents=e}async function GT(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(mo,"Using user provided OfflineComponentProvider");try{await QE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;ps("Error using user provided cache. Falling back to memory cache: "+t),await QE(n,new bd)}}else me(mo,"Using default OfflineComponentProvider"),await QE(n,new d$(void 0));return n._offlineComponents}async function n_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(mo,"Using user provided OnlineComponentProvider"),await ex(n,n._uninitializedComponentsProvider._online)):(me(mo,"Using default OnlineComponentProvider"),await ex(n,new Td))),n._onlineComponents}function VN(n){return GT(n).then((e=>e.persistence))}function KT(n){return GT(n).then((e=>e.localStore))}function LN(n){return n_(n).then((e=>e.remoteStore))}function WT(n){return n_(n).then((e=>e.syncEngine))}function v$(n){return n_(n).then((e=>e.datastore))}async function Dc(n){const e=await n_(n),t=e.eventManager;return t.onListen=KH.bind(null,e.syncEngine),t.onUnlisten=QH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WH.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YH.bind(null,e.syncEngine),t}function E$(n){return n.asyncQueue.enqueue((async()=>{const e=await VN(n),t=await LN(n);return e.setNetworkEnabled(!0),(function(s){const o=Ee(s);return o.Ea.delete(0),ep(o)})(t)}))}function b$(n){return n.asyncQueue.enqueue((async()=>{const e=await VN(n),t=await LN(n);return e.setNetworkEnabled(!1),(async function(s){const o=Ee(s);o.Ea.add(0),await Xc(o),o.Ra.set("Offline")})(t)}))}function T$(n,e){const t=new Un;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,u){try{const h=await(function(f,g){const _=Ee(f);return _.persistence.runTransaction("read document","readonly",(v=>_.localDocuments.getDocument(v,g)))})(s,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new de(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const d=eh(h,`Failed to get document '${o} from cache`);u.reject(d)}})(await KT(n),e,t))),t.promise}function UN(n,e,t={}){const r=new Un;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,f){const g=new t_({next:v=>{g.Nu(),u.enqueueAndForget((()=>UT(o,_)));const S=v.docs.has(h);!S&&v.fromCache?f.reject(new de(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&v.fromCache&&d&&d.source==="server"?f.reject(new de(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new BT(Wc(h.path),g,{includeMetadataChanges:!0,qa:!0});return LT(o,_)})(await Dc(n),n.asyncQueue,e,t,r))),r.promise}function w$(n,e){const t=new Un;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,u){try{const h=await Qg(s,o,!0),d=new PN(o,h.Qs),f=d.ru(h.documents),g=d.applyChanges(f,!1);u.resolve(g.snapshot)}catch(h){const d=eh(h,`Failed to execute query '${o} against cache`);u.reject(d)}})(await KT(n),e,t))),t.promise}function FN(n,e,t={}){const r=new Un;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,f){const g=new t_({next:v=>{g.Nu(),u.enqueueAndForget((()=>UT(o,_))),v.fromCache&&d.source==="server"?f.reject(new de(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new BT(h,g,{includeMetadataChanges:!0,qa:!0});return LT(o,_)})(await Dc(n),n.asyncQueue,e,t,r))),r.promise}function S$(n,e){const t=new t_(e);return n.asyncQueue.enqueueAndForget((async()=>(function(s,o){Ee(s).Ca.add(o),o.next()})(await Dc(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(s,o){Ee(s).Ca.delete(o)})(await Dc(n),t)))}}function A$(n,e,t,r){const s=(function(u,h){let d;return d=typeof u=="string"?N2().encode(u):u,(function(g,_){return new m$(g,_)})((function(g,_){if(g instanceof Uint8Array)return ZC(g,_);if(g instanceof ArrayBuffer)return ZC(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(d),h)})(t,Zd(e));n.asyncQueue.enqueueAndForget((async()=>{f$(await WT(n),s,r)}))}function I$(n,e){return n.asyncQueue.enqueue((async()=>(function(r,s){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",(u=>o.Ii.getNamedQuery(u,s)))})(await KT(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="firestore.googleapis.com",nx=!0;class rx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zN,this.ssl=nx}else this.host=e.host,this.ssl=e.ssl??nx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<K7)throw new de(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new uq;switch(r.type){case"firstParty":return new dq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=tx.get(t);r&&(me("ComponentProvider","Removing Datastore"),tx.delete(t),r.terminate())})(this),Promise.resolve()}}function R$(n,e,t,r={}){n=tt(n,tp);const s=zc(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&(uO(`https://${h}`),cO("Firestore",!0)),o.host!==zN&&o.host!==h&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:s,emulatorOptions:r};if(!Xs(d,u)&&(n._setSettings(d),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=In.MOCK_USER;else{f=dB(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new de(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new In(_)}n._authCredentials=new cq(new DD(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ir=class jN{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jN(this.firestore,e,this._query)}},Tt=class Mf{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mf(this.firestore,e,this._key)}toJSON(){return{type:Mf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Hd(t,Mf._jsonSchema))return new Mf(e,r||null,new ve($e.fromString(t.referencePath)))}};Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:gn("string",Tt._jsonSchemaVersion),referencePath:gn("string")};let to=class qN extends ir{constructor(e,t,r){super(e,t,Wc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ve(e))}withConverter(e){return new qN(this.firestore,e,this._path)}};function HN(n,e,...t){if(n=Pe(n),rT("collection","path",e),n instanceof tp){const r=$e.fromString(e,...t);return $1(r),new to(n,null,r)}{if(!(n instanceof Tt||n instanceof to))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return $1(r),new to(n.firestore,null,r)}}function C$(n,e){if(n=tt(n,tp),rT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ir(n,null,(function(r){return new sa($e.emptyPath(),r)})(e))}function Zg(n,e,...t){if(n=Pe(n),arguments.length===1&&(e=nT.newId()),rT("doc","path",e),n instanceof tp){const r=$e.fromString(e,...t);return H1(r),new Tt(n,null,new ve(r))}{if(!(n instanceof Tt||n instanceof to))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return H1(r),new Tt(n.firestore,n instanceof to?n.converter:null,new ve(r))}}function $N(n,e){return n=Pe(n),e=Pe(e),(n instanceof Tt||n instanceof to)&&(e instanceof Tt||e instanceof to)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function GN(n,e){return n=Pe(n),e=Pe(e),n instanceof ir&&e instanceof ir&&n.firestore===e.firestore&&Wd(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="AsyncQueue";class sx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DT(this,"async_queue_retry"),this._c=()=>{const r=vg();r&&me(ix,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=vg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=vg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Un;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;me(ix,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Jt("INTERNAL UNHANDLED ERROR: ",ax(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=VT.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Te(47125,{Pc:ax(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ax(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class x${constructor(){this._progressObserver={},this._taskCompletionResolver=new Un,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=-1;let en=class extends tp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new sx,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sx(e),this._firestoreClient=void 0,await e}}};function Wn(n){if(n._terminated)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||KN(n),n._firestoreClient}function KN(n){const e=n._freezeSettings(),t=(function(s,o,u,h){return new Xq(s,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,BN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new _$(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}function O$(n,e){ps("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return WN(n,Td.provider,{build:r=>new MN(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function D$(n){ps("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();WN(n,Td.provider,{build:t=>new p$(t,e.cacheSizeBytes)})}function WN(n,e,t){if((n=tt(n,en))._firestoreClient||n._terminated)throw new de(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new de(ie.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},KN(n)}function N$(n){if(n._initialized&&!n._terminated)throw new de(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Un;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!ls.v())return Promise.resolve();const s=r+oN;await ls.delete(s)})(CT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function k$(n){return(function(t){const r=new Un;return t.asyncQueue.enqueueAndForget((async()=>t$(await WT(t),r))),r.promise})(Wn(n=tt(n,en)))}function M$(n){return E$(Wn(n=tt(n,en)))}function V$(n){return b$(Wn(n=tt(n,en)))}function L$(n,e){const t=Wn(n=tt(n,en)),r=new x$;return A$(t,n._databaseId,e,r),r}function U$(n,e){return I$(Wn(n=tt(n,en)),e).then((t=>t?new ir(n,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn($t.fromBase64String(e))}catch(t){throw new de(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Gn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hd(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:gn("string",Gn._jsonSchemaVersion),bytes:gn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(e){if(Hd(e,wi._jsonSchema))return new wi(e.latitude,e.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:gn("string",wi._jsonSchemaVersion),latitude:gn("number"),longitude:gn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hd(e,cs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new cs(e.vectorValues);throw new de(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cs._jsonSchemaVersion="firestore/vectorValue/1.0",cs._jsonSchema={type:gn("string",cs._jsonSchemaVersion),vectorValues:gn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=/^__.*__$/;class B${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qc(e,this.data,t,this.fieldTransforms)}}class QN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new oa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class r_{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new r_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ey(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YN(this.Ac)&&F$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class z${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zd(e)}Cc(e,t,r,s=!1){return new r_({Ac:e,methodName:t,Dc:r,path:Dt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ql(n){const e=n._freezeSettings(),t=Zd(n._databaseId);return new z$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function i_(n,e,t,r,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);tw("Data must be an object, but it was:",u,r);const h=ZN(r,u);let d,f;if(o.merge)d=new gr(u.fieldMask),f=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=Wb(e,_,t);if(!u.contains(v))throw new de(ie.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);tk(g,v)||g.push(v)}d=new gr(g),f=u.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,f=u.fieldTransforms;return new B$(new Ln(h),d,f)}class np extends jl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof np}}function XN(n,e,t){return new r_({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class QT extends jl{_toFieldTransform(e){return new Yd(e.path,new Sc)}isEqual(e){return e instanceof QT}}class YT extends jl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=XN(this,e,!0),r=this.vc.map((o=>Hl(o,t))),s=new Ol(r);return new Yd(e.path,s)}isEqual(e){return e instanceof YT&&Xs(this.vc,e.vc)}}class XT extends jl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=XN(this,e,!0),r=this.vc.map((o=>Hl(o,t))),s=new Dl(r);return new Yd(e.path,s)}isEqual(e){return e instanceof XT&&Xs(this.vc,e.vc)}}class JT extends jl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Ac(e.serializer,S2(e.serializer,this.Fc));return new Yd(e.path,t)}isEqual(e){return e instanceof JT&&this.Fc===e.Fc}}function ZT(n,e,t,r){const s=n.Cc(1,e,t);tw("Data must be an object, but it was:",s,r);const o=[],u=Ln.empty();wo(r,((d,f)=>{const g=nw(e,d,t);f=Pe(f);const _=s.yc(g);if(f instanceof np)o.push(g);else{const v=Hl(f,_);v!=null&&(o.push(g),u.set(g,v))}}));const h=new gr(o);return new QN(u,h,s.fieldTransforms)}function ew(n,e,t,r,s,o){const u=n.Cc(1,e,t),h=[Wb(e,r,t)],d=[s];if(o.length%2!=0)throw new de(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(Wb(e,o[v])),d.push(o[v+1]);const f=[],g=Ln.empty();for(let v=h.length-1;v>=0;--v)if(!tk(f,h[v])){const S=h[v];let w=d[v];w=Pe(w);const I=u.yc(S);if(w instanceof np)f.push(S);else{const P=Hl(w,I);P!=null&&(f.push(S),g.set(S,P))}}const _=new gr(f);return new QN(g,_,u.fieldTransforms)}function JN(n,e,t,r=!1){return Hl(t,n.Cc(r?4:3,e))}function Hl(n,e){if(ek(n=Pe(n)))return tw("Unsupported field value:",e,n),ZN(n,e);if(n instanceof jl)return(function(r,s){if(!YN(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const h of r){let d=Hl(h,s.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=Pe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S2(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=at.fromDate(r);return{timestampValue:Ic(s.serializer,o)}}if(r instanceof at){const o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ic(s.serializer,o)}}if(r instanceof wi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:V2(s.serializer,r._byteString)};if(r instanceof Tt){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bT(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof cs)return(function(u,h){return{mapValue:{fields:{[cT]:{stringValue:hT},[bc]:{arrayValue:{values:u.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return mT(h.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${By(r)}`)})(n,e)}function ZN(n,e){const t={};return ZD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(n,((r,s)=>{const o=Hl(s,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function ek(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof at||n instanceof wi||n instanceof Gn||n instanceof Tt||n instanceof jl||n instanceof cs)}function tw(n,e,t){if(!ek(t)||!MD(t)){const r=By(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Wb(n,e,t){if((e=Pe(e))instanceof go)return e._internalPath;if(typeof e=="string")return nw(n,e);throw ey("Field path arguments must be of type string or ",n,!1,void 0,t)}const j$=new RegExp("[~\\*/\\[\\]]");function nw(n,e,t){if(e.search(j$)>=0)throw ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new go(...e.split("."))._internalPath}catch{throw ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ey(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${s}`),d+=")"),new de(ie.INVALID_ARGUMENT,h+n+d)}function tk(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(s_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class q$ extends wd{data(){return super.data()}}function s_(n,e){return typeof e=="string"?nw(n,e):e instanceof go?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rw{}class rp extends rw{}function Ha(n,e,...t){let r=[];e instanceof rw&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((d=>d instanceof iw)).length,h=o.filter((d=>d instanceof a_)).length;if(u>1||u>0&&h>0)throw new de(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class a_ extends rp{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new a_(e,t,r)}_apply(e){const t=this._parse(e);return ik(e._query,t),new ir(e.firestore,e.converter,kb(e._query,t))}_parse(e){const t=ql(e.firestore);return(function(o,u,h,d,f,g,_){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){lx(_,g);const w=[];for(const I of _)w.push(ox(d,o,I));v={arrayValue:{values:w}}}else v=ox(d,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||lx(_,g),v=JN(h,u,_,g==="in"||g==="not-in");return We.create(f,g,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function H$(n,e,t){const r=e,s=s_("where",n);return a_._create(s,r,t)}class iw extends rw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iw(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ft.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const h=o.getFlattenedFilters();for(const d of h)ik(u,d),u=kb(u,d)})(e._query,t),new ir(e.firestore,e.converter,kb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sw extends rp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sw(e,t)}_apply(e){const t=(function(s,o,u){if(s.startAt!==null)throw new de(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new de(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _d(o,u)})(e._query,this._field,this._direction);return new ir(e.firestore,e.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new sa(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function $$(n,e="asc"){const t=e,r=s_("orderBy",n);return sw._create(r,t)}class o_ extends rp{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new o_(e,t,r)}_apply(e){return new ir(e.firestore,e.converter,Hg(e._query,this._limit,this._limitType))}}function G$(n){return VD("limit",n),o_._create("limit",n,"F")}function K$(n){return VD("limitToLast",n),o_._create("limitToLast",n,"L")}class l_ extends rp{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new l_(e,t,r)}_apply(e){const t=rk(e,this.type,this._docOrFields,this._inclusive);return new ir(e.firestore,e.converter,(function(s,o){return new sa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)})(e._query,t))}}function W$(...n){return l_._create("startAt",n,!0)}function Q$(...n){return l_._create("startAfter",n,!1)}class u_ extends rp{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new u_(e,t,r)}_apply(e){const t=rk(e,this.type,this._docOrFields,this._inclusive);return new ir(e.firestore,e.converter,(function(s,o){return new sa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,o)})(e._query,t))}}function Y$(...n){return u_._create("endBefore",n,!1)}function X$(...n){return u_._create("endAt",n,!0)}function rk(n,e,t,r){if(t[0]=Pe(t[0]),t[0]instanceof wd)return(function(o,u,h,d,f){if(!d)throw new de(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of sc(o))if(_.field.isKeyField())g.push(xl(u,d.key));else{const v=d.data.field(_.field);if($y(v))throw new de(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const S=_.field.canonicalString();throw new de(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}g.push(v)}return new fo(g,f)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=ql(n.firestore);return(function(u,h,d,f,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new de(ie.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let w=0;w<g.length;w++){const I=g[w];if(v[w].field.isKeyField()){if(typeof I!="string")throw new de(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof I}`);if(!dT(u)&&I.indexOf("/")!==-1)throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${I}' contains a slash.`);const P=u.path.child($e.fromString(I));if(!ve.isDocumentKey(P))throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const F=new ve(P);S.push(xl(h,F))}else{const P=JN(d,f,I);S.push(P)}}return new fo(S,_)})(n._query,n.firestore._databaseId,s,e,t,r)}}function ox(n,e,t){if(typeof(t=Pe(t))=="string"){if(t==="")throw new de(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dT(e)&&t.indexOf("/")!==-1)throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child($e.fromString(t));if(!ve.isDocumentKey(r))throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xl(n,new ve(r))}if(t instanceof Tt)return xl(n,t._key);throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${By(t)}.`)}function lx(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ik(n,e){const t=(function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class aw{convertValue(e,t="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return wo(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[bc].arrayValue?.values?.map((r=>Pt(r.doubleValue)));return new cs(t)}convertGeoPoint(e){return new wi(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Gy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(md(e));default:return null}}convertTimestamp(e){const t=ea(e);return new at(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=$e.fromString(e);Ae(K2(r),9688,{name:e});const s=new uo(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return s.isEqual(t)||Jt(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class J$ extends aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}class vl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ri=class sk extends wd{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(s_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=sk._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};ri._jsonSchemaVersion="firestore/documentSnapshot/1.0",ri._jsonSchema={type:gn("string",ri._jsonSchemaVersion),bundleSource:gn("string","DocumentSnapshot"),bundleName:gn("string"),bundle:gn("string")};let Xf=class extends ri{data(e={}){return super.data(e)}},Si=class ak{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new vl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Xf(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const d=new Xf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Xf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return h.type!==0&&(f=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:Z$(h.type),doc:d,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ak._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Z$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}function ok(n,e){return n instanceof ri&&e instanceof ri?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Si&&e instanceof Si&&n._firestore===e._firestore&&GN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(n){n=tt(n,Tt);const e=tt(n.firestore,en);return UN(Wn(e),n._key).then((t=>ow(e,n,t)))}Si._jsonSchemaVersion="firestore/querySnapshot/1.0",Si._jsonSchema={type:gn("string",Si._jsonSchemaVersion),bundleSource:gn("string","QuerySnapshot"),bundleName:gn("string"),bundle:gn("string")};class $l extends aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function tG(n){n=tt(n,Tt);const e=tt(n.firestore,en),t=Wn(e),r=new $l(e);return T$(t,n._key).then((s=>new ri(e,r,n._key,s,new vl(s!==null&&s.hasLocalMutations,!0),n.converter)))}function nG(n){n=tt(n,Tt);const e=tt(n.firestore,en);return UN(Wn(e),n._key,{source:"server"}).then((t=>ow(e,n,t)))}function rG(n){n=tt(n,ir);const e=tt(n.firestore,en),t=Wn(e),r=new $l(e);return nk(n._query),FN(t,n._query).then((s=>new Si(e,r,n,s)))}function iG(n){n=tt(n,ir);const e=tt(n.firestore,en),t=Wn(e),r=new $l(e);return w$(t,n._query).then((s=>new Si(e,r,n,s)))}function sG(n){n=tt(n,ir);const e=tt(n.firestore,en),t=Wn(e),r=new $l(e);return FN(t,n._query,{source:"server"}).then((s=>new Si(e,r,n,s)))}function ux(n,e,t){n=tt(n,Tt);const r=tt(n.firestore,en),s=c_(n.converter,e,t);return ip(r,[i_(ql(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Nt.none())])}function cx(n,e,t,...r){n=tt(n,Tt);const s=tt(n.firestore,en),o=ql(s);let u;return u=typeof(e=Pe(e))=="string"||e instanceof go?ew(o,"updateDoc",n._key,e,t,r):ZT(o,"updateDoc",n._key,e),ip(s,[u.toMutation(n._key,Nt.exists(!0))])}function aG(n){return ip(tt(n.firestore,en),[new Yc(n._key,Nt.none())])}function oG(n,e){const t=tt(n.firestore,en),r=Zg(n),s=c_(n.converter,e);return ip(t,[i_(ql(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Nt.exists(!1))]).then((()=>r))}function lk(n,...e){n=Pe(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Kb(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Kb(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,u,h;if(n instanceof Tt)u=tt(n.firestore,en),h=Wc(n._key.path),o={next:d=>{e[r]&&e[r](ow(u,n,d))},error:e[r+1],complete:e[r+2]};else{const d=tt(n,ir);u=tt(d.firestore,en),h=d._query;const f=new $l(u);o={next:g=>{e[r]&&e[r](new Si(u,f,d,g))},error:e[r+1],complete:e[r+2]},nk(n._query)}return(function(f,g,_,v){const S=new t_(v),w=new BT(g,S,_);return f.asyncQueue.enqueueAndForget((async()=>LT(await Dc(f),w))),()=>{S.Nu(),f.asyncQueue.enqueueAndForget((async()=>UT(await Dc(f),w)))}})(Wn(u),h,s,o)}function lG(n,e){return S$(Wn(n=tt(n,en)),Kb(e)?e:{next:e})}function ip(n,e){return(function(r,s){const o=new Un;return r.asyncQueue.enqueueAndForget((async()=>XH(await WT(r),s,o))),o.promise})(Wn(n),e)}function ow(n,e,t){const r=t.docs.get(e._key),s=new $l(n);return new ri(n,s,e._key,r,new vl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cG=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ql(e)}set(e,t,r){this._verifyNotCommitted();const s=Wa(e,this._firestore),o=c_(s.converter,t,r),u=i_(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,Nt.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const o=Wa(e,this._firestore);let u;return u=typeof(t=Pe(t))=="string"||t instanceof go?ew(this._dataReader,"WriteBatch.update",o._key,t,r,s):ZT(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Nt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Wa(e,this._firestore);return this._mutations=this._mutations.concat(new Yc(t._key,Nt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Wa(n,e){if((n=Pe(n)).firestore!==e)throw new de(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ql(e)}get(e){const t=Wa(e,this._firestore),r=new J$(this._firestore);return this._transaction.lookup([t._key]).then((s=>{if(!s||s.length!==1)return Te(24041);const o=s[0];if(o.isFoundDocument())return new wd(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new wd(this._firestore,r,t._key,null,t.converter);throw Te(18433,{doc:o})}))}set(e,t,r){const s=Wa(e,this._firestore),o=c_(s.converter,t,r),u=i_(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,u),this}update(e,t,r,...s){const o=Wa(e,this._firestore);let u;return u=typeof(t=Pe(t))=="string"||t instanceof go?ew(this._dataReader,"Transaction.update",o._key,t,r,s):ZT(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Wa(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fG=class extends hG{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Wa(e,this._firestore),r=new $l(this._firestore);return super.get(e).then((s=>new ri(this._firestore,r,t._key,s._document,new vl(!1,!1),t.converter)))}};function dG(n,e,t){n=tt(n,en);const r={...uG,...t};return(function(o){if(o.maxAttempts<1)throw new de(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,u,h){const d=new Un;return o.asyncQueue.enqueueAndForget((async()=>{const f=await v$(o);new y$(o.asyncQueue,f,h,u,d).ju()})),d.promise})(Wn(n),(s=>e(new fG(n,s))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(){return new np("deleteField")}function mG(){return new QT("serverTimestamp")}function gG(...n){return new YT("arrayUnion",n)}function yG(...n){return new XT("arrayRemove",n)}function _G(n){return new JT("increment",n)}(function(e,t=!0){(function(s){Kc=s})(vo),ao(new fs("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new en(new hq(r.getProvider("auth-internal")),new pq(u,r.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uo(f.options.projectId,g)})(u,s),u);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Ti(B1,z1,e),Ti(B1,z1,"esm2020")})();const vG="@firebase/firestore-compat",EG="0.4.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new de("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function fx(){if(!Qq())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}let uk=class Qb{constructor(e){this._delegate=e}static fromBase64String(e){return fx(),new Qb(Gn.fromBase64String(e))}static fromUint8Array(e){return hx(),new Qb(Gn.fromUint8Array(e))}toBase64(){return fx(),this._delegate.toBase64()}toUint8Array(){return hx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(n){return bG(n,["next","error","complete"])}function bG(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{enableIndexedDbPersistence(e,t){return O$(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return D$(e._delegate)}clearIndexedDbPersistence(e){return N$(e._delegate)}}class ck{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof uo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ps("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){R$(this._delegate,e,t,r)}enableNetwork(){return M$(this._delegate)}disableNetwork(){return V$(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,kD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return k$(this._delegate)}onSnapshotsInSync(e){return lG(this._delegate,e)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Nc(this,HN(this._delegate,e))}catch(t){throw tr(t,"collection()","Firestore.collection()")}}doc(e){try{return new ni(this,Zg(this._delegate,e))}catch(t){throw tr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new er(this,C$(this._delegate,e))}catch(t){throw tr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return dG(this._delegate,t=>e(new hk(this,t)))}batch(){return Wn(this._delegate),new fk(new cG(this._delegate,e=>ip(this._delegate,e)))}loadBundle(e){return L$(this._delegate,e)}namedQuery(e){return U$(this._delegate,e).then(t=>t?new er(this,t):null)}}class h_ extends aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new uk(new Gn(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ni.forKey(t,this.firestore,null)}}function wG(n){oq(n)}class hk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new h_(e)}get(e){const t=El(e);return this._delegate.get(t).then(r=>new Sd(this._firestore,new ri(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=El(e);return r?(lw("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const o=El(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...s),this}delete(e){const t=El(e);return this._delegate.delete(t),this}}class fk{constructor(e){this._delegate=e}set(e,t,r){const s=El(e);return r?(lw("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const o=El(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...s),this}delete(e){const t=El(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ll{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Xf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ad(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ll.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let o=s.get(t);return o||(o=new Ll(e,new h_(e),t),s.set(t,o)),o}}Ll.INSTANCES=new WeakMap;class ni{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new h_(e)}static forPath(e,t,r){if(e.length%2!==0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ni(t,new Tt(t._delegate,r,new ve(e)))}static forKey(e,t,r){return new ni(t,new Tt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Nc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Nc(this.firestore,HN(this._delegate,e))}catch(t){throw tr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Pe(e),e instanceof Tt?$N(this._delegate,e):!1}set(e,t){t=lw("DocumentReference.set",t);try{return t?ux(this._delegate,e,t):ux(this._delegate,e)}catch(r){throw tr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?cx(this._delegate,e):cx(this._delegate,e,t,...r)}catch(s){throw tr(s,"updateDoc()","DocumentReference.update()")}}delete(){return aG(this._delegate)}onSnapshot(...e){const t=dk(e),r=pk(e,s=>new Sd(this.firestore,new ri(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return lk(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=tG(this._delegate):e?.source==="server"?t=nG(this._delegate):t=eG(this._delegate),t.then(r=>new Sd(this.firestore,new ri(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ni(this.firestore,e?this._delegate.withConverter(Ll.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function tr(n,e,t){return n.message=n.message.replace(e,t),n}function dk(n){for(const e of n)if(typeof e=="object"&&!Yb(e))return e;return{}}function pk(n,e){let t;return Yb(n[0])?t=n[0]:Yb(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:r=>{t.next&&t.next(e(r))},error:t.error?.bind(t),complete:t.complete?.bind(t)}}class Sd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ni(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ok(this._delegate,e._delegate)}}class Ad extends Sd{data(e){const t=this._delegate.data(e);return this._delegate._converter||lq(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class er{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new h_(e)}where(e,t,r){try{return new er(this.firestore,Ha(this._delegate,H$(e,t,r)))}catch(s){throw tr(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new er(this.firestore,Ha(this._delegate,$$(e,t)))}catch(r){throw tr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new er(this.firestore,Ha(this._delegate,G$(e)))}catch(t){throw tr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new er(this.firestore,Ha(this._delegate,K$(e)))}catch(t){throw tr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new er(this.firestore,Ha(this._delegate,W$(...e)))}catch(t){throw tr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new er(this.firestore,Ha(this._delegate,Q$(...e)))}catch(t){throw tr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new er(this.firestore,Ha(this._delegate,Y$(...e)))}catch(t){throw tr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new er(this.firestore,Ha(this._delegate,X$(...e)))}catch(t){throw tr(t,"endAt()","Query.endAt()")}}isEqual(e){return GN(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=iG(this._delegate):e?.source==="server"?t=sG(this._delegate):t=rG(this._delegate),t.then(r=>new Xb(this.firestore,new Si(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=dk(e),r=pk(e,s=>new Xb(this.firestore,new Si(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return lk(this._delegate,t,r)}withConverter(e){return new er(this.firestore,e?this._delegate.withConverter(Ll.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class SG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ad(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Xb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new er(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ad(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new SG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ad(this._firestore,r))})}isEqual(e){return ok(this._delegate,e._delegate)}}class Nc extends er{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ni(this.firestore,e):null}doc(e){try{return e===void 0?new ni(this.firestore,Zg(this._delegate)):new ni(this.firestore,Zg(this._delegate,e))}catch(t){throw tr(t,"doc()","CollectionReference.doc()")}}add(e){return oG(this._delegate,e).then(t=>new ni(this.firestore,t))}isEqual(e){return $N(this._delegate,e._delegate)}withConverter(e){return new Nc(this.firestore,e?this._delegate.withConverter(Ll.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function El(n){return tt(n,Tt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(...e){this._delegate=new go(...e)}static documentId(){return new uw(Dt.keyField().canonicalString())}isEqual(e){return e=Pe(e),e instanceof go?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{static serverTimestamp(){const e=mG();return e._methodName="FieldValue.serverTimestamp",new pl(e)}static delete(){const e=pG();return e._methodName="FieldValue.delete",new pl(e)}static arrayUnion(...e){const t=gG(...e);return t._methodName="FieldValue.arrayUnion",new pl(t)}static arrayRemove(...e){const t=yG(...e);return t._methodName="FieldValue.arrayRemove",new pl(t)}static increment(e){const t=_G(e);return t._methodName="FieldValue.increment",new pl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG={Firestore:ck,GeoPoint:wi,Timestamp:at,Blob:uk,Transaction:hk,WriteBatch:fk,DocumentReference:ni,DocumentSnapshot:Sd,Query:er,QueryDocumentSnapshot:Ad,QuerySnapshot:Xb,CollectionReference:Nc,FieldPath:uw,FieldValue:pl,setLogLevel:wG,CACHE_SIZE_UNLIMITED:P$};function IG(n,e){n.INTERNAL.registerComponent(new fs("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps({...AG}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(n){IG(n,(e,t)=>new ck(e,t,new TG)),n.registerVersion(vG,EG)}RG(qc);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG=2e3;async function xG(n,e,t){const{BuildInfo:r}=Ul();Ai(e.sessionId,"AuthEvent did not contain a session ID");const s=await kG(e.sessionId),o={};return Fd()?o.ibi=r.packageName:Ud()?o.apn=r.packageName:Cn(n,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,Eb(n,t,e.type,void 0,e.eventId??void 0,o)}async function PG(n){const{BuildInfo:e}=Ul(),t={};Fd()?t.iosBundleId=e.packageName:Ud()?t.androidPackageName=e.packageName:Cn(n,"operation-not-supported-in-this-environment"),await TD(n,t)}function OG(n){const{cordova:e}=Ul();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let s=null;r?e.plugins.browsertab.openUrl(n):s=e.InAppBrowser.open(n,pz()?"_blank":"_system","location=yes"),t(s)})})}async function DG(n,e,t){const{cordova:r}=Ul();let s=()=>{};try{await new Promise((o,u)=>{let h=null;function d(){o();const _=r.plugins.browsertab?.close;typeof _=="function"&&_(),typeof t?.close=="function"&&t.close()}function f(){h||(h=window.setTimeout(()=>{u(En(n,"redirect-cancelled-by-user"))},CG))}function g(){document?.visibilityState==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Ud()&&document.addEventListener("visibilitychange",g,!1),s=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{s()}}function NG(n){const e=Ul();ge(typeof e?.universalLinks?.subscribe=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ge(typeof e?.BuildInfo?.packageName<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ge(typeof e?.cordova?.plugins?.browsertab?.openUrl=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge(typeof e?.cordova?.plugins?.browsertab?.isAvailable=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge(typeof e?.cordova?.InAppBrowser?.open=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function kG(n){const e=MG(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}function MG(n){if(Ai(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG=20;class LG extends ED{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function UG(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:zG(),postBody:null,tenantId:n.tenantId,error:En(n,"no-auth-event")}}function FG(n,e){return Jb()._set(Zb(n),e)}async function dx(n){const e=await Jb()._get(Zb(n));return e&&await Jb()._remove(Zb(n)),e}function BG(n,e){const t=qG(e);if(t.includes("/__/auth/callback")){const r=Eg(t),o=(r.firebaseError?jG(decodeURIComponent(r.firebaseError)):null)?.code?.split("auth/")?.[1],u=o?En(o):null;return u?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function zG(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<VG;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function Jb(){return kr(My)}function Zb(n){return wl("authEvent",n.config.apiKey,n.name)}function jG(n){try{return JSON.parse(n)}catch{return null}}function qG(n){const e=Eg(n),t=e.link?decodeURIComponent(e.link):void 0,r=Eg(t).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Eg(s).link||s||r||t||n}function Eg(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return Ju(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=500;class $G{constructor(){this._redirectPersistence=oo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fy,this._overrideRedirectResult=Z0}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new LG(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Cn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,s){NG(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),g8(),await this._originValidation(e);const u=UG(e,r,s);await FG(e,u);const h=await xG(e,u,t),d=await OG(h);return DG(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PG(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:s,BuildInfo:o}=Ul(),u=setTimeout(async()=>{await dx(e),t.onEvent(px())},HG),h=async g=>{clearTimeout(u);const _=await dx(e);let v=null;_&&g?.url&&(v=BG(_,g.url)),t.onEvent(v||px())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const d=s,f=`${o.packageName.toLowerCase()}://`;Ul().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(f)&&h({url:g}),typeof d=="function")try{d(g)}catch(_){console.error(_)}}}}const GG=$G;function px(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:En("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KG(n,e){Ut(n)._logFramework(e)}var WG="@firebase/auth-compat",QG="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=1e3;function Jf(){return self?.location?.protocol||null}function XG(){return Jf()==="http:"||Jf()==="https:"}function mk(n=Lt()){return!!((Jf()==="file:"||Jf()==="ionic:"||Jf()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function JG(){return D0()||Iy()}function ZG(){return dO()&&document?.documentMode===11}function eK(n=Lt()){return/Edge\/\d+/.test(n)}function tK(n=Lt()){return ZG()||eK(n)}function gk(){try{const n=self.localStorage,e=jd();if(n)return n.setItem(e,"1"),n.removeItem(e),tK()?id():!0}catch{return cw()&&id()}return!1}function cw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function YE(){return(XG()||fO()||mk())&&!JG()&&gk()&&!cw()}function yk(){return mk()&&typeof document<"u"}async function nK(){return yk()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},YG);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function rK(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr={LOCAL:"local",NONE:"none",SESSION:"session"},Tf=ge,_k="persistence";function iK(n,e){if(Tf(Object.values(Dr).includes(e),n,"invalid-persistence-type"),D0()){Tf(e!==Dr.SESSION,n,"unsupported-persistence-type");return}if(Iy()){Tf(e===Dr.NONE,n,"unsupported-persistence-type");return}if(cw()){Tf(e===Dr.NONE||e===Dr.LOCAL&&id(),n,"unsupported-persistence-type");return}Tf(e===Dr.NONE||gk(),n,"unsupported-persistence-type")}async function e0(n){await n._initializationPromise;const e=vk(),t=wl(_k,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function sK(n,e){const t=vk();if(!t)return[];const r=wl(_k,n,e);switch(t.getItem(r)){case Dr.NONE:return[fc];case Dr.LOCAL:return[pc,oo];case Dr.SESSION:return[oo];default:return[]}}function vk(){try{return rK()?.sessionStorage||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=ge;class Qa{constructor(){this.browserResolver=kr(wD),this.cordovaResolver=kr(GG),this.underlyingResolver=null,this._redirectPersistence=oo,this._completeRedirectFn=Fy,this._overrideRedirectResult=Z0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,s)}async _openRedirect(e,t,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,s)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return yk()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return aK(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await nK();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(n){return n.unwrap()}function oK(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lK(n){return bk(n)}function uK(n,e){const t=e.customData?._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){const r=e;r.resolver=new cK(n,Oj(n,e))}else if(t){const r=bk(e),s=e;r&&(s.credential=r,s.tenantId=t.tenantId||void 0,s.email=t.email||void 0,s.phoneNumber=t.phoneNumber||void 0)}}function bk(n){const{_tokenResponse:e}=n instanceof nr?n.customData:n;if(!e)return null;if(!(n instanceof nr)&&"temporaryProof"in e&&"phoneNumber"in e)return Cl.credentialFromResult(n);const t=e.providerId;if(!t||t===mf.PASSWORD)return null;let r;switch(t){case mf.GOOGLE:r=ts;break;case mf.FACEBOOK:r=es;break;case mf.GITHUB:r=ns;break;case mf.TWITTER:r=rs;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:d}=e;return!o&&!u&&!s&&!h?null:h?t.startsWith("saml.")?dc._create(t,h):ds._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:s,accessToken:o}):new rc(t).credential({idToken:s,accessToken:o,rawNonce:d})}return n instanceof nr?r.credentialFromError(n):r.credentialFromResult(n)}function pr(n,e){return e.catch(t=>{throw t instanceof nr&&uK(n,t),t}).then(t=>{const r=t.operationType,s=t.user;return{operationType:r,credential:lK(t),additionalUserInfo:Cj(t),user:Gs.getOrCreate(s)}})}async function t0(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>pr(n,t.confirm(r))}}class cK{constructor(e,t){this.resolver=t,this.auth=oK(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return pr(Ek(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this._delegate=e,this.multiFactor=kj(e)}static getOrCreate(e){return Gs.USER_MAP.has(e)||Gs.USER_MAP.set(e,new Gs(e)),Gs.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return pr(this.auth,rD(this._delegate,e))}async linkWithPhoneNumber(e,t){return t0(this.auth,r8(this._delegate,e,t))}async linkWithPopup(e){return pr(this.auth,f8(this._delegate,e,Qa))}async linkWithRedirect(e){return await e0(Ut(this.auth)),b8(this._delegate,e,Qa)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return pr(this.auth,iD(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return t0(this.auth,i8(this._delegate,e,t))}reauthenticateWithPopup(e){return pr(this.auth,h8(this._delegate,e,Qa))}async reauthenticateWithRedirect(e){return await e0(Ut(this.auth)),v8(this._delegate,e,Qa)}sendEmailVerification(e){return yj(this._delegate,e)}async unlink(e){return await sj(this._delegate,e),this}updateEmail(e){return bj(this._delegate,e)}updatePassword(e){return Tj(this._delegate,e)}updatePhoneNumber(e){return s8(this._delegate,e)}updateProfile(e){return Ej(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return _j(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gs.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=ge;let n0=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;wf(r,"invalid-api-key",{appName:e.name}),wf(r,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?Qa:void 0;this._delegate=t.initialize({options:{persistence:hK(r,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(W9),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){QO(this._delegate,e,t)}applyActionCode(e){return cj(this._delegate,e)}checkActionCode(e){return sD(this._delegate,e)}confirmPasswordReset(e,t){return uj(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return pr(this._delegate,aD(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return gj(this._delegate,e)}isSignInWithEmailLink(e){return dj(this._delegate,e)}async getRedirectResult(){wf(YE(),this._delegate,"operation-not-supported-in-this-environment");const e=await w8(this._delegate,Qa);return e?pr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){KG(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:s,error:o,complete:u}=mx(e,t,r);return this._delegate.onAuthStateChanged(s,o,u)}onIdTokenChanged(e,t,r){const{next:s,error:o,complete:u}=mx(e,t,r);return this._delegate.onIdTokenChanged(s,o,u)}sendSignInLinkToEmail(e,t){return fj(this._delegate,e,t)}sendPasswordResetEmail(e,t){return lj(this._delegate,e,t||void 0)}async setPersistence(e){iK(this._delegate,e);let t;switch(e){case Dr.SESSION:t=oo;break;case Dr.LOCAL:t=await kr(pc)._isAvailable()?pc:My;break;case Dr.NONE:t=fc;break;default:return Cn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return pr(this._delegate,ij(this._delegate))}signInWithCredential(e){return pr(this._delegate,Ny(this._delegate,e))}signInWithCustomToken(e){return pr(this._delegate,oj(this._delegate,e))}signInWithEmailAndPassword(e,t){return pr(this._delegate,oD(this._delegate,e,t))}signInWithEmailLink(e,t){return pr(this._delegate,pj(this._delegate,e,t))}signInWithPhoneNumber(e,t){return t0(this._delegate,n8(this._delegate,e,t))}async signInWithPopup(e){return wf(YE(),this._delegate,"operation-not-supported-in-this-environment"),pr(this._delegate,c8(this._delegate,e,Qa))}async signInWithRedirect(e){return wf(YE(),this._delegate,"operation-not-supported-in-this-environment"),await e0(this._delegate),y8(this._delegate,e,Qa)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return hj(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};n0.Persistence=Dr;function mx(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const s=r;return{next:u=>s(u&&Gs.getOrCreate(u)),error:e,complete:t}}function hK(n,e){const t=sK(n,e);if(typeof self<"u"&&!t.includes(pc)&&t.push(pc),typeof window<"u")for(const r of[My,oo])t.includes(r)||t.push(r);return t.includes(fc)||t.push(fc),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{static credential(e,t){return Cl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Cl(Ek(qc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}hw.PHONE_SIGN_IN_METHOD=Cl.PHONE_SIGN_IN_METHOD;hw.PROVIDER_ID=Cl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK=ge;class dK{constructor(e,t,r=qc.app()){fK(r.options?.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new e8(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK="auth-compat";function mK(n){n.INTERNAL.registerComponent(new fs(pK,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new n0(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fu.EMAIL_SIGNIN,PASSWORD_RESET:Fu.PASSWORD_RESET,RECOVER_EMAIL:Fu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Fu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Fu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Fu.VERIFY_EMAIL}},EmailAuthProvider:Eo,FacebookAuthProvider:es,GithubAuthProvider:ns,GoogleAuthProvider:ts,OAuthProvider:rc,SAMLAuthProvider:kg,PhoneAuthProvider:hw,PhoneMultiFactorGenerator:SD,RecaptchaVerifier:dK,TwitterAuthProvider:rs,Auth:n0,AuthCredential:$c,Error:nr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(WG,QG)}mK(qc);const gK={apiKey:"AIzaSyBlgyngvCU8nAbBJ-rZcEo3cDjlk6ovZns",authDomain:"clone-cba83.firebaseapp.com",projectId:"clone-cba83",storageBucket:"clone-cba83.firebasestorage.app",messagingSenderId:"412854513363",appId:"1:412854513363:web:e8f30ab1f6f5e5bc852e26"},r0=qc.initializeApp(gK),ty=sq(r0),Tk=r0.firestore(r0),yK=()=>{const[{basket:n,user:e}]=Q.useContext(na),t=n?.reduce((r,s)=>s.amount+r,0);return U.jsxs(U.Fragment,{children:[U.jsx("section",{className:js.fixed,children:U.jsxs("div",{className:js.header_container,children:[U.jsxs("div",{className:js.logo_container,children:[U.jsx(Ei,{to:"/",children:U.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),U.jsxs("div",{className:js.delivery,children:[U.jsx("span",{children:U.jsx(jF,{})}),U.jsxs("div",{children:[U.jsx("p",{children:"Deliverd to"}),U.jsx("span",{children:"Ethiopia"})]})]})]}),U.jsxs("div",{className:js.search,children:[U.jsx("select",{name:"",id:"",children:U.jsx("option",{value:"",children:"All"})}),U.jsx("input",{type:"text",name:"",id:"",placeholder:"search product"}),U.jsx(zF,{size:38})]}),U.jsxs("div",{className:js.order_container,children:[U.jsxs(Ei,{t0:"",className:js.language,children:[U.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png",alt:""}),U.jsx("select",{children:U.jsx("option",{value:"",children:"En"})})]}),U.jsx(Ei,{to:!e&&"/auth",children:U.jsx("div",{children:e?U.jsxs(U.Fragment,{children:[U.jsxs("p",{children:["Hello ",e?.email?.split("@")[0]]}),U.jsx("span",{onClick:()=>ty.signOut(),children:"Sign Out"})]}):U.jsxs(U.Fragment,{children:[U.jsx("p",{children:" Hello Sign In"}),U.jsx("span",{children:"Account & List"})]})})}),U.jsxs(Ei,{to:"/orders",children:[U.jsx("p",{children:"returns"}),U.jsx("span",{children:"& orders"})]}),U.jsxs(Ei,{to:"/cart",className:js.cart,children:[U.jsx(JF,{size:35}),U.jsx("span",{children:t})]})]})]})}),U.jsx(nB,{})]})};function Gl({children:n}){return U.jsxs("div",{children:[U.jsx(yK,{}),n]})}Gl.propTypes={children:Ne.node.isRequired};function _K(){return U.jsxs(Gl,{children:[U.jsx(c4,{}),U.jsx(m4,{}),U.jsx(NF,{})]})}const vK="_container_1sjto_1",EK="_cart_product_1sjto_19",bK="_btn_container_1sjto_27",TK="_btn_1sjto_27",wK="_subtotal_1sjto_61",SK="_cart_container_1sjto_67",al={container:vK,cart_product:EK,btn_container:bK,btn:TK,subtotal:wK,cart_container:SK};function AK(){const[{basket:n},e]=Q.useContext(na),t=n.reduce((o,u)=>u.price*u.amount+o,0),r=o=>{e({type:ti.ADD_TO_BASKET,item:o})},s=o=>{e({type:ti.REMOVE_FROM_BASEKET,id:o})};return U.jsxs(Gl,{children:[U.jsx("br",{}),U.jsx("br",{}),U.jsx("br",{}),U.jsxs("section",{className:al.container,children:[U.jsxs("div",{className:al.cart_container,children:[U.jsx("br",{}),U.jsx("br",{}),U.jsx("h2",{children:"hello"}),U.jsx("h3",{children:"your shopping basket"}),U.jsx("hr",{}),n?.length==0?U.jsx("p",{children:"opps No item in your cart"}):n?.map((o,u)=>U.jsxs("section",{className:al.cart_product,children:[U.jsx(Fl,{product:o,renderDesc:!0,flex:!0,renderAdd:!1}),U.jsxs("div",{className:al.btn_container,children:[U.jsx("button",{className:al.btn,onClick:()=>r(o),children:U.jsx(eB,{})}),U.jsx("span",{children:o.amount}),U.jsx("button",{className:al.btn,onClick:()=>s(o.id),children:U.jsx(ZF,{})})]})]},u))]}),n?.length!==0&&U.jsxs("div",{className:al.subtotal,children:[U.jsxs("div",{children:[U.jsxs("p",{children:["subtotal (",n?.length," items)"]}),U.jsx(Sy,{amount:t})]}),U.jsxs("span",{children:[U.jsx("input",{type:"checkbox"}),U.jsx("small",{children:"This order contain a gift"})]}),U.jsx(Ei,{to:"/payment",children:"continue to checkout"})]})]})]})}const IK="_container_1n6py_1",RK="_orders__container_1n6py_9",gx={container:IK,orders__container:RK};function CK(){const[{user:n}]=Q.useContext(na),[e,t]=Q.useState([]);return Q.useEffect(()=>{n?Tk.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(r=>{t(r.docs.map(s=>({id:s.id,data:s.data()})))}):t([])},[n]),U.jsxs(Gl,{children:[U.jsx("br",{}),U.jsx("br",{}),U.jsx("br",{}),U.jsx("section",{className:gx.container,children:U.jsxs("div",{className:gx.orders__container,children:[U.jsx("h2",{children:"Your Orders"}),e?.length==0&&U.jsx("div",{children:" you don't have orders"}),U.jsx("div",{children:e?.map((r,s)=>U.jsxs("div",{children:[U.jsx("hr",{}),U.jsxs("p",{children:["Order ID: ",r?.id]}),r?.data?.basket?.map(o=>U.jsx(Fl,{flex:!0,product:o},o.id))]},s))})]})})]})}const xK="_payment_1w956_1",PK="_flex_1w956_23",OK="_payment_card_container_1w956_57",DK="_payment_price_1w956_71",NK="_payment_details_1w956_89",kK="_loader_1w956_115",zs={payment:xK,flex:PK,payment_card_container:OK,payment_price:DK,payment_details:NK,loader:kK};function yx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function _x(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yx(Object(t),!0).forEach(function(r){wk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yx(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function bg(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bg=function(e){return typeof e}:bg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(n)}function wk(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MK(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function VK(n,e){if(n==null)return{};var t=MK(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Sk(n,e){return LK(n)||UK(n,e)||FK(n,e)||BK()}function LK(n){if(Array.isArray(n))return n}function UK(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],s=!0,o=!1,u,h;try{for(t=t.call(n);!(s=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));s=!0);}catch(d){o=!0,h=d}finally{try{!s&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function FK(n,e){if(n){if(typeof n=="string")return vx(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vx(n,e)}}function vx(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function BK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Zn=function(e,t,r){var s=!!r,o=Je.useRef(r);Je.useEffect(function(){o.current=r},[r]),Je.useEffect(function(){if(!s||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[s,t,e,o])},i0=function(e){var t=Je.useRef(e);return Je.useEffect(function(){t.current=e},[e]),t.current},kc=function(e){return e!==null&&bg(e)==="object"},zK=function(e){return kc(e)&&typeof e.then=="function"},jK=function(e){return kc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Ex="[object Object]",qK=function n(e,t){if(!kc(e)||!kc(t))return e===t;var r=Array.isArray(e),s=Array.isArray(t);if(r!==s)return!1;var o=Object.prototype.toString.call(e)===Ex,u=Object.prototype.toString.call(t)===Ex;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),d=Object.keys(t);if(h.length!==d.length)return!1;for(var f={},g=0;g<h.length;g+=1)f[h[g]]=!0;for(var _=0;_<d.length;_+=1)f[d[_]]=!0;var v=Object.keys(f);if(v.length!==h.length)return!1;var S=e,w=t,I=function(F){return n(S[F],w[F])};return v.every(I)},Ak=function(e,t,r){return kc(e)?Object.keys(e).reduce(function(s,o){var u=!kc(t)||!qK(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),s):u?_x(_x({},s||{}),{},wk({},o,e[o])):s},null):null},Ik="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",bx=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ik;if(e===null||jK(e))return e;throw new Error(t)},HK=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ik;if(zK(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return bx(s,t)})};var r=bx(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},$K=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},f_=Je.createContext(null);f_.displayName="ElementsContext";var Rk=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Ck=function(e){var t=e.stripe,r=e.options,s=e.children,o=Je.useMemo(function(){return HK(t)},[t]),u=Je.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=Sk(u,2),d=h[0],f=h[1];Je.useEffect(function(){var v=!0,S=function(I){f(function(P){return P.stripe?P:{stripe:I,elements:I.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(w){w&&v&&S(w)}):o.tag==="sync"&&!d.stripe&&S(o.stripe),function(){v=!1}},[o,d,r]);var g=i0(t);Je.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=i0(r);return Je.useEffect(function(){if(d.elements){var v=Ak(r,_,["clientSecret","fonts"]);v&&d.elements.update(v)}},[r,_,d.elements]),Je.useEffect(function(){$K(d.stripe)},[d.stripe]),Je.createElement(f_.Provider,{value:d},s)};Ck.propTypes={stripe:Ne.any,options:Ne.object};var GK=function(e){var t=Je.useContext(f_);return Rk(t,e)},KK=function(){var e=GK("calls useElements()"),t=e.elements;return t};Ne.func.isRequired;var xk=Je.createContext(null);xk.displayName="CheckoutContext";Ne.any,Ne.shape({fetchClientSecret:Ne.func.isRequired,elementsOptions:Ne.object}).isRequired;var s0=function(e){var t=Je.useContext(xk),r=Je.useContext(f_);if(t){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}else return Rk(r,e)},WK=["mode"],QK=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},yn=function(e,t){var r="".concat(QK(e),"Element"),s=function(d){var f=d.id,g=d.className,_=d.options,v=_===void 0?{}:_,S=d.onBlur,w=d.onFocus,I=d.onReady,P=d.onChange,F=d.onEscape,V=d.onClick,z=d.onLoadError,W=d.onLoaderStart,$=d.onNetworksChange,H=d.onConfirm,N=d.onCancel,C=d.onShippingAddressChange,x=d.onShippingRateChange,L=d.onSavedPaymentMethodRemove,O=d.onSavedPaymentMethodUpdate,b=s0("mounts <".concat(r,">")),R="elements"in b?b.elements:null,G="checkoutState"in b?b.checkoutState:null,M=G?.type==="success"?G.checkout:null,j=Je.useState(null),X=Sk(j,2),ne=X[0],be=X[1],we=Je.useRef(null),B=Je.useRef(null);Zn(ne,"blur",S),Zn(ne,"focus",w),Zn(ne,"escape",F),Zn(ne,"click",V),Zn(ne,"loaderror",z),Zn(ne,"loaderstart",W),Zn(ne,"networkschange",$),Zn(ne,"confirm",H),Zn(ne,"cancel",N),Zn(ne,"shippingaddresschange",C),Zn(ne,"shippingratechange",x),Zn(ne,"savedpaymentmethodremove",L),Zn(ne,"savedpaymentmethodupdate",O),Zn(ne,"change",P);var se;I&&(e==="expressCheckout"?se=I:se=function(){I(ne)}),Zn(ne,"ready",se),Je.useLayoutEffect(function(){if(we.current===null&&B.current!==null&&(R||M)){var pe=null;if(M)switch(e){case"payment":pe=M.createPaymentElement(v);break;case"address":if("mode"in v){var Ce=v.mode,De=VK(v,WK);if(Ce==="shipping")pe=M.createShippingAddressElement(De);else if(Ce==="billing")pe=M.createBillingAddressElement(De);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":pe=M.createExpressCheckoutElement(v);break;case"currencySelector":pe=M.createCurrencySelectorElement();break;case"taxId":pe=M.createTaxIdElement(v);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else R&&(pe=R.create(e,v));we.current=pe,be(pe),pe&&pe.mount(B.current)}},[R,M,v]);var ye=i0(v);return Je.useEffect(function(){if(we.current){var pe=Ak(v,ye,["paymentRequest"]);pe&&"update"in we.current&&we.current.update(pe)}},[v,ye]),Je.useLayoutEffect(function(){return function(){if(we.current&&typeof we.current.destroy=="function")try{we.current.destroy(),we.current=null}catch{}}},[]),Je.createElement("div",{id:f,className:g,ref:B})},o=function(d){s0("mounts <".concat(r,">"));var f=d.id,g=d.className;return Je.createElement("div",{id:f,className:g})},u=t?o:s;return u.propTypes={id:Ne.string,className:Ne.string,onChange:Ne.func,onBlur:Ne.func,onFocus:Ne.func,onReady:Ne.func,onEscape:Ne.func,onClick:Ne.func,onLoadError:Ne.func,onLoaderStart:Ne.func,onNetworksChange:Ne.func,onConfirm:Ne.func,onCancel:Ne.func,onShippingAddressChange:Ne.func,onShippingRateChange:Ne.func,onSavedPaymentMethodRemove:Ne.func,onSavedPaymentMethodUpdate:Ne.func,options:Ne.object},u.displayName=r,u.__elementType=e,u},_n=typeof window>"u",YK=Je.createContext(null);YK.displayName="EmbeddedCheckoutProviderContext";var XK=function(){var e=s0("calls useStripe()"),t=e.stripe;return t};yn("auBankAccount",_n);var Tx=yn("card",_n);yn("cardNumber",_n);yn("cardExpiry",_n);yn("cardCvc",_n);yn("fpxBank",_n);yn("iban",_n);yn("idealBank",_n);yn("p24Bank",_n);yn("epsBank",_n);yn("payment",_n);yn("expressCheckout",_n);yn("paymentRequestButton",_n);yn("linkAuthentication",_n);yn("address",_n);yn("shippingAddress",_n);yn("paymentMethodMessaging",_n);yn("affirmMessage",_n);yn("afterpayClearpayMessage",_n);yn("taxId",_n);const JK=kt.create({baseURL:"https://amazon-api-ehe2.onrender.com/"});function ZK(){const[{basket:n,user:e},t]=Q.useContext(na),r=n?.reduce((w,I)=>I.amount+w,0),s=n.reduce((w,I)=>I.price*I.amount+w,0),[o,u]=Q.useState(null),[h,d]=Q.useState(!1),f=XK(),g=KK(),_=ry(),v=w=>{u(w?.error?.message||"")},S=async w=>{w.preventDefault();try{d(!0);const P=(await JK({method:"POST",url:`/payment/create?total=${s*100}`}))?.data?.clientSecret,{paymentIntent:F,error:V}=await f.confirmCardPayment(P,{payment_method:{card:g.getElement(Tx)}});if(V){u(V.message),d(!1);return}await Tk.collection("users").doc(e.uid).collection("orders").doc(F.id).set({basket:n,amount:F.amount,created:F.created}),t({type:ti.EMPTY_BASKET}),d(!1),_("/orders",{state:{msg:"you have placed new order"}})}catch{d(!1)}};return U.jsxs(Gl,{children:[U.jsx("br",{}),U.jsx("br",{}),U.jsxs("div",{className:zs.payment_header,children:["Checkout (",r,") items"]}),U.jsxs("section",{className:zs.payment,children:[U.jsxs("div",{className:zs.flex,children:[U.jsx("h3",{children:"Delivery Address"}),U.jsxs("div",{children:[U.jsx("div",{children:e?.email}),U.jsx("div",{children:"123 React Lane"}),U.jsx("div",{children:"Chicago, IL"})]})]}),U.jsx("hr",{}),U.jsxs("div",{className:zs.flex,children:[U.jsx("h3",{children:"Review items and Delivery"}),U.jsx("div",{children:n?.map(w=>U.jsx(Fl,{product:w,flex:!0},w.id))})]}),U.jsx("hr",{}),U.jsxs("div",{className:zs.flex,children:[U.jsx("h3",{children:"Payment method"}),U.jsx("div",{className:zs.payment_card_container,children:U.jsx("div",{className:zs.payment_details,children:U.jsxs("form",{onSubmit:S,children:[o&&U.jsxs("small",{style:{color:"red"},children:[" ",o]}),U.jsx(Tx,{onChange:v}),U.jsxs("div",{className:zs.payment_price,children:[U.jsx("div",{children:U.jsxs("span",{style:{display:"flex",gap:"10px"},children:[U.jsx("p",{children:"Total Order | "}),U.jsx(Sy,{amount:s})]})}),U.jsx("button",{type:"submit",disabled:h,children:h?U.jsxs("div",{className:zs.loader,children:[U.jsx(pb,{color:"gray",size:12}),U.jsx("p",{children:"please wait..."})]}):" Pay Now"})]})]})})})]})]})]})}const eW="_products_container_1fys7_1",tW={products_container:eW},Pk="https://fakestoreapi.com";function nW(){const[n,e]=Q.useState([]),[t,r]=Q.useState(!1),{categoryName:s}=Nx();return Q.useEffect(()=>{r(!0),kt.get(`${Pk}/products/category/${s}`).then(o=>{e(o.data),r(!1)}).catch(()=>{r(!1)})},[s]),U.jsx(Gl,{children:t?U.jsx(C0,{}):U.jsxs("section",{children:[U.jsx("br",{}),U.jsx("h1",{style:{padding:"30px"},children:"Results"}),U.jsxs("p",{style:{padding:"30px"},children:["Category / ",s]}),U.jsx("hr",{}),U.jsx("div",{className:tW.products_container,children:n.map(o=>U.jsx(Fl,{product:o,renderAdd:!0},o.id))})]})})}function rW(){const[n,e]=Q.useState([]),[t,r]=Q.useState(!1),{productId:s}=Nx();return Q.useEffect(()=>{r(!0),kt.get(`${Pk}/products/${s}`).then(o=>{e(o.data),r(!1)}).catch(()=>{r(!1)})},[s]),U.jsxs(Gl,{children:[U.jsx("br",{}),U.jsx("br",{}),U.jsx("br",{}),t?U.jsx(C0,{}):U.jsx(Fl,{product:n,flex:!0,renderDesc:!0,renderAdd:!0})]})}const iW="_login_7x0yv_1",sW="_login_container_7x0yv_23",aW="_login_siginbtn_7x0yv_93",oW="_login_signupbtn_7x0yv_119",Km={login:iW,login_container:sW,login_siginbtn:aW,login_signupbtn:oW};function lW(){const[n,e]=Q.useState(""),[t,r]=Q.useState(""),[s,o]=Q.useState(""),[,u]=Q.useContext(na),[h,d]=Q.useState({signin:!1,signup:!1}),f=ry(),g=_o(),_=async v=>{v.preventDefault(),v.target.name=="signin"?(d({...h,signin:!0}),oD(ty,n,t).then(S=>{u({type:ti.SET_USER,user:S.user}),d({...h,signin:!1}),f(g?.state?.redirect||"/")}).catch(S=>{o(S.message),d({...h,signin:!1})})):(d({...h,signup:!0}),aD(ty,n,t).then(S=>{u({type:ti.SET_USER,user:S.user}),d({...h,signup:!1}),f(g?.state?.redirect||"/")}).catch(S=>{o(S.message),d({...h,signup:!1})}))};return U.jsxs("section",{className:Km.login,children:[U.jsx(Ei,{to:"/",children:U.jsx("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTAE2DsdF6RJ3eiqVxPqVmsDix7QsIkFS_sVA&s",alt:"amazon logo"})}),U.jsxs("div",{className:Km.login_container,children:[U.jsx("h1",{children:"Sign In"}),g?.state?.msg&&U.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontweight:"bold"},children:g?.state?.msg}),U.jsxs("form",{action:"",children:[U.jsxs("div",{children:[U.jsx("label",{htmlFor:"email",children:"Email"}),U.jsx("input",{value:n,onChange:v=>e(v.target.value),type:"email",id:"email"})]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"password",children:"Password"}),U.jsx("input",{value:t,onChange:v=>r(v.target.value),type:"password",id:"password"})]}),U.jsx("button",{type:"submit",onClick:_,name:"signin",className:Km.login_siginbtn,children:h.signin?U.jsx(pb,{color:"#000",size:15}):" Sign In"})]}),U.jsx("p",{children:"By sining-in you agre to the AMAZON FAKE CLONE conditions of use & sale.please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),U.jsxs("button",{type:"submit",onClick:_,name:"signup",className:Km.login_signupbtn,children:[" ",h.signup?U.jsx(pb,{color:"#000",size:15}):"Create your Amazon Account"]}),s&&U.jsx("small",{style:{paddingTop:"5px",color:"red"},children:s})]})]})}var Ok="basil",uW=function(e){return e===3?"v3":e},Dk="https://js.stripe.com",cW="".concat(Dk,"/").concat(Ok,"/stripe.js"),hW=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,fW=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var dW=function(e){return hW.test(e)||fW.test(e)},pW=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Dk,'"]')),t=0;t<e.length;t++){var r=e[t];if(dW(r.src))return r}return null},wx=function(e){var t="",r=document.createElement("script");r.src="".concat(cW).concat(t);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},mW=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})},Sf=null,Wm=null,Qm=null,gW=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},yW=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},_W=function(e){return Sf!==null?Sf:(Sf=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var s=pW();if(!(s&&e)){if(!s)s=wx(e);else if(s&&Qm!==null&&Wm!==null){var o;s.removeEventListener("load",Qm),s.removeEventListener("error",Wm),(o=s.parentNode)===null||o===void 0||o.removeChild(s),s=wx(e)}}Qm=yW(t,r),Wm=gW(r),s.addEventListener("load",Qm),s.addEventListener("error",Wm)}catch(u){r(u);return}}),Sf.catch(function(t){return Sf=null,Promise.reject(t)}))},vW=function(e,t,r){if(e===null)return null;var s=t[0],o=s.match(/^pk_test/),u=uW(e.version),h=Ok;o&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,t);return mW(d,r),d},Af,Nk=!1,kk=function(){return Af||(Af=_W(null).catch(function(e){return Af=null,Promise.reject(e)}),Af)};Promise.resolve().then(function(){return kk()}).catch(function(n){Nk||console.warn(n)});var EW=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Nk=!0;var s=Date.now();return kk().then(function(o){return vW(o,t,s)})};const a0=({children:n,msg:e,redirect:t})=>{const r=ry(),[{user:s}]=Q.useContext(na);return Q.useEffect(()=>{s||r("/auth",{state:{msg:e,redirect:t}})},[s,r,e,t]),n};a0.propTypes={children:Ne.node.isRequired,msg:Ne.string.isRequired,redirect:Ne.string.isRequired};const bW=EW("pk_test_51SAz3WGhm2eRUyYiXRvatKs1HPgmlhVAgmvSFLijKXSYSxYWyAo152ttrgc4XNEGobLHqrAxX8XnQ7ePF7O7t1je00nodNDNnE");function TW(){return U.jsx(ML,{children:U.jsxs(fL,{children:[U.jsx($a,{path:"/",element:U.jsx(_K,{})}),U.jsx($a,{path:"/auth",element:U.jsx(lW,{})}),U.jsx($a,{path:"/payment",element:U.jsx(a0,{msg:"you must log in to pay",redirect:"/payment",children:U.jsx(Ck,{stripe:bW,children:U.jsx(ZK,{})})})}),U.jsx($a,{path:"/orders",element:U.jsx(a0,{msg:"you must log in to see your orders",redirect:"/orders",children:U.jsx(CK,{})})}),U.jsx($a,{path:"/category/:categoryName",element:U.jsx(nW,{})}),U.jsx($a,{path:"/products/:productId",element:U.jsx(rW,{})}),U.jsx($a,{path:"/cart",element:U.jsx(AK,{})})]})})}function wW(){const[,n]=Q.useContext(na);return Q.useEffect(()=>{ty.onAuthStateChanged(e=>{n(e?{type:ti.SET_USER,user:e}:{type:ti.SET_USER,user:null})})},[n]),U.jsx(U.Fragment,{children:U.jsx(TW,{})})}const SW={basket:[],user:null},AW=(n,e)=>{switch(e.type){case ti.ADD_TO_BASKET:if(n.basket.find(r=>r.id===e.item.id)){const r=n.basket.map(s=>s.id===e.item.id?{...s,amount:s.amount+1}:s);return{...n,basket:r}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case ti.REMOVE_FROM_BASEKET:{const t=n.basket.findIndex(s=>s.id===e.id);let r=[...n.basket];return t>=0&&(r[t].amount>1?r[t]={...r[t],amount:r[t].amount-1}:r.splice(t,1)),{...n,basket:r}}case ti.EMPTY_BASKET:return{...n,basket:[]};case ti.SET_USER:return{...n,user:e.user};default:return n}},Mk=({children:n})=>U.jsx(na.Provider,{value:Q.useReducer(AW,SW),children:n});Mk.propTypes={children:Ne.node.isRequired};TV.createRoot(document.getElementById("root")).render(U.jsx(Q.StrictMode,{children:U.jsx(Mk,{reducer,initialState,children:U.jsx(wW,{})})}));
